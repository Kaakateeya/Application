/*
 kaakateeyaangularapplication 2016-12-07 
*/
"use strict";function getvalues(test){var countries=[];$.each($("#"+test+" option:selected"),function(){countries.push($(this).val())}),alert(JSON.stringify(countries))}app.filter("dateFilter",function(){return function(x){var i,c,txt="";for(i=0;i<x.length;i++)c=x[i],i%2===0&&(c=c.toUpperCase()),txt+=c;return txt}}),app.animation(".fade123",function(){return{enter:function(element,done){element.css("display","none"),$(element).fadeIn(1e3,function(){done()})},leave:function(element,done){$(element).fadeOut(1e3,function(){done()})},move:function(element,done){element.css("display","none"),$(element).slideDown(500,function(){done()})}}}),app.constant("arrayConstants",{MaritalStatus:[{label:"Unmarried",title:"Unmarried",value:43},{label:"Divorce",title:"Divorce",value:44},{label:"Widow/Widower",title:"Widow/Widower",value:45},{label:"Separated",title:"Separated",value:46}],height:[{label:"4'0 in - 122 cms",title:"4'0 in - 122 cms",value:1},{label:"4'1 in - 124 cms",title:"4'1 in - 124 cms",value:2},{label:"4'2 in - 127 cms",title:"4'2 in - 127 cms",value:3},{label:"4'3 in - 130 cms",title:"4'3 in - 130 cms",value:4},{label:"4'4 in - 132 cms",title:"4'4 in - 132 cms",value:5},{label:"4'5 in - 135 cms",title:"4'5 in - 135 cms",value:6},{label:"4'6 in - 137 cms",title:"4'6 in - 137 cms",value:7},{label:"4'7 in - 140 cms",title:"4'7 in - 140 cms",value:8},{label:"4'8 in - 142 cms",title:"4'8 in - 142 cms",value:9},{label:"4'9 in - 144 cms",title:"4'9 in - 144 cms",value:10},{label:"4'10 in - 147 cms",title:"4'10 in - 147 cms",value:11},{label:"4'11 in - 150 cms",title:"4'11 in - 150 cms",value:12},{label:"5'0 in - 152 cms",title:"5'0 in - 152 cms",value:13},{label:"5'1 in - 155 cms",title:"5'1 in - 155 cms",value:14},{label:"5'2 in - 157 cms",title:"5'2 in - 157 cms",value:15},{label:"5'3 in - 160 cms",title:"5'3 in - 160 cms",value:16},{label:"5'4 in - 162 cms",title:"5'4 in - 162 cms",value:17},{label:"5'5 in - 165 cms",title:"5'5 in - 165 cms",value:18},{label:"5'6 in - 167 cms",title:"5'6 in - 167 cms",value:19},{label:"5'7 in - 170 cms",title:"5'7 in - 170 cms",value:20},{label:"5'8 in - 172 cms",title:"5'8 in - 172 cms",value:21},{label:"5'9 in - 175 cms",title:"5'9 in - 175 cms",value:22},{label:"5'10 in - 177 cms",title:"5'10 in - 177 cms",value:23},{label:"5'11 in - 180 cms",title:"5'11 in - 180 cms",value:24},{label:"6'0 in - 183 cms",title:"6'0 in - 183 cms",value:25},{label:"6'1 in - 185 cms",title:"6'1 in - 185 cms",value:26},{label:"6'2 in - 188 cms",title:"6'2 in - 188 cms",value:27},{label:"6'3 in - 190 cms",title:"6'3 in - 190 cms",value:28},{label:"6'4 in - 193 cms",title:"6'4 in - 193 cms",value:29},{label:"6'5 in - 195 cms",title:"6'5 in - 195 cms",value:30},{label:"6'6 in - 198 cms",title:"6'6 in - 198 cms",value:31},{label:"6'7 in - 200 cms",title:"6'7 in - 200 cms",value:32},{label:"6'8 in - 203 cms",title:"6'8 in - 203 cms",value:33},{label:"6'9 in - 205 cms",title:"6'9 in - 205 cms",value:34},{label:"6'10 in - 208 cms",title:"6'10 in - 208 cms",value:35},{label:"6'11 in - 210 cms",title:"6'11 in - 210 cms",value:36},{label:"7'0 in - 213 cms",title:"7'0 in - 213 cms",value:37},{label:"7'1 in - 215 cms",title:"7'1 in - 215 cms\t",value:38},{label:"7'2 in - 218 cms",title:"7'2 in - 218 cms",value:39}],Religion:[{label:"--select--",title:"--select--",value:0},{label:"Hindu",title:"Hindu",value:1},{label:"Christian",title:"Christian",value:2},{label:"Muslim",title:"Muslim",value:3},{label:"Other",title:"Other",value:6},{label:"Catholic",title:"Catholic",value:9},{label:"Roma Catholic",title:"Roma Catholic",value:15},{label:"ROMAN CATHOLIC",title:"ROMAN CATHOLIC",value:16}],Mothertongue:[{label:"Telugu",title:"Telugu",value:1},{label:"Tamil",title:"Tamil",value:2},{label:"Kannada",title:"Kannada",value:3},{label:"Hindi",title:"Hindi",value:4},{label:"Punjabi",title:"Punjabi",value:5},{label:"Urdu",title:"Urdu",value:6},{label:"Lambadi",title:"Lambadi",value:7},{label:"Marati",title:"Marati",value:8},{label:"Gujaraathi",title:"Gujaraathi",value:9},{label:"English",title:"English",value:10},{label:"Malayalam",title:"Malayalam",value:11},{label:"Saurashtra",title:"Saurashtra",value:12},{label:"Orea",title:"Orea",value:13},{label:"telugu",title:"telugu",value:14}],educationcategory:[{label:"Bachelors in Engineering",title:"Bachelors in Engineering",value:1},{label:"Bachelors in Degree",title:"Bachelors in Degree",value:2},{label:"Diploma",title:"Diploma",value:3},{label:"Doctorate/phd",title:"Doctorate/phd",value:4},{label:"Masters in Engineering",title:"Masters in Engineering",value:5},{label:"Bachelors in Medicine",title:"Bachelors in Medicine",value:6},{label:"Masters in Degree",title:"Masters in Degree",value:7},{label:"Finance - ICWAI/CA/CS",title:"Finance - ICWAI/CA/CS",value:10},{label:"Union Public Service Commision-Civil Services",title:"Union Public Service Commision-Civil Services",value:11},{label:"Masters in Medicine",title:"Masters in Medicine",value:13},{label:"Below Graduation",title:"Below Graduation",value:15},{label:"Not given",title:"Not given",value:21},{label:"Other",title:"Other",value:22}],visastatus:[{label:"Student Visa",title:"Student Visa",value:284},{label:"Work Permit",title:"Work Permit",value:285},{label:"Temporary Visa",title:"Temporary Visa",value:286},{label:"Citizen",title:"Citizen",value:521},{label:"Permanent Resident",title:"Permanent Resident",value:522},{label:"Green Card",title:"Green Card",value:553}],stars:[{label:"Bharani",title:"Bharani",value:2},{label:"Krithika",title:"Krithika",value:3},{label:"Rohini",title:"Rohini",value:4},{label:"Mrigasira",title:"Mrigasira",value:5},{label:"Arudra",title:"Arudra",value:6},{label:"Punarvasu",title:"Punarvasu",value:7},{label:"Pushyami",title:"Pushyami",value:8},{label:"Aslesha",title:"Aslesha",value:9},{label:"Makha",title:"Makha",value:10},{label:"Pubba",title:"Pubba",value:11},{label:"Utharapalguni",title:"Utharapalguni",value:12},{label:"Hastham",title:"Hastham",value:13},{label:"Chitta",title:"Chitta",value:14},{label:"Swathi",title:"Swathi",value:15},{label:"Vishaka",title:"Vishaka",value:16},{label:"Anuradha",title:"Anuradha",value:18},{label:"Jesta",title:"Jesta",value:19},{label:"Moola",title:"Moola",value:20},{label:"Poorvashada",title:"Poorvashada",value:21},{label:"Utharashada",title:"Utharashada",value:22},{label:"Sravanam",title:"Sravanam",value:23},{label:"Dhanishta",title:"Dhanishta",value:24},{label:"Sathabisham",title:"Sathabisham",value:25},{label:"Poorvabadra",title:"Poorvabadra",value:26},{label:"Uthirabadra",title:"Uthirabadra",value:27},{label:"Revathi",title:"Revathi",value:28},{label:"Anuradha",title:"Anuradha",value:30},{label:"Arudra",title:"Arudra",value:31},{label:"Ashwini",title:"Ashwini",value:32},{label:"Aslesha",title:"Aslesha",value:33},{label:"Chitra",title:"Chitra",value:34},{label:"Dhanshita",title:"Dhanshita",value:35},{label:"Hasta",title:"Hasta",value:36},{label:"Jyehsta",title:"Jyehsta",value:37},{label:"Kritika",title:"Kritika",value:38},{label:"Magha",title:"Magha",value:39},{label:"Moola",title:"Moola",value:40},{label:"Mrigasira",title:"Mrigasira",value:41},{label:"Poorvabhadra",title:"Poorvabhadra",value:42},{label:"Poorvashadha",title:"Poorvashadha",value:43},{label:"Punarvasu",title:"Punarvasu",value:44},{label:"Poorvaphalguni",title:"Poorvaphalguni",value:45},{label:"Pushya",title:"Pushya",value:46},{label:"Satabisha",title:"Satabisha",value:47},{label:"Sravana",title:"Sravana",value:48},{label:"Swati",title:"Swati",value:49},{label:"Uttarashadha",title:"Uttarashadha",value:50},{label:"Uttarabhadrapada",title:"Uttarabhadrapada",value:51},{label:"Uttaraphalguni",title:"Uttaraphalguni",value:52},{label:"Visakha",title:"Visakha",value:53},{label:"Uttara",title:"Uttara",value:54},{label:"Uttarabhadra",title:"Uttarabhadra",value:55}],Priority:[{label:"--select--",title:"--select--",value:0},{label:"HighPriority",title:"HighPriority",value:69},{label:"MediumPriority",title:"MediumPriority",value:70},{label:"LowPriority",title:"LowPriority",value:71}],catgory:[{label:"--select--",title:"--select--",value:0},{label:"Login",title:"Login",value:374},{label:"Siteerror",title:"Siteerror",value:375},{label:"Feed Back",title:"Feed Back",value:376},{label:"Registration",title:"Registration",value:401},{label:"Fees Details",title:"Fees Details",value:402},{label:"Success Stories",title:"Success Stories",value:403},{label:"Other",title:"Other",value:404},{label:"Forgot Password",title:"Forgot Password",value:405},{label:"Billings",title:"Billings",value:406},{label:"Photos",title:"Photos",value:407},{label:"MatchMeeting",title:"MatchMeeting",value:430},{label:"MatchFollowup",title:"MatchFollowup",value:460},{label:"Reviews",title:"Reviews",value:461},{label:"Marketing",title:"Marketing",value:462},{label:"SettledDeletedProfiles",title:"SettledDeletedProfiles",value:474},{label:"Report Abuse",title:"Report Abuse",value:515}],region:[{label:"--Select--",title:"--Select--",value:""},{label:"Telangana",title:"Telangana",value:1},{label:"Andhra Pradesh",title:"Andhra Pradesh",value:408},{label:"Tamilnadu",title:"Tamilnadu",value:409},{label:"Karnataka",title:"Karnataka",value:410},{label:"Panducherry",title:"Panducherry",value:2}],bodyType:[{label:"--Select--",title:"--Select--",value:""},{label:"Athletic",title:"Athletic",value:21},{label:"Average",title:"Average",value:22},{label:"Slim",title:"Slim",value:23},{label:"Heavy",title:"Heavy",value:24},{label:"Doesn't Matter",title:"Doesn't Matter",value:37}],bloodGroup:[{label:"--Select--",title:"--Select--",value:""},{label:"O+",title:"O+",value:61},{label:"A+",title:"A+",value:63},{label:"B+",title:"B+",value:64},{label:"AB+",title:"AB+",value:65},{label:"O-",title:"O-",value:66},{label:"A-",title:"A-",value:67},{label:"B-",title:"B-",value:68}],healthCondition:[{label:"--Select--",title:"--Select--",value:""},{label:"No Health Problems",title:"No Health Problems",value:220},{label:"HIV",title:"HIV",value:222},{label:"Diabetes",title:"Diabetes",value:223},{label:"LowBP",title:"LowBP",value:224},{label:"HighBP",title:"HighBP",value:225},{label:"Heart Ailments",title:"Heart Ailments",value:226}],lagnam:[{label:"--Select--",title:"--Select--",value:""},{label:"Dhansu",title:"Dhansu",value:1},{label:"Kanya",title:"Kanya",value:2},{label:"Karkatakam",title:"Karkatakam",value:3},{label:"Khumbam",title:"Khumbam",value:4},{label:"Makhram",title:"Makhram",value:5},{label:"Meenam",title:"Meenam",value:6},{label:"Mesham",title:"Mesham",value:7},{label:"Midhunam",title:"Midhunam",value:8},{label:"Simham",title:"Simham",value:9},{label:"Thula",title:"Thula",value:10},{label:"Vrichikam",title:"Vrichikam",value:11},{label:"Vrushabam",title:"Vrushabam",value:12}],ZodaicSign:[{label:"--Select--",title:"--Select--",value:""},{label:"mesha",title:"mesha",value:527},{label:"vrushaba",title:"vrushaba",value:528},{label:"midhuna",title:"midhuna",value:529},{label:"karkataka",title:"karkataka",value:530},{label:"Simha",title:"Simha",value:531},{label:"Kanya",title:"Kanya",value:532},{label:"Thula",title:"Thula",value:533},{label:"Vruchika",title:"Vruchika",value:534},{label:"Dhanu",title:"Dhanu",value:535},{label:"Makara",title:"Makara",value:536},{label:"Kumbha",title:"Kumbha",value:537},{label:"Meena",title:"Meena",value:538}],paadam:[{label:"--Select--",title:"--Select--",value:""},{label:"1",title:"1",value:304},{label:"2",title:"2",value:305},{label:"3",title:"3",value:306},{label:"4",title:"4",value:539}],familyStatus:[{label:"--Select--",title:"--Select--",value:""},{label:"Lower Middle Class",title:"Lower Middle Class",value:290},{label:"Middle Class",title:"Middle Class",value:291},{label:"Upper Middle Class",title:"Upper Middle Class",value:292},{label:"Rich",title:"Rich",value:293},{label:"Affluent",title:"Affluent",value:294},{label:"Others",title:"Others",value:516},{label:"High Class",title:"High Class",value:517}],RelationshipType:[{label:"--Select--",title:"--Select--",value:""},{label:"Friend",title:"Friend",value:318},{label:"Relative",title:"Relative",value:319},{label:"Not Given",title:"Not Given",value:549}],starLanguage:[{label:"--Select--",title:"--Select--",value:""},{label:"Telugu",title:"Telugu",value:1},{label:"Tamil",title:"Tamil",value:2},{label:"Kannada",title:"Kannada",value:3}]}),app.constant("config",function(){return{dbPath:"",imagepath:"",select:0}}),app.directive("angularMultiselect",["$injector","authSvc","successstoriesdata",function($injector,authSvc,successstoriesdata){authSvc.getCustId(),authSvc.getProfileid();return{restrict:"E",scope:{array:"=",type:"=",model:"="},templateUrl:"templates/angualarMaterialmultiselect.html",link:function(scope,element,attrs){scope.Caste=void 0!==scope.array&&""!==scope.array&&null!==scope.array?scope.array:[],scope.selectall=function(){scope.model.length===scope.Caste.length?scope.model=[]:(0===scope.model.length||scope.model.length>0)&&_.each(scope.Caste,function(item){scope.model.push(item.value)})},scope.isChecked=function(){return scope.model.length===scope.Caste.length},scope.exists=function(item){return scope.Caste.indexOf(item)>-1},element.find("input").on("keydown",function(ev){ev.stopPropagation()}),scope.$watch("array",function(){scope.Caste=void 0!==scope.array&&""!==scope.array&&null!==scope.array?scope.array:[]}),scope.directivechangeevent=function(model){scope.$emit("directivechangeevent",model,scope.type)}}}}]),app.factory("dependencybind",["SelectBindServiceApp",function(SelectBindService){var modalpopupopen;return{open:function(url,scope,uibModal){modalpopupopen=uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:url,scope:scope})},closepopup:function(){modalpopupopen.close()},listSelectedVal:function(val){var str=null;return null!==val&&(str=angular.isString(val)?""===val?null:val:val.join(",")),str},StateBind:function(parentval){var stateArr=[];return SelectBindService.stateSelect(parentval).then(function(response){_.each(response.data,function(item){stateArr.push({label:item.Name,title:item.Name,value:item.ID})})}),stateArr},districtBind:function(parentval){var disttrictArr=[];return disttrictArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.districtSelect(parentval).then(function(response){_.each(response.data,function(item){disttrictArr.push({label:item.Name,title:item.Name,value:item.ID})})}),disttrictArr},cityBind:function(parentval){var cityeArr=[];return cityeArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.citySelect(parentval).then(function(response){_.each(response.data,function(item){cityeArr.push({label:item.Name,title:item.Name,value:item.ID})})}),cityeArr},professionBind:function(parentval){var professionArr=[];return professionArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.ProfessionSpecialisation(parentval).then(function(response){_.each(response.data,function(item){professionArr.push({label:item.Name,title:item.Name,value:item.ID})})}),professionArr},educationGroupBind:function(parentval){var educationGroupArr=[];return SelectBindService.EducationGroup(parentval).then(function(response){_.each(response.data,function(item){educationGroupArr.push({label:item.Name,title:item.Name,value:item.ID})})}),educationGroupArr},educationSpeciakisationBind:function(parentval){var educationSpecialArr=[];return educationSpecialArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.EducationSpecialisation(parentval).then(function(response){_.each(response.data,function(item){educationSpecialArr.push({label:item.Name,title:item.Name,value:item.ID})})}),educationSpecialArr},numbersBind:function(str,from,to){var numArr=[];numArr.push({label:"--select--",title:"--select--",value:""});for(var i=from;i<=to;i++)numArr.push({label:i+" "+str,title:i+" "+str,value:i});return numArr},numberBindWithZeros:function(str,from,to){var y,numArr=[];numArr.push({label:str,title:str,value:""});for(var x=from;x<=to;x++)y=x<10?"0"+x:x,numArr.push({label:y,title:y,value:parseInt(y)});return numArr},starBind:function(parentval){var starArr=[];return SelectBindService.stars(parentval).then(function(response){_.each(response.data,function(item){starArr.push({label:item.Name,title:item.Name,value:item.ID})})}),starArr},casteDepedency:function(parentval1,parentval2){var casteArr=[];return SelectBindService.castedependency(parentval1,parentval2).then(function(response){_.each(response.data,function(item){casteArr.push({label:item.Name,title:item.Name,value:item.ID})})}),casteArr},subCaste:function(parentval1){var subcasteArr=[];return subcasteArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.subCasteBind(parentval1).then(function(response){_.each(response.data,function(item){subcasteArr.push({label:item.Name,title:item.Name,value:item.ID})})}),subcasteArr},branch:function(parentval1){var branchArr=[];return branchArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.branch(parentval1).then(function(response){_.each(response.data,function(item){branchArr.push({label:item.Name,title:item.Name,value:item.ID})})}),branchArr},showConfirm:function(ev,mdDialog,header,okTxt,cancelTxt){var confirm=mdDialog.confirm().title(header).ariaLabel("Lucky day").cancel(cancelTxt).ok(okTxt);return confirm},checkvals:function(val){return void 0!==val&&null!==val&&""!==val}}}]),app.factory("alert",["$mdDialog",function($mdDialog){var modalinstance;return{open:function(msg,classname){switch(classname=classname||"success",toastr.options={closeButton:!0,debug:!0,newestOnTop:!0,progressBar:!0,positionClass:app.global.alertType,preventDuplicates:!1,showDuration:"300",hideDuration:"1000",timeOut:5e3,extendedTimeOut:2e3,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut",onclick:null},classname){case"success":toastr.success(msg,"done");break;case"error":toastr.error(msg,"Oops");break;case"warning":toastr.warning(msg,"Alert");break;case"info":toastr.info(msg,"Info");break;default:toastr.success(msg,"Done")}},dynamicpopup:function(url,scope,uibModal,custid,size){modalinstance=uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:url,scope:scope,size:size||"lg"})},dynamicpopupclose:function(){modalinstance.close()},showloginpopup:function(){$mdDialog.show({controller:DialogController,templateUrl:"login.html",parent:angular.element(document.body),clickOutsideToClose:!0})},mddiologcancel:function(){$mdDialog.hide()}}}]),app.directive("forgotPassword",["authSvc","customerProfilesettings","alert","$mdDialog",function(authSvc,customerProfilesettings,alerts,$mdDialog){authSvc.getCustId(),authSvc.getProfileid();return{restrict:"E",scope:{arrayphotos:"="},templateUrl:"templates/forgotPasswordDirective.html",link:function(scope,element,attrs){function forgetcontroller($scope,$mdDialog){$scope.cancel=function(){$mdDialog.cancel()},$scope.forgotpasswordsubmit=function(form){customerProfilesettings.forgotpassword(form.txtforgetemail).then(function(response){1==response.data?(alerts.open("Mail sent to your email, To reset your password check your mail.","success"),$mdDialog.cancel()):2==response.data?alerts.open("Invalid Matrimony ID OR  E-mail-ID.","warning"):alerts.open("Invalid Matrimony ID OR  E-mail-ID.","warning")})}}scope.showforgetpassword=function(){$mdDialog.show({controller:forgetcontroller,templateUrl:"forgetpassword.html",parent:angular.element(document.body),clickOutsideToClose:!0})},scope.$on("showforgetpassword",function(event){scope.showforgetpassword()})}}}]),app.directive("multiselectdropdown",["arrayConstants","SelectBindServiceApp",function(cons,service){return{require:"ng-model",scope:{ngModel:"=",typeofdata:"=",parentVal:"="},link:function(scope,element,attrs){switch(scope.options=[],scope.databind=function(data){element.multiselect("dataprovider",data)},scope.typeofdata){case"MaritalStatus":scope.databind(cons.MaritalStatus);break;case"height":scope.databind(cons.height);break;case"Religion":scope.databind(cons.Religion);break;case"Mothertongue":scope.databind(cons.Mothertongue);break;case"educationcategory":scope.databind(cons.educationcategory);break;case"visastatus":scope.databind(cons.visastatus);break;case"stars":scope.databind(cons.stars);break;case"region":scope.databind(cons.region);break;case"bodyType":scope.databind(cons.bodyType);break;case"bloodGroup":scope.databind(cons.bloodGroup);break;case"healthCondition":scope.databind(cons.healthCondition);break;case"starLanguage":scope.databind(cons.starLanguage);break;case"lagnam":scope.databind(cons.lagnam);break;case"ZodaicSign":scope.databind(cons.ZodaicSign);break;case"paadam":scope.databind(cons.paadam);break;case"familyStatus":scope.databind(cons.familyStatus);break;case"RelationshipType":scope.databind(cons.RelationshipType);break;case"Country":service.countrySelect().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"ProfCatgory":service.ProfessionCatgory().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"ProfGroup":service.ProfessionGroup().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"indiaStates":service.stateSelect("1").then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"countryCode":service.countryCodeselect().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"caste":service.casteselect().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"Caste":service.casteselect().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:0}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"currency":service.currency().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"catgory":scope.databind(cons.catgory);break;case"Priority":scope.databind(cons.Priority)}element.multiselect({buttonClass:"btn",buttonWidth:"auto",inheritClass:!0,includeSelectAllOption:!0,disableIfEmpty:!0,nonSelectedText:"Any",allSelectedText:"All Selected",selectAllText:"Check all!",enableFiltering:!0,enableCaseInsensitiveFiltering:!0,filterPlaceholder:"Type To Search",buttonContainer:'<div class="btn-group" />',maxHeight:!1,select:["1","2"]}),scope.$watch(function(){return element[0].length},function(){scope.$applyAsync(element.multiselect("rebuild"))}),scope.$watch(attrs.ngModel,function(){element.multiselect("refresh")})}}}]),app.directive("partnerData",["$injector","authSvc","successstoriesdata","$mdDialog",function($injector,authSvc,successstoriesdata,$mdDialog){var logincustid=authSvc.getCustId(),loginprofileid=authSvc.getProfileid(),currentslide=1;return{restrict:"E",scope:{array:"=",typeofsearch:"="},templateUrl:"templates/Commonpartnerprofiles.html",link:function(scope,element,attrs){scope.searchestype=scope.typeofsearch,scope.typeofdiv="Grid",scope.slideshowsearches=!1,scope.playpausebuttons=!0,scope.pauseplaybuttons=!0,scope.partnersearchessearches=!0,scope.lnkLastSlide=1,scope.LoginPhotoIsActive=sessionStorage.getItem("LoginPhotoIsActive"),scope.startindex=1,scope.endindex=9,scope.flag=9,scope.loaderspin=!1,scope.Norowsend=!1,scope.PartnerProfilesnew=scope.array,scope.indexvalues=0;scope.directivepaging=function(){scope.loaderspin=!0,scope.loadmore=!1,scope.flag+=9,scope.startindex=scope.flag-8,scope.endindex=scope.flag,scope.$emit("directivecallingpaging",scope.startindex,scope.endindex)},scope.$on("loadmore",function(event,endflag){scope.loaderspin=!1,scope.array.length>0&&(scope.endindex=scope.array[0].TotalRows>scope.endindex==!0?scope.endindex:scope.array[0].TotalRows,scope.loadmore=scope.array[0].TotalRows>scope.endindex,scope.Norowsend=scope.array[0].TotalRows===scope.endindex)}),scope.$watch("array",function(value){scope.PartnerProfilesnew=scope.array,scope.array.length>0&&(scope.loadmore=scope.array[0].TotalRows>9||scope.array[0].TotalRows>scope.endindex,scope.Norowsend=scope.array[0].TotalRows<9||scope.array[0].TotalRows<scope.endindex,scope.startindex=1,scope.endindex=9,scope.flag=9)}),scope.listclick=function(){scope.typeofdiv="List",$(".search_result_items_main").attr("style","width:80%;"),scope.slideshowsearches=!1,scope.playpausebuttons=!0,scope.pauseplaybuttons=!0,scope.partnersearchessearches=!0,scope.searchestype=!1},scope.gridclick=function(){scope.typeofdiv="Grid",$(".search_result_items_main").attr("style",""),scope.slideshowsearches=!1,scope.playpausebuttons=!0,scope.pauseplaybuttons=!0,scope.partnersearchessearches=!0,scope.searchestype=!1},scope.servicehttp=function(type,object){return $injector.invoke(function($http){return $http.post(app.apiroot+"CustomerService/CustomerServiceBal",object).then(function(response){switch(console.log(response),type){case"B":1==response.data?(scope.array.splice(scope.indexvalues,1),scope.$emit("incrementcounts"),scope.$emit("successfailer","bookmarked suceessfully","success")):scope.$emit("successfailer","bookmarked failed","warning");break;case"E":1==response.data?(scope.array.splice(scope.indexvalues,1),scope.$emit("successfailer","EXpressInterest done SuccessFully","success")):scope.$emit("successfailer","EXpressInterest Fail","warning");break;case"I":1==response.data?(scope.array.splice(scope.indexvalues,1),scope.$emit("successfailer","Ignore SuccessFully","success")):scope.$emit("successfailer","Ignore profile Fail","warning");break;case"M":case"TH":case"RP":1==response.data?scope.$emit("successfailer","Message sent SuccessFully","success"):scope.$emit("successfailer","Message sending Fail","warning")}})})},scope.serviceactions=function(type,tocustid,typeofactionflag,profileid,form,logid,MessageHistoryId){if(void 0!==logincustid&&null!==logincustid&&""!==logincustid){var object=(scope.indexvalues,{IFromCustID:logincustid,IToCustID:tocustid,TypeofInsert:type,EncriptedText:null,EncryptedRejectFlagText:null,EncriptedTextrvr:null,EncryptedRejectFlagTextrvr:null,StrHtmlText:void 0!==form?form.message:null,MessageLinkId:void 0!==typeofactionflag?typeofactionflag:null,MessageHistoryId:void 0!==MessageHistoryId?MessageHistoryId:null,Logid:void 0!==logid?logid:null,FromProfileID:loginprofileid,ToProfileID:void 0!==profileid?profileid:null});scope.servicehttp(type,object)}else scope.$emit("showloginpopup")},scope.$on("sendmsg",function(event,type,tocustid,typeofactionflag,form,logid,MessageHistoryId){scope.serviceactions(type,tocustid,typeofactionflag,void 0,form,logid,MessageHistoryId),scope.$emit("modalpopupclose",event)}),scope.sendmessegescommon=function(type,tocustid){scope.$emit("popuplogin","myModalContent.html",tocustid)},scope.redirectToviewfullprofile=function(custid,logid){scope.$emit("redirectToviewfullprofiles",custid,logid)},scope.photoRequestMethod=function(tocustid,toprofileieid,password){return password=null!==password&&""!==password?468:467,$injector.invoke(function($http){return $http.get(app.apiroot+"StaticPages/getSendMail_PhotoRequest_Customer",{params:{FromCustID:tocustid,ToCustID:logincustid,Category:password}}).then(function(response){console.log(response),1===response.data?scope.$emit("successfailer","Request sent suceessfully","success"):scope.$emit("successfailer","Request sent Fail","warning")})})},scope.photoalbum=function(custid,profileid,photocount){scope.$emit("photoalbumopen",custid,profileid,photocount)},scope.divclassmask=function(logphotostatus,photo,photocount){return successstoriesdata.maskclasspartner(logphotostatus,photo,photocount)},scope.indexvalue=function(index){scope.indexvalues=index},scope.modifyursearch=function(){scope.$emit("modifyursearchpartner",1,10)},scope.checkitemnew=function(carouselID){var $this;$this=$("#"+carouselID),$("#"+carouselID+" .carousel-inner .item:first").hasClass("active")?($("#"+carouselID).find(".left").hide(),$("#"+carouselID).find(".right").show()):$("#"+carouselID+" .carousel-inner .item:last").hasClass("active")?($("#"+carouselID).find(".left").show(),$("#"+carouselID).find(".right").hide()):($("#"+carouselID).find(".left").show(),$("#"+carouselID).find(".right").show())},scope.ArrowMove=function(carouselID){$(document).bind("keyup",function(e){var totalItems=$("#"+carouselID).find(".item").length,currentIndex=$("#"+carouselID).find("div.active").index()+1;39==e.which?totalItems!=currentIndex&&$("#"+carouselID).carousel("next"):37==e.which&&1!=currentIndex&&$("#"+carouselID).carousel("prev")})},scope.checkitemGlobal=function(carouselID){var checkitem=function(){scope.checkitemnew(carouselID)};$("#"+carouselID).on("slid.bs.carousel","",checkitem)},scope.pageload=function(carouselID,curProfileID,totalrecordsID,lnkLastSlide,playButtonID,pauseButtonID){var totalItems=$("#"+carouselID).find(".item").length;0===totalItems&&(scope.$emit("slideshowsubmit",1,10),scope.checkitemnew(carouselID)),scope.ArrowMove(carouselID),scope.checkitemGlobal(carouselID)},scope.pageloadslidebind=function(){$(".list-inline li a").removeClass("selected"),$("[id=carousel-selector-"+$("#slideShowCarousel").find("div.active").index()+"]").addClass("selected");var totalItems1=$("#slideShowCarousel").find(".item").length,currentIndex1=$("#slideShowCarousel").find("div.active").index()+1;scope.playpausebuttons===!1&&($("#slideShowCarousel").carousel("pause"),scope.playpausebuttons=!1,scope.pauseplaybuttons=!0),$("#slideShowCarousel").find("div.active").index(),scope.lnkLastSlide=currentIndex1,currentslide<currentIndex1&&(void 0!==logincustid&&null!==logincustid&&""!==logincustid?parseInt(totalItems1)-parseInt(currentIndex1)===4&&(scope.$emit("slideshowsubmit",totalItems1+1,totalItems1+10),$("#slideShowCarousel .carousel-inner .item:first").hasClass("active")&&($("#slideShowCarousel").find(".left").show(),$("#slideShowCarousel").find(".right").show())):parseInt(totalItems1)-parseInt(currentIndex1)===0&&scope.$emit("showloginpopup")),currentslide=currentIndex1},scope.pageloadslide=function(){var totalItems=$("#slideShowCarousel").find(".item").length;if(0===totalItems)return scope.$emit("slideshowsubmit",1,10),$("#slideShowCarousel .carousel-inner .item:first").hasClass("active")&&($("#slideShowCarousel").find(".left").show(),$("#slideShowCarousel").find(".right").show()),!1;scope.pageloadslidebind(),$("#slideShowCarousel").carousel({interval:2e3,pause:"false"});var checkitem=function(){scope.checkitemnew("slideShowCarousel")};$("#slideShowCarousel").on("slid.bs.carousel","",checkitem)},scope.Slideshowpage=function(){scope.slideshowsearches=!0,scope.playpausebuttons=!1,scope.partnersearchessearches=!1,scope.searchestype=!0,scope.loadmore=!1,scope.pageloadslide(),scope.checkitemnew("slideShowCarousel"),scope.pageload("slideShowCarousel","lblcurrentprofile","lblcurSlide","lnkLastSlide","playButton","pauseButton"),$("#slideShowCarousel").carousel("pause")},scope.playslide=function(){scope.playpausebuttons=!0,scope.pauseplaybuttons=!1,$("#slideShowCarousel").carousel({
interval:2e3,pause:"false"})},scope.pauseslide=function(){scope.playpausebuttons=!1,scope.pauseplaybuttons=!0,$("#slideShowCarousel").carousel("pause")},scope.nextslide=function(){scope.pageloadslidebind()},scope.prevslide=function(){$(".list-inline li a").removeClass("selected"),$("[id=carousel-selector-"+$("#slideShowCarousel").find("div.active").index()+"]").addClass("selected");var currentIndex1=($("#slideShowCarousel").find(".item").length,$("#slideShowCarousel").find("div.active").index()+1);$("#slideShowCarousel").find("div.active").index(),scope.lnkLastSlide=currentIndex1}}}}]),app.directive("photoPopupalbum",["$injector","authSvc","successstoriesdata","$uibModal",function($injector,authSvc,successstoriesdata,uibModal){var modalinstance;authSvc.getCustId(),authSvc.getProfileid();return{restrict:"E",scope:{arrayphotos:"="},templateUrl:"templates/photopopup.html",link:function(scope,element,attrs){scope.arrayphotos;1===scope.arrayphotos&&(modalinstance=uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"photopopup.html",size:"lg"})),scope.closepopup=function(){modalinstance.close()}}}}]),app.directive("setClassWhenAtTop",function($window){var $win=angular.element($window);return{restrict:"A",link:function(scope,element,attrs){var topClass=attrs.setClassWhenAtTop,offsetTop=element.offset().top;$win.on("scroll",function(e){element[$win.scrollTop()>=offsetTop?"addClass":"removeClass"](topClass)})}}}),app.controller("Controllerpartner",["$uibModal","$scope","customerDashboardServices","authSvc","alert","$window","$location","successstoriesdata",function(uibModal,scope,customerDashboardServices,authSvc,alerts,window,$location,successstoriesdata){var logincustid=authSvc.getCustId();authSvc.getProfileid(),authSvc.getpaidstatus();scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,scope.typeodbind="C",scope.typeofdiv="Grid",scope.PartnerProfilesnew=[],scope.counts=1,scope.bindallcounts={},scope.lblUHaveviewd="Suitable Profiles that match you",scope.staticNotification=["New profiles waiting for you from last month","your photograph has been viewed by members"],scope.chatstatus=null,scope.form={},scope.slides=[],scope.gettingpartnerdata=function(type,frompage,topage,headertext,bindvalue){null!==bindvalue&&0!==bindvalue&&"profile"!==bindvalue?(scope.flag=1===frompage?9:scope.flag,scope.typeodbind=type,"C"===type?customerDashboardServices.getCustomercounts(scope.custid,type,frompage,topage).then(function(response){console.log(response),1===scope.counts&&(sessionStorage.removeItem("LoginPhotoIsActive"),scope.bindcounts(response.data.DashBoardCounts),console.log(response.data.DashBoardCounts),scope.bindallcounts=response.data.DashBoardCounts,scope.PersonalInfo=response.data.PersonalInfo,console.log(response.data.PersonalInfo),scope.photopersonal=scope.PersonalInfo.Photo,scope.LoginPhotoIsActive=scope.PersonalInfo.IsActive,sessionStorage.setItem("LoginPhotoIsActive",scope.PersonalInfo.IsActive),scope.Gendercustomer=2===scope.PersonalInfo.GenderID?"Groom":"Bride"),1===parseInt(frompage)?(scope.PartnerProfilesnew=[],scope.typeofdiv="Grid",_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item)})):_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item)}),scope.$broadcast("loadmore"),scope.PartnerProfilesnewTotalrows=null!==response.data.PartnerProfilesnew&&void 0!==response.data.PartnerProfilesnew?response.data.PartnerProfilesnew[0].TotalRows:0,scope.lblUHaveviewd=headertext}):customerDashboardServices.getcustomerpartnerdata(scope.custid,type,frompage,topage).then(function(response){1===parseInt(frompage)?(scope.PartnerProfilesnew=[],scope.typeofdiv="Grid",_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item)})):_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item)}),scope.$broadcast("loadmore"),scope.PartnerProfilesnewTotalrows=null!==response.data.PartnerProfilesnew&&void 0!==response.data.PartnerProfilesnew?response.data.PartnerProfilesnew[0].TotalRows:0,scope.lblUHaveviewd=headertext})):"profile"==bindvalue||scope.zerorecorsalert()},scope.init=function(){scope.gettingpartnerdata("C",1,9,"Suitable Profiles that match you",1)},scope.paging=function(frompage,topage,typeodbind){scope.counts=0,typeodbind="C"==typeodbind?"P":typeodbind,scope.gettingpartnerdata(typeodbind,frompage,topage,scope.lblUHaveviewd,1)},scope.$on("directivecallingpaging",function(event,frompage,topage){scope.paging(frompage,topage,scope.typeodbind)}),scope.bindcounts=function(array){scope.leftMenuArr=[{value:"Edit my profile",bindvalue:"profile",hrefs:"#/editview"},{value:"Upgrade your membership",bindvalue:"profile",hrefs:"/#UpgradeMembership"},{value:"manage photo",bindvalue:null,hrefs:"/#home"},{value:"My bookmarked profiles",bindvalue:array.MybookMarkedProfCount,clickvalues:"MB",clickvaluesbind:"Profiles Who BookMarked You",hrefs:"/#home"},{value:"Who bookmarked me",bindvalue:array.WhobookmarkedCount,clickvalues:"WB",clickvaluesbind:"Profiles you have bookmarked",hrefs:"/#home"},{value:"Profiles viewed by me",bindvalue:array.RectViewedProfCount,clickvalues:"RV",clickvaluesbind:"Profiles viewed by me",hrefs:"/#home"},{value:"My profile viewed by others",bindvalue:array.RectWhoViewedCout,clickvalues:"WV",clickvaluesbind:"Members viewed my profile",hrefs:"/#home"},{value:"Ignored profiles",bindvalue:array.IgnoreProfileCount,clickvalues:"I",clickvaluesbind:"Profiles ignored by you",hrefs:"/#home"},{value:"Saved search",bindvalue:"profile",hrefs:"/#home"},{value:"Profile Settings",bindvalue:"profile",hrefs:"/#profilesettings"},{value:"help",bindvalue:"profile",hrefs:"/#help"}]};var TypeOfReportexpress=null,yourFilterexpress=null,oppfilterexpress=null;scope.flagexpress=9,scope.expressinterestselect=function(count,TypeOfReport,yourFilter,oppfilter,frompage,topage,headertext,typeofinterest,eventclick){if(0!==count){null!==eventclick&&(scope.click=eventclick),"1"===headertext||"2"===headertext||"3"===headertext?(scope.flagexpress=9,"1"===headertext?(yourFilterexpress=scope.expressmyinterest.indexOf("I interesed in")!==-1?"I":null,oppfilterexpress=scope.expressmyinterest.indexOf("I interesed in")==-1?"I":null,TypeOfReportexpress=scope.expressmyinterest.indexOf("I interesed in")!==-1?"R":"S"):"2"===headertext?(yourFilterexpress=scope.expressmynotinterest.indexOf("I skipped")!==-1?"NI":null,oppfilterexpress=scope.expressmynotinterest.indexOf("I skipped")==-1?"NI":null,TypeOfReportexpress=scope.expressmynotinterest.indexOf("I skipped")!==-1?"R":"S"):(yourFilterexpress=scope.expressmynotviewed.indexOf("I Viewed/NotViewed")!==-1?"V,NV":null,oppfilterexpress=scope.expressmynotviewed.indexOf("I Viewed/NotViewed")==-1?"V,NV":null,TypeOfReportexpress=scope.expressmynotviewed.indexOf("I Viewed/NotViewed")!==-1?"R":"S")):null===headertext?(scope.flagexpress=9,TypeOfReportexpress=TypeOfReport,yourFilterexpress=yourFilter,oppfilterexpress=oppfilter):(TypeOfReportexpress=TypeOfReport,yourFilterexpress=yourFilter,oppfilterexpress=oppfilter),scope.startindexexpress=1===frompage?1:scope.startindexexpress,scope.endindexexpress=1===frompage?9:scope.endindexexpress;var exp={IntCustID:scope.custid,TypeOfReport:TypeOfReportexpress,yourFilter:yourFilterexpress,oppfilter:oppfilterexpress,pagefrom:scope.startindexexpress,pageto:scope.endindexexpress};customerDashboardServices.getexpressintersetdata(exp).then(function(response){console.log(response.data),1===parseInt(frompage)?(scope.PartnerProfilesnew=[],_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)}),"All Profiles"===typeofinterest?(scope.click="",scope.flagexpress=9,scope.typeofdiv="All Profiles"===headertext?"Expressinterest":"Expressinterestsend",scope.expressmyinterest="R"===TypeOfReport?"I interesed in":scope.Gendercustomer+" interesed",scope.expressmynotinterest="R"===TypeOfReport?"I skipped":scope.Gendercustomer+" skipped",scope.expressmynotviewed="R"===TypeOfReport?"I Viewed/NotViewed":scope.Gendercustomer+" Viewed/NotViewed",null!==scope.PartnerProfilesnew[0]&&void 0!==scope.PartnerProfilesnew[0]&&null!==scope.PartnerProfilesnew[0]&&(scope.expressmyinterestcount="R"===TypeOfReport?scope.PartnerProfilesnew[0].YouProceed:scope.PartnerProfilesnew[0].OppProceed,scope.expressmynotinterestcount="R"===TypeOfReport?scope.PartnerProfilesnew[0].Youskipped:scope.PartnerProfilesnew[0].Oppskipped,scope.expressmynotviewedcount="R"===TypeOfReport?scope.PartnerProfilesnew[0].YouPending:scope.PartnerProfilesnew[0].Opppending,scope.YouProceed=scope.PartnerProfilesnew[0].YouProceed,scope.Youskipped=scope.PartnerProfilesnew[0].Youskipped,scope.YouPending=scope.PartnerProfilesnew[0].YouPending,scope.OppProceed=scope.PartnerProfilesnew[0].OppProceed,scope.Oppskipped=scope.PartnerProfilesnew[0].Oppskipped,scope.Opppending=scope.PartnerProfilesnew[0].Opppending,scope.PartnerProfilesnewTotalrows=void 0!==response.data[0]&&null!==response.data[0]&&""!==response.data[0]?response.data[0].TotalRows:0,scope.lblUHaveviewd="R"===TypeOfReport?"Interest Expressed By "+scope.Gendercustomer:headertext,scope.totalrows=scope.PartnerProfilesnew[0].TotalRows,scope.loadmoreexpress=scope.PartnerProfilesnew[0].TotalRows>9,scope.Norowsendexpress=scope.PartnerProfilesnew[0].TotalRows===scope.endindexexpress||scope.PartnerProfilesnew[0].TotalRows<scope.endindexexpress)):null!==scope.PartnerProfilesnew[0]&&void 0!==scope.PartnerProfilesnew[0]&&null!==scope.PartnerProfilesnew[0]&&(scope.totalrows=scope.PartnerProfilesnew[0].TotalRows,scope.loadmoreexpress=scope.PartnerProfilesnew[0].TotalRows>9,scope.Norowsendexpress=scope.PartnerProfilesnew[0].TotalRows===scope.endindexexpress||scope.PartnerProfilesnew[0].TotalRows<scope.endindexexpress)):_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})})}else scope.zerorecorsalert()},app.animation(".slideexpress",function(){var NG_HIDE_CLASS="ng-hide";return{beforeAddClass:function(element,className,done){className===NG_HIDE_CLASS&&element.slideUp(done)},removeClass:function(element,className,done){className===NG_HIDE_CLASS&&element.hide().slideDown(done)}}}),scope.zerorecorsalert=function(){alerts.open("Sorry No Records Found","warning")},scope.successfaileralert=function(msg,typewarning){alerts.open(msg,typewarning)},scope.$on("successfailer",function(event,msg,typewarning){scope.successfaileralert(msg,typewarning)}),scope.messagecustid="",scope.$on("popuplogin",function(event,url,custid){scope.modalpopupheadertext="Enter your message here",scope.messagecustid="",scope.messagecustid=custid,scope.modalbodyshow=1,scope.buttonname="Send Message",alerts.dynamicpopup(url,scope,uibModal)}),scope.viewcontacts=function(custid,empmobile,empemail,custmobile,custemail){customerDashboardServices.getprofilegrade(custid).then(function(response){if(console.log(response),null!==response.data&&void 0!==response.data)if(3===response.data){var mobilenumbers="<b>Mobile number : </b> "+custmobile+"<br/> <b>Emails :</b>"+custemail;alerts.open(mobilenumbers,"success")}else{var mobilenumber="<p style='color:black;'> Please Contact The Below Relationship Manager As This Client Hasn't Given Authentication To Show Untill They Agree</p><br><b>Relationship Manager Mobile number : </b> "+empmobile+"<br/> <b>Relationship Manager Emails :</b>"+empemail;alerts.open(mobilenumber,"warning")}})},scope.Tickethistoryarray=[],scope.messagetorm=function(typeofdiv,custid,name,profileid,logid,TicketID){switch(typeofdiv){case"TH":scope.modalbodyshow=2,scope.modalpopupheadertext="Enter your message to Relationship Manager for match followup",alerts.dynamicpopup("myModalContent.html",scope,uibModal);break;case"Ticket":scope.modalbodyshow=3,scope.buttonname="MessageToRM",scope.LogID=logid,scope.messagecustid=custid,scope.modalpopupheadertext="Match Followup Of "+name+"("+profileid+")",alerts.dynamicpopup("myModalContent.html",scope,uibModal),customerDashboardServices.Tickethistory(TicketID,"H").then(function(response){console.log(response),scope.Tickethistoryarray=[],_.each(response.data,function(item){scope.Tickethistoryarray.push(item)})});break;case"RM":scope.modalbodyshow=2,scope.LogID=logid,scope.messagecustid=custid,scope.modalpopupheadertext="Enter your message to Relationship Manager for match followup",alerts.dynamicpopup("myModalContent.html",scope,uibModal)}},scope.sendmessages=function(form){scope.$broadcast("sendmsg","M",scope.messagecustid,void 0,form,void 0)},scope.sendmessagesRMM=function(form){alerts.dynamicpopupclose(),scope.$broadcast("sendmsg","TH",scope.messagecustid,void 0,form,scope.LogID)},scope.loadmorehideshow=function(){scope.PartnerProfilesnew.length>0&&(scope.endindexexpress=scope.totalrows>scope.endindexexpress==!0?scope.endindexexpress:scope.totalrows,scope.loadmoreexpress=scope.totalrows>scope.endindexexpress,scope.Norowsendexpress=scope.totalrows===scope.endindexexpress)},scope.chatsdiv=function(fromindex,toindex,status,headertext,countalert){if(0!==countalert){1===fromindex&&(scope.flagexpress=9,scope.lblUHaveviewd=headertext,scope.typeofdiv="chats",scope.chatstatus=status);var object={CustID:scope.custid,Status:scope.chatstatus,iStartIndex:fromindex,iEndIndex:toindex};customerDashboardServices.getCustometDashBoardchats(object).then(function(response){scope.PartnerProfilesnewTotalrows=void 0!==response.data[0]&&null!==response.data[0]&&""!==response.data[0]?response.data[0].TotalRows:0,1===parseInt(fromindex)?(scope.PartnerProfilesnew=[],_.each(response.data,function(item){scope.PartnerProfilesnew.push(item),scope.totalrows=scope.PartnerProfilesnew[0].TotalRows,scope.loadmoreexpress=scope.PartnerProfilesnew[0].TotalRows>9,scope.Norowsendexpress=scope.PartnerProfilesnew[0].TotalRows===scope.endindexexpress||scope.PartnerProfilesnew[0].TotalRows<scope.endindexexpress})):_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})})}else scope.zerorecorsalert()},scope.receivesrecphotoss=function(fromindex,toindex,type,headertext,typeofdiv,countalert){0!==countalert?(1===fromindex&&(scope.flagexpress=9,scope.lblUHaveviewd=headertext,scope.typeofdiv=typeofdiv,scope.chatstatus=type),customerDashboardServices.getcustomerpartnerdata(scope.custid,scope.chatstatus,fromindex,toindex).then(function(response){scope.PartnerProfilesnewTotalrows=null!==response.data.PartnerProfilesnew&&void 0!==response.data.PartnerProfilesnew[0]&&null!==response.data.PartnerProfilesnew[0]&&""!==response.data.PartnerProfilesnew[0]?response.data.PartnerProfilesnew[0].TotalRows:0,1===parseInt(fromindex)?(scope.PartnerProfilesnew=[],_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item),scope.totalrows=scope.PartnerProfilesnew[0].TotalRows,scope.loadmoreexpress=scope.PartnerProfilesnew[0].TotalRows>9,scope.Norowsendexpress=scope.PartnerProfilesnew[0].TotalRows===scope.endindexexpress||scope.PartnerProfilesnew[0].TotalRows<scope.endindexexpress})):_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item)})})):scope.zerorecorsalert()},scope.allloadmorepaging=function(){switch(scope.spinexpress=!0,scope.Norowsendexpress=!1,scope.flagexpress+=9,scope.startindexexpress=scope.flagexpress-8,scope.endindexexpress=scope.flagexpress,scope.loadmorehideshow(),scope.typeofdiv){case"Expressinterest":case"Expressinterestsend":scope.expressinterestselect(1,TypeOfReportexpress,yourFilterexpress,oppfilterexpress,scope.startindexexpress,scope.endindexexpress),scope.spinexpress=!1;break;case"chats":scope.chatsdiv(scope.startindexexpress,scope.endindexexpress),scope.spinexpress=!1;break;case"Requestphotos":case"RequestPassword":scope.receivesrecphotoss(scope.startindexexpress,scope.endindexexpress),scope.spinexpress=!1}},scope.modalpopupclose=function(){alerts.dynamicpopupclose()},scope.$on("modalpopupclose",function(event){alerts.dynamicpopupclose()}),scope.redirectToviewfull=function(custid,logid){sessionStorage.removeItem("localcustid"),sessionStorage.removeItem("locallogid"),sessionStorage.setItem("localcustid",custid),sessionStorage.setItem("locallogid",logid);var realpath="#/viewFullProfileCustomer";window.open(realpath,"_blank")},scope.$on("redirectToviewfullprofiles",function(event,custid,logid){scope.redirectToviewfull(custid,logid)}),scope.communicationmessageshistory=function(messagechatlinkid,messagechatcustid,messagehistoryid){scope.messagechatlinkid=messagechatlinkid,scope.messagechatcustid=messagechatcustid,scope.messagehistoryid=messagehistoryid,alerts.dynamicpopup("mytickethistory.html",scope,uibModal);var obj={CustID:scope.custid,MessageStatusID:null,MessageLinkId:messagechatlinkid,i_PageSize:15,i_PageNumber:1,i_StartIndex:1,i_EndIndex:15,MessageID:null};scope.arraytickethistory=[],customerDashboardServices.communicationhistorychats(obj).then(function(response){console.log(response),_.each(response.data,function(item){scope.arraytickethistory.push(item)})})},scope.SubmitMsg=function(form){scope.$broadcast("sendmsg","RP",scope.messagechatcustid,scope.messagechatlinkid,form,void 0,scope.messagehistoryid)},scope.photoPasswordactionss=function(type,tocustid){customerDashboardServices.photopasswordactioninsert(scope.custid,tocustid,type).then(function(response){console.log(response),1===response.data?1===type?alerts.open("Accepted successfully","success"):alerts.open("Rejected successfully","success"):1===type?alerts.open("sorry Accepted Fail","warning"):alerts.open("sorry Rejected Fail","warning")})},scope.acceptlink=function(type){customerDashboardServices.acceptrejectexpressinterest(scope.custid,scope.expressintcustid,scope.expressintlogid,type,null).then(function(response){1===response.data?alerts.open("Proceed successfully","success"):alerts.open("sorry Proceed Fail","warning"),alerts.dynamicpopupclose()})},scope.acceptlinkexp=function(type,custid,logid){customerDashboardServices.acceptrejectexpressinterest(scope.custid,custid,logid,type,null).then(function(response){console.log(response),1===response.data?alerts.open("Proceed successfully","success"):alerts.open("sorry Proceed Fail","warning"),alerts.dynamicpopupclose()})},scope.acceptrejectpopup=function(custid,logid,Name){scope.modalpopupheadertext=Name+" Status",scope.expressintcustid=custid,scope.expressintlogid=logid,scope.modalbodyshow=4,alerts.dynamicpopup("myModalContent.html",scope,uibModal)},scope.$on("photoalbumopen",function(event,custid,profileid,photocount){alerts.dynamicpopup("photopopup.html",scope,uibModal),customerDashboardServices.getphotoslideimages(custid).then(function(response){scope.slides=[],console.log(response),_.each(response.data,function(item){scope.slides.push(item)})})}),scope.divclassmaskforall=function(logphotostatus,photo,photocount){return successstoriesdata.maskclasspartner(logphotostatus,photo,photocount)},scope.incrementsdashboardcounts=function(){customerDashboardServices.getCustomercounts(scope.custid,"COU",1,9).then(function(response){scope.bindcounts(response.data.DashBoardCounts),scope.bindallcounts=response.data.DashBoardCounts})},scope.$on("incrementcounts",function(){scope.incrementsdashboardcounts()})}]),app.controller("footercontrol",["$scope","authSvc",function(scope,authSvc){scope.showforgetpasswordpopup=function(){scope.$broadcast("showforgetpassword")}}]),app.controller("headctrl",["$scope","authSvc","Idle","alert","$uibModal",function(scope,authSvc,ngIdle,alertpopup,uibModal){scope.showhidetestbuttons=function(){var datatinfo=authSvc.user();""!==datatinfo.custid&&void 0!==datatinfo.custid&&null!==datatinfo.custid?(scope.loginstatus=!1,scope.loginoutstatus=!0,scope.usernamepersonal=datatinfo.username,scope.profileid=datatinfo.profileid,scope.paidstatus=1==datatinfo.paidstatus?"Paid":"unpaid",scope.profilepic=datatinfo.profilepic,scope.withlogin=!0,scope.withoutlogin=!1):(scope.loginstatus=!0,scope.loginoutstatus=!1,scope.usernamepersonal="",scope.profileid="",scope.paidstatus="",scope.profilepic="",scope.withlogin=!1,scope.withoutlogin=!0)},scope.$on("IdleTimeout",function(){alertpopup.dynamicpopup("sessionalert.html",scope,uibModal,"sm")}),scope.acceptcontinue=function(){ngIdle.setIdle(300),alertpopup.dynamicpopupclose()},scope.closesession=function(){authSvc.logout(),alertpopup.dynamicpopupclose()},scope.loginstatus=!0,scope.loginoutstatus=!1,scope.loginpopup=!1,scope.withlogin=!1,scope.withoutlogin=!0,scope.showhidetestbuttons(),scope.divloginblock=function(){scope.loginpopup=!0,$(".login_block_header").toggle()},scope.validate=function(){return scope.username.indexOf("@")!=-1?!!scope.ValidateEmail(scope.username)||(scope.username="",alert(" Please enter valid ProfileID/Email"),!1):!(!scope.Validatnumber(scope.username)||9!=scope.username.length)||(alert("Please enter valid ProfileID/Email"),scope.username="",!1)},scope.loginsubmit=function(){return""===scope.username||null===scope.username||"ProfileID/EmailID"===scope.username?(alert("Please enter user name"),!1):""===scope.password||null===scope.password||"Enter the Password"===scope.password?(alert("Please enter password"),!1):void(scope.validate()&&authSvc.login(scope.username,scope.password).then(function(response){authSvc.user(null!==response.response?response.response[0]:null);authSvc.getCustId();window.location="#/home",scope.loginpopup=!1,scope.showhidetestbuttons()}))},scope.ValidateEmail=function(email){var expr=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return expr.test(email)},scope.Validatnumber=function(num){var expr1=/[0-9 -()+]+$/;return expr1.test(num)},scope.ClearlocalStorage=function(){authSvc.logout()},scope.redirectTohome=function(){var realpath="#/home";window.open(realpath,"_self")},scope.viewfullmyprofile=function(){var custidlogin=authSvc.getCustId();sessionStorage.removeItem("localcustid"),sessionStorage.removeItem("locallogid"),sessionStorage.setItem("localcustid",custidlogin);var realpath="#/viewFullProfileCustomer";window.open(realpath,"_self")}}]),app.controller("home",["$scope","homepageservices","authSvc","successstoriesdata","$mdDialog",function(scope,homepageservices,authSvc,successstoriesdata,$mdDialog){scope.fromge=1,scope.topage=5,scope.homeinit=function(){successstoriesdata.suceessdataget(scope.fromge,scope.topage).then(function(response){scope.successstoriesarray=response.data})},scope.Age=function(){scope.test=[],scope.test=[{label:"--Select--",title:"--select--",value:"0"}];for(var i=18;i<78;i++)scope.test.push({label:i+" years",title:i+" years",value:i});return scope.test},scope.gender="2",scope.arrayAge=scope.Age(),scope.Religion="Religion",scope.Country="Country",scope.Caste="Caste",scope.divloginblock=function(){$(".login_block_header").toggle()},scope.emailss="/^([w-.]+@([w-]+.)+[w-]{2,4})?$/",scope.validate=function(){return scope.username.indexOf("@")!=-1?!!scope.ValidateEmail(scope.username)||(scope.username="",alert(" Please enter valid ProfileID/Email"),!1):!(!scope.Validatnumber(scope.username)||9!=scope.username.length)||(alert("Please enter valid ProfileID/Email"),scope.username="",!1)},scope.loginsubmit=function(){return""===scope.username||null===scope.username||"ProfileID/EmailID"===scope.username?(alert("Please enter user name"),!1):""===scope.password||null===scope.password||"Enter the Password"===scope.password?(alert("Please enter password"),!1):void(scope.validate()&&authSvc.login(scope.username,scope.password).then(function(response){authSvc.user(null!==response.response?response.response[0]:null),window.location="#/home"}))},scope.ValidateEmail=function(email){var expr=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return expr.test(email)},scope.Validatnumber=function(num){var expr1=/[0-9 -()+]+$/;return expr1.test(num)},scope.ValidatequickRegister=function(){var srchobject={};srchobject.intCusID=null,srchobject.strCust_id=null,srchobject.intGender=scope.gender,srchobject.FromAge=scope.Agefrom,srchobject.ToAge=scope.Ageto,srchobject.iFromHeight=null,srchobject.iToHeight=null,srchobject.Maritalstatus=null,srchobject.intReligionID=scope.religion,srchobject.MotherTongue=null,srchobject.Caste=scope.caste,srchobject.iPhysicalstatus=null,srchobject.Complexion=null,srchobject.Country=scope.country,srchobject.State=null,srchobject.Visastatus=null,srchobject.Educationcategory=null,srchobject.Education=null,srchobject.Professiongroup=null,srchobject.iFromSal=null,srchobject.iToSal=null,srchobject.iManglinkKujaDosham=null,srchobject.iStarLanguage=null,srchobject.Stars=null,srchobject.iDiet=null,srchobject.intPhotoCount=null,srchobject.StartIndex=null,srchobject.EndIndex=null,srchobject.i_Registrationdays=null,srchobject.iAnnualincome=null,srchobject.flagforurl=null,srchobject.SavedSearch=null,srchobject.SearchPageID=null,srchobject.PageName=null,srchobject.SavedSearchresultid=null,srchobject.Searchresult=null,sessionStorage.setItem("homepageobject",JSON.stringify(srchobject));var realpath="#/General";window.open(realpath,"_self")},scope.showforgetpasswordpopup=function(){scope.$broadcast("showforgetpassword")}}]),app.controller("mobileverifyController",function(){}),app.controller("payment",function(){}),app.controller("paymentresponse",["$scope",function(scope){scope.pageloadpayment=function(){scope.paymentobject=JSON.parse(sessionStorage.getItem("paymentobject")),console.log(scope.paymentobject)},scope.backtopayment=function(){var realpath="#/UpgradeMembership";window.open(realpath,"_self")}}]),app.controller("registration",function(){}),app.controller("registrationReg",function(){}),app.controller("advancesearchCtrl",["$scope",function(scope){scope.data=[]}]),app.controller("Generalsearch",["$scope","arrayConstants","SelectBindServiceApp","searches","alert","$uibModal","dependencybind","customerDashboardServices","authSvc","$mdDialog","$location",function(scope,arrayConstants,service,searches,alerts,uibModal,commonFactory,customerDashboardServices,authSvc,$mdDialog,$location){function DialogController($scope,$mdDialog){$scope.cancel=function(){$mdDialog.cancel()},$scope.validate=function(){return $scope.username.indexOf("@")!==-1?!!$scope.ValidateEmail($scope.username)||($scope.username="",alert(" Please enter valid ProfileID/Email"),!1):!(!$scope.Validatnumber($scope.username)||9!==$scope.username.length)||(alert("Please enter valid ProfileID/Email"),$scope.username="",!1)},$scope.loginsubmit=function(){return""===$scope.username||null===$scope.username||"ProfileID/EmailID"===$scope.username?(alert("Please enter user name"),!1):""===$scope.password||null===$scope.password||"Enter the Password"===$scope.password?(alert("Please enter password"),!1):void($scope.validate()&&authSvc.login($scope.username,$scope.password).then(function(response){authSvc.user(null!==response.response?response.response[0]:null);authSvc.getCustId();window.location="#/home",$scope.cancel()}))},$scope.ValidateEmail=function(email){var expr=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return expr.test(email)},$scope.Validatnumber=function(num){var expr1=/[0-9 -()+]+$/;return expr1.test(num)}}scope.searchTerm=0,scope.selectcaste=0,scope.PartnerProfilesnew=[],scope.truepartner=!0,scope.showcontrols=!0;var SearchRequest=0,logincustid=authSvc.getCustId();scope.typesearch="",scope.savedsearchselect=[],scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null;var searchObjectquery=$location.search();scope.selectedIndex=searchObjectquery.selectedIndex,scope.changeBindsearhes=function(type,parentval,parentval2){switch(type){case"Country":scope.State=commonFactory.StateBind(parentval);break;case"EducationCatgory":scope.Educationgroup=commonFactory.educationGroupBind(parentval);break;case"caste":scope.Caste=[],scope.Caste=commonFactory.casteDepedency(parentval,parentval2.toString());break;case"star":scope.stars=commonFactory.starBind(parentval)}},scope.savedsearchselectmethod=function(custid,SaveSearchName,iEditDelete){searches.savedsearchselectmethod(custid,SaveSearchName,iEditDelete).then(function(response){_.each(response.data,function(item){scope.savedsearchselect.push(item)})}),0===iEditDelete&&searches.savedsearchselectmethod(custid,"",1).then(function(response){_.each(response.data,function(item){scope.savedsearchselect.push(item)})})},scope.partnerbindings=function(response){console.log(response.data),scope.gender=1===response.data.intGender?2:1,scope.AgeFrom=response.data.Ageto,scope.Ageto=response.data.Agefrom,scope.HeightFrom=response.data.Heightto,scope.Heightto=response.data.Heightfrom,scope.maritalstatus=response.data.Maritalstatus.split(","),scope.educationcat=response.data.Educationcategory.split(","),scope.country=response.data.Country.split(","),scope.religion=response.data.Religion,scope.mothertongue=response.data.MotherTongue.split(","),scope.Caste=commonFactory.casteDepedency(response.data.Religion,response.data.MotherTongue),scope.caste=null!==response.data.Caste?response.data.Caste.split(","):"0",scope.castetext=response.data.CasteText,scope.physicalstatusadvance=response.data.PhysicalStatusstring,scope.State=commonFactory.StateBind(response.data.Country),scope.stateadvance=null!==response.data.State?response.data.State.split(","):"0",scope.Educationgroup=commonFactory.educationGroupBind(response.data.Educationcategory),scope.Educationadvance=null!==response.data.Education?response.data.Education.split(","):"0",scope.starsadvance=null!==response.data.Stars?response.data.Stars.split(","):"0"},scope.generalpageload=function(){scope.object=JSON.parse(sessionStorage.getItem("homepageobject")),scope.Age=function(){scope.test=[],scope.test=[{label:"--Select--",title:"--select--",value:"0"}];for(var i=18;i<78;i++)scope.test.push({label:i+" years",title:i+" years",value:i});return scope.test},scope.arrayAge=scope.Age(),scope.height=arrayConstants.height,scope.MaritalStatus=arrayConstants.MaritalStatus,scope.educationcategory=arrayConstants.educationcategory,service.countrySelect().then(function(response){scope.Country=[],_.each(response.data,function(item){scope.Country.push({label:item.Name,title:item.Name,value:item.ID})})}),scope.Religion=arrayConstants.Religion,scope.Mothertongue=arrayConstants.Mothertongue,scope.visastatus=arrayConstants.visastatus,service.ProfessionGroup().then(function(response){scope.Professiongroup=[],_.each(response.data,function(item){scope.Professiongroup.push({label:item.Name,title:item.Name,value:item.ID})})}),service.currency().then(function(response){scope.Currency=[],_.each(response.data,function(item){scope.Currency.push({label:item.Name,title:item.Name,value:item.ID})})}),scope.stars=arrayConstants.stars,void 0!==scope.custid&&""!==scope.custid&&null!==scope.custid?(searches.partnerdetails(scope.custid,"","").then(function(response){console.log(response.data),scope.partnerbindings(response)}),scope.savedsearchselectmethod(scope.custid,"",1)):void 0!==scope.object&&null!==scope.object&&null!==scope.object?(scope.gender=1===scope.object.intGender?2:1,scope.AgeFrom=scope.object.FromAge,scope.Ageto=scope.object.ToAge,scope.country=scope.object.Country,scope.religion=scope.object.intReligionID,scope.caste=null!==scope.object.Caste?scope.object.Caste:"0",scope.generalsearchsubmit("general",1,9)):(scope.gender=null,scope.AgeFrom=18,scope.Ageto=30,scope.religion=1)},scope.clearSearchTerm=function(){scope.searchTerm=""},scope.returnnullvalue=function(value){var obj=null!==value&&void 0!==value&&""!==value?value.toString():null;return obj},scope.submitobjectcommongenad=function(frompage,topage){return SearchRequest={intCusID:scope.custid,strCust_id:null!==scope.custid?scope.custid:"",intGender:scope.gender,FromAge:scope.AgeFrom,ToAge:scope.Ageto,iFromHeight:scope.HeightFrom,iToHeight:scope.Heightto,Maritalstatus:scope.returnnullvalue(scope.maritalstatus),intReligionID:scope.religion,MotherTongue:scope.returnnullvalue(scope.mothertongue),Caste:scope.returnnullvalue(scope.caste),iPhysicalstatus:"advanced"===scope.typesearch?scope.physicalstatusadvance:null,Complexion:null,Country:scope.returnnullvalue(scope.country),State:"advanced"===scope.typesearch?scope.returnnullvalue(scope.stateadvance):null,
Visastatus:"advanced"===scope.typesearch?scope.returnnullvalue(scope.visastatusadvance):null,Educationcategory:scope.returnnullvalue(scope.educationcat),Education:"advanced"===scope.typesearch?scope.returnnullvalue(scope.Educationadvance):null,Professiongroup:"advanced"===scope.typesearch?scope.returnnullvalue(scope.Professiongroupadvance):null,iFromSal:"advanced"===scope.typesearch?scope.fromcurrency:null,iToSal:"advanced"===scope.typesearch?scope.tocurrency:null,iManglinkKujaDosham:"advanced"===scope.typesearch?scope.kujadosham:null,iStarLanguage:"advanced"===scope.typesearch?scope.starlanguage:null,Stars:"advanced"===scope.typesearch?scope.returnnullvalue(scope.starsadvance):null,iDiet:"advanced"===scope.typesearch?scope.diet:null,intPhotoCount:scope.isCheckedphoto===!0?1:null,StartIndex:frompage,EndIndex:topage,i_Registrationdays:"advanced"===scope.typesearch?scope.regdays:null,iAnnualincome:"advanced"===scope.typesearch?scope.monthsalcurrency:null,flagforurl:null,SavedSearch:null,SearchPageID:null,PageName:null,SavedSearchresultid:null,Searchresult:null}},scope.generalsearchsubmit=function(type,frompage,topage,form){switch(scope.showcontrols=!1,scope.truepartner=!1,type){case"advanced":case"general":scope.typesearch=type,searches.CustomerGeneralandAdvancedSearchsubmit(scope.submitobjectcommongenad(frompage,topage)).then(function(response){1===parseInt(frompage)?(scope.PartnerProfilesnew=[],_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})):_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})}),scope.$broadcast("loadmore");break;case"profileid":scope.typesearch=type,SearchRequest={intCusID:scope.custid,intGender:scope.gender,strLastName:scope.lastname,strFirstName:scope.firstname,strProfileID:scope.profileid,intCasteID:null,StartIndex:frompage,EndIndex:topage},searches.profileidsearch(SearchRequest).then(function(response){1===parseInt(frompage)?(scope.PartnerProfilesnew=[],_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})):_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})}),scope.$broadcast("loadmore");break;case"savedsearch":scope.submitobjectcommongenad(frompage,topage),scope.submitsavedsearchobject={customerpersonaldetails:SearchRequest,GetDetails:{CustID:null!==scope.custid?scope.custid:"",Lookingfor:scope.gender,FromAge:scope.AgeFrom,ToAge:scope.Ageto,FromHeight:scope.HeightFrom,ToHeight:scope.Heightto,Maritalstatus:scope.returnnullvalue(scope.maritalstatus),Religion:scope.religion,Mothertongue:scope.returnnullvalue(scope.mothertongue),Caste:scope.returnnullvalue(scope.caste),Complexion:null,Physicalstatus:"advanced"===type?scope.physicalstatusadvance:null,CountyWorking:scope.returnnullvalue(scope.country),StateWorking:"advanced"===type?scope.returnnullvalue(scope.stateadvance):null,Visastatus:"advanced"===type?scope.returnnullvalue(scope.visastatusadvance):null,Educationcategory:scope.returnnullvalue(scope.educationcat),EducationGroup:"advanced"===type?scope.returnnullvalue(scope.Educationadvance):null,Educationspecialization:null,professioncategory:null,Professiongroup:"advanced"===type?scope.returnnullvalue(scope.Professiongroupadvance):null,Professionspecialization:null,Annualincome:"advanced"===type?scope.monthsalcurrency:null,FromSalary:"advanced"===type?scope.fromcurrency:null,ToSalary:"advanced"===type?scope.tocurrency:null,Starlanguage:"advanced"===type?scope.starlanguage:null,Star:"advanced"===type?scope.returnnullvalue(scope.starsadvance):null,ManglikKujaDosham:"advanced"===type?scope.kujadosham:null,Drink:null,Smoke:null,Diet:"advanced"===type?scope.diet:null,Registrationdays:"advanced"===type?scope.regdays:null,CustSavedSearchName:null!==form.savesearchNames&&void 0!==form.savesearchNames&&""!==form.savesearchNames?form.savesearchNames:null,searchPageName:"advanced"===type?"Advancesearch":"Generalsearch",searchPageID:"advanced"===type?"3":"2",SearchResult_ID:null}},searches.CustomerGeneralandAdvancedSavedSearch(scope.submitsavedsearchobject).then(function(response){1===parseInt(frompage)?(scope.PartnerProfilesnew=[],_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})):_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})}),scope.$broadcast("loadmore");break;case"profileidsavedsearch":SearchRequest={intCusID:scope.custid,intGender:scope.gender,strLastName:scope.lastname,strFirstName:scope.firstname,strProfileID:scope.profileid,intCasteID:null,StartIndex:frompage,EndIndex:topage},scope.submitprofileidsavedsearchobject={customerpersonaldetails:SearchRequest,GetDetails:{CustID:null!==scope.custid?scope.custid:"",Lookingfor:scope.gender,ProfileID:scope.profileid,FirstName:scope.firstname,LastName:scope.lastname,CustSavedSearchName:null!==form.savesearchNames&&void 0!==form.savesearchNames&&""!==form.savesearchNames?form.savesearchNames:null,searchPageName:"ProfileIDsearch",searchPageID:"1",SearchResult_ID:null}},searches.CustomerProfileIDSavedSearch(scope.submitprofileidsavedsearchobject).then(function(response){1===parseInt(frompage)?(scope.PartnerProfilesnew=[],_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})):_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})}),scope.$broadcast("loadmore"),alerts.dynamicpopupclose()}},scope.savedseapopup=function(type){scope.typesearch=type,alerts.dynamicpopup("savedsearch.html",scope,uibModal)},scope.modalpopupclose=function(){alerts.dynamicpopupclose()},scope.$on("modifyursearchpartner",function(event){scope.showcontrols=!0,scope.truepartner=!0}),scope.$on("slideshowsubmit",function(event,frompageslide,topageslide){scope.generalsearchsubmit(scope.typesearch,frompageslide,topageslide)}),scope.$on("directivechangeevent",function(event,modal,type){switch(type){case"Country":scope.State=commonFactory.StateBind(modal);break;case"EducationCatgory":scope.Educationgroup=commonFactory.educationGroupBind(modal);break;case"caste":scope.Caste=[],scope.Caste=commonFactory.casteDepedency(scope.religion,modal.toString());break;case"star":scope.stars=commonFactory.starBind(modal)}}),scope.$on("directivecallingpaging",function(event,frompage,topage){null!==scope.custid&&void 0!==scope.custid&&""!==scope.custid?scope.generalsearchsubmit(scope.typesearch,frompage,topage):scope.showloginpopup()}),scope.refinesubmit=function(){scope.generalsearchsubmit(scope.typesearch,1,9)},scope.hightFromrefine=function(){scope.HeightFromtext=scope.checkheight(scope.HeightFrom)},scope.hightTorefine=function(){scope.Heighttotext=scope.checkheight(scope.Heightto)},scope.checkheight=function(value){var values;return values=checknumber(value)};var numberInRange=function(number,lower,upper){return number>=lower&&number<=upper},checknumber=function(value){return numberInRange(value,0,11)?"4'"+value+" in":numberInRange(value,12,23)?(value%=12,"5'"+value+" in"):numberInRange(value,24,35)?(value%=24,"6'"+value+" in"):numberInRange(value,36,41)?(value%=36,"7'"+value+" in"):void 0};scope.showloginpopup=function(){$mdDialog.show({controller:DialogController,templateUrl:"login.html",parent:angular.element(document.body),clickOutsideToClose:!0})},scope.$on("showloginpopup",function(){scope.showloginpopup()}),scope.gettingsavedsearcheditsearch=function(type,SearchResult_ID,SearchpageID){switch(type){case"search":var typeofsearch;searches.partnerdetails(scope.custid,"",SearchResult_ID).then(function(response){scope.partnerbindings(response),typeofsearch="1"===SearchpageID?"profileid":"2"===SearchpageID?"general":"advanced",scope.generalsearchsubmit(typeofsearch,1,9,"")});break;case"edit":searches.partnerdetails(scope.custid,"",SearchResult_ID).then(function(response){scope.partnerbindings(response),scope.showcontrols=!0,scope.truepartner=!0,"1"===SearchpageID?(typeofsearch="profileid",scope.selectedIndex=2):"2"===SearchpageID?(typeofsearch="general",scope.selectedIndex=0):(typeofsearch="advanced",scope.selectedIndex=1)})}}}]),app.controller("profileidsrch",["$scope",function(scope){scope.data=[]}]),app.controller("savedsearchCtrl",["$scope",function(scope){scope.data=[]}]),app.controller("aboutus",["$scope",function(scope){}]),app.controller("AccordionDemoCtrl",["$scope",function(scope){scope.groups=[{title:"Dynamic Group Header - 1",content:"Dynamic Group Body - 1",open:!1},{title:"Dynamic Group Header - 2",content:"Dynamic Group Body - 2",open:!1}],scope.addNew=function(){scope.groups.push({title:"New One Created",content:"Dynamically added new one",open:!1})}}]),app.controller("ModalDemoCtrl",function($uibModal,$log,$scope){$scope.ddlvals="aaaa";var $ctrl=this;$scope.items=["item1","item2","item3"],$scope.obj1=[{label:"aaaa",title:"aaaa",value:"1"},{label:"bbb",title:"bbb",value:"2"},{label:"ccc",title:"ccc",value:"3"},{label:"ddd",title:"ddd",value:"4"}],$scope.selectedvals=[2,3],$ctrl.animationsEnabled=!0,$ctrl.open=function(size){$uibModal.open({animation:$ctrl.animationsEnabled,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",controllerAs:"$ctrl",size:size,resolve:{items:function(){return $ctrl.items}}})},$scope.DropDownChnaged=function(){$scope.DropDownStatus=$scope.dropValue}}),app.controller("ModalInstanceCtrl",function($uibModalInstance,items,$scope){var $ctrl=this;$ctrl.items=items,$ctrl.selected={item:$ctrl.items[0]},$scope.obj1=[{label:"aaaa",title:"aaaa",value:"1"},{label:"bbb",title:"bbb",value:"2"},{label:"ccc",title:"ccc",value:"3"},{label:"ddd",title:"ddd",value:"4"}],$ctrl.ok=function(){$uibModalInstance.close($ctrl.selected.item)},$ctrl.cancel=function(){$uibModalInstance.dismiss("cancel")}}),app.controller("faqs",["$scope",function(scope){scope.filters={search:""},scope.arrayfaqs=[{questons:"How do I Bookmark profile?",answers:"In every view profile you will find the book mark option for future reference before you express interest to filter suitable profiles"},{questons:"How do I delete my profile? (Manage Profile)",answers:"You can delete your profile including your picture by clicking on Delete Profile in the services page after you login. You have to login to your account to delete your profilfre.4r554r"},{questons:"How do I edit profile?",answers:"You can edit details by going to Menu bar?MY ACCOUNT?EDIT PROFILE.(Note: You can edit all the fields except Name, Lastname, Date of Birth, Height & Caste. If you want to edit them contact us @ 91-40-30666666."},{questons:"How do I ignore profile and how do I remove ignore profile from the list?",answers:"In every view profile your will find an ignore profile(with (X) Into symbol)to avoid profile from your list. All ignored profiles list can be checked in the Option MATCHES?IGNORED PROFILES(Note: You cannot remove ignored profile completely but you can either bookmark or express interest)"},{questons:"How do I overwrite an existing photo? (Photograph)",answers:"Go to Manage photo ,delete the existing photo first to upload new recent photo which will be processed during the business hours and made visible ."},{questons:"How do I register?",answers:"Click www.kaakateeya.com and get registered for whom your searching(Bride/Groom) with the details"},{questons:"How do I restrict other members from viewing my Profile? (Manage Profile)",answers:"Click on Hide profile in the profile settlings in my account menu option"},{questons:"How do I Upload my Photograph and which format is acceptable?",answers:"You can upload upto 3 photographs of JPEG or jpgFormat by going to Menu bar?MY ACCOUNT?MANAGE PHOTO and upload photo. We will activate your photo within 24 hours after we review it. If you experience any issues in uploading your photo please send us at photos@telugumarriages.com or send them through WHATSAPP 9848535373 with your PROFILE ID and we will upload it for you."},{questons:"How to show interest",answers:"to show interest to a profile which suits your re-quirements click on Express interest after you completely view that profile ,then proceed if its ok"},{questons:"I am a FREE Member. Can I send any email messages to other members? (Contact Members)",answers:"If you are registered as a FREE member you cannot send Email Messages to other Members."},{questons:"I am a FREE service member. How do I upgrade my profile? (Paid Member)",answers:"Log on to www.kaakateeya.comgo to Menu bar?MY PACKAGE?UPGRADE MEMBERSHIP and choose the package and upgrade by using any visa debit/credit card, also input your correct billing address whatever provided in the banker of the card"},{questons:"I am a paid member of Kaakateeya Marriages India office. I cannot view pictures or request profiles online? (Kaakateeya Marriages Indian Offices)",answers:"Kaakateeya Marriages India office registered members are only allowed to view, modify their profile and search new profiles on Kaakateeya.com. There is an additional fee to view pictures,addition details also can express interest . online membership details are in the UPGRADE MEMBERSHIP option in UPGRADE menu option"},{questons:"I Forgot Password who can I retrieve password?",answers:"You can only reset your password by clicking on forgot password link with your registered primary email id"},{questons:"I uploaded my photo but I cannot see it? (Photograph)",answers:"New photograph uploaded by you will be processed during the business hours from 10 am to 6 pm ."},{questons:"Terms & Conditions to get Register with kaakateeya.com?",answers:"Everyone who is for marriage can register profile by giving details with genuine information. You can register a new profile with UNIQUE EMAIL AND UNIQUE MOBILE NUMBER. If you get a message like “email id exists” or “mobile number exists”then click on forget password to reset your password otherwise contact us @ 91-40-30666666"},{questons:"What individually identifiable information is logged on your server? (Privacy Policy)",answers:"All email messages sent using our website Kaakateeya.com are logged on the server. These messages are deleted every week."},{questons:"What is Bookmarked By section? (Bookmarks)",answers:'If somebody Bookmarks your profile, you can check the list in the "Who Bookmarked me " in the menu'},{questons:"What is Online Service and Offline(OFFICE) Service?",answers:"Online Services: You can Register Freely into www.kaakateeya.com and search for Brides/Grooms based on your requirement. You can also become a paid member to express interest, Send and receive messages directly by yourself Offline(OFFICE) Services: Offline Service is provided by our service provider/relationship manager wherein you will be sent profiles to your email regularly as per your requirement manually on behalf of you and will involve in arranging match meetings(PelliChupulu) to Settle"},{questons:"What picture formats are accepted? (Photograph)",answers:"Pictures of .jpg ,Png etc formats can be uploaded "},{questons:"Who receives the Messages I send using messages button",answers:"your messages are sent to the other member ,which will be displayed in my contact list ,messages option"}],scope.styleanswer=!1,scope.activeClass="faqs_list_main_item"}]),app.directive("faqdirective",function(){return{link:function(scope,element,attrs){scope.expanall=function(){_.each(scope.arrayfaqs,function(item){item.styleanswer=!0,item.activeClass="faqs_list_main_item active"})},scope.collapseall=function(){_.each(scope.arrayfaqs,function(item){item.styleanswer=!1,item.activeClass="faqs_list_main_item"})},scope.toggleans=function(faqs){faqs.styleanswer=!faqs.styleanswer,faqs.activeClass=faqs.styleanswer===!0?"faqs_list_main_item active":"faqs_list_main_item"}}}}),app.controller("feedbackCtrl",["$scope","reCAPTCHA","feedbacksubmit","authSvc",function(scope,reCAPTCHA,feedbacksubmit,authSvc){reCAPTCHA.setPublicKey("6LcrVwkUAAAAAGPJwyydnezgtVE7MlDCi3YQANKW"),scope.optionhereabout=[{label:"--select--",title:"--select--",value:0},{label:"Search Engine",title:"Search Engine",value:481},{label:"Newspaper",title:"Newspaper",value:482},{label:"Magzine",title:"Magzine",value:483},{label:"Friend",title:"Friend",value:484},{label:"Email",title:"Email",value:485},{label:"No Answer",title:"No Answer",value:486}],scope.improveourwebsite=[{label:"--select--",title:"--select--",value:0},{label:"Search",title:"Search",value:487},{label:"Registration",title:"Registration",value:488},{label:"Login",title:"Login",value:489},{label:"FAQ",title:"FAQ",value:490},{label:"About Us",title:"About Us",value:491},{label:"No Answer",title:"No Answer",value:492}],scope.prices=[{label:"--select--",title:"--select--",value:0},{label:"Expensive",title:"Expensive",value:493},{label:"OK",title:"OK",value:494},{label:"Cheap",title:"Cheap",value:495},{label:"No comments",title:"No comments",value:496},{label:"No Answer",title:"No Answer",value:497}],scope.downloadtime=[{label:"--select--",title:"--select--",value:0},{label:"Fast",title:"Fast",value:498},{label:"Average",title:"Average",value:499},{label:"Slow",title:"Slow",value:500},{label:"No Answer",title:"No Answer",value:501}],scope.yourratethesearch=[{label:"--select--",title:"--select--",value:0},{label:"Valuable",title:"Valuable",value:507},{label:"Average",title:"Average",value:508},{label:"Bad",title:"Bad",value:509},{label:"No Answer",title:"No Answer",value:510}],scope.comparesites=[{label:"--select--",title:"--select--",value:0},{label:"Better",title:"Better",value:502},{label:"Same",title:"Same",value:503},{label:"Bad",title:"Bad",value:504},{label:"No Answer",title:"No Answer",value:505}],scope.recomendedtofriends=[{label:"--select--",title:"--select--",value:0},{label:"Yes",title:"Yes",value:511},{label:"No",title:"No",value:512},{label:"No Answer",title:"No Answer",value:513}],scope.submit=function(){var custid=authSvc.getCustId();scope.Cust_ID=void 0!==custid&&null!==custid&&""!==custid?custid:null;var objectfeedback={};objectfeedback.Cust_ID=scope.Cust_ID,objectfeedback.HearAbout=void 0!==scope.HearAbout&&""!==scope.HearAbout?scope.HearAbout:null,objectfeedback.ImproveWebsite=void 0!==scope.ImproveWebsite&&""!==scope.ImproveWebsite?scope.ImproveWebsite:null,objectfeedback.kaaPrices=void 0!==scope.kaaPrices&&""!==scope.kaaPrices?scope.kaaPrices:null,objectfeedback.DownLoadTime=void 0!==scope.DownLoadTime&&""!==scope.DownLoadTime?scope.DownLoadTime:null,objectfeedback.CompareSite=void 0!==scope.CompareSite&&""!==scope.CompareSite?scope.CompareSite:null,objectfeedback.FavSite=void 0!==scope.FavSite&&""!==scope.FavSite?scope.FavSite:null,objectfeedback.SearchRate=void 0!==scope.SearchRate&&""!==scope.SearchRate?scope.SearchRate:null,objectfeedback.Recommend=void 0!==scope.Recommend&&""!==scope.Recommend?scope.Recommend:null,objectfeedback.Comments=void 0!==scope.Comments&&""!==scope.Comments?scope.Comments:null,feedbacksubmit.feedbacksubmitinsert(objectfeedback).then(function(response){1==response.data&&(alert("Thank u for your valuable feedback"),scope.clearallfields())})},scope.clearallfields=function(){scope.Cust_ID="",scope.HearAbout=0,scope.ImproveWebsite=0,scope.kaaPrices=0,scope.DownLoadTime=0,scope.CompareSite=0,scope.FavSite="",scope.SearchRate=0,scope.Recommend=0,scope.Comments=""}}]),app.controller("help",["$uibModal","$scope","helpService","arrayConstants","reCAPTCHA",function(uibModal,scope,helpService,arrayConstants,reCAPTCHA){scope.catgory="catgory",scope.Priority="Priority",scope.countryCode="countryCode",scope.lblpopupCategory="dffdf",scope.open=function(size){scope.modalInstance=uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"myModalContent.html",scope:scope})},scope.submit=function(){scope.helpForm.$valid&&(scope.inputObj={profile:"210910352",AssignedEmpID:null,BranchID:0,Name:scope.txtname,Email:scope.txtemail,subject:scope.txtsubject,Category:scope.ddlcategory,Message:scope.txtmsg,Priority:scope.ddlpriority,Image:null,CountryCode:scope.ddlcountrycode,AreaCode:scope.txtphonecode,PhoneNum:scope.txtphnum,EmpID:0},helpService.helpSubmit(scope.inputObj).then(function(response){console.log(response),scope.CustName=scope.txtname,scope.lblTicketID=response.data.Ticket,scope.lblpopupCategory=_.where(arrayConstants.catgory,{value:parseInt(scope.ddlcategory)})[0].title,scope.open()}))},scope.SendMail=function(){scope.SendMailObj={TicketID:scope.lblTicketID,Name:scope.CustName,CategoryName:scope.lblpopupCategory,strEmail:scope.txtemail,EmpID:0,EmpTicketID:0},helpService.SendMail(scope.SendMailObj).then(function(response){console.log(response),1==response.data&&alert("mail has sent successfully")}),scope.modalInstance.close()}}]),app.controller("blockerController",function(){}),app.controller("myorders",["$scope","customerProfilesettings","authSvc",function(scope,customerProfilesettings,authSvc){var logincustid=authSvc.getCustId();scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,scope.myorders=[],scope.pageinit=function(){customerProfilesettings.getmyorderspayments(scope.custid).then(function(response){scope.myorders=[],console.log(response),_.each(response.data,function(item){scope.myorders=JSON.parse(item),console.log(scope.myorders)})})}}]),app.controller("ourbranches",["$scope","ourBranchService",function(scope,ourBranchService){scope.region="region",scope.BranchArr=[],scope.BranchDetailsArr=[],scope.telanganaArr=[{count:1,BranchAddress:"103 , 109, Vijayasree Apartments, Behind Chermas ,",PhoneNumbers:"23747777",Mobilenumber:"7675818080",BranchemailID:"kaakateeya.com@gmail.com",WorkingEndTime:"8:30:00 PM",Branch_ID:319,Address:"Ameerpet , Hyderabad-500073",WorkingStartTime:"8:30:00 AM",Landlineareacode:"40",Landlinenumber:"23747777",BranchesName:"Hyderabad - Ameerpet"},{count:2,BranchAddress:"2 nd Floor , Pullareddy Sweets Building ,SaiBaba Temple Lane ,",PhoneNumbers:"24065959",Mobilenumber:"9966636222",BranchemailID:"info@telugumarriages.com",WorkingEndTime:"7:0:00 PM",Branch_ID:320,Address:"Dilsukhnagar , Hyderabad - 500060",WorkingStartTime:"9:0:00 AM",Landlineareacode:"40",Landlinenumber:"24065959",BranchesName:"Hyderabad-Dilsukhnagar"},{count:3,BranchAddress:"202 , Uday Krishna Complex , Bhagyanagar colony ,",PhoneNumbers:"23067373",Mobilenumber:"9392009391",BranchemailID:"info@telugumarriages.com",WorkingEndTime:"7:0:00 PM",Branch_ID:321,Address:"opp KPHB , Hyderabad-500072",WorkingStartTime:"9:0:00 AM",Landlineareacode:"40",Landlinenumber:"23067373",BranchesName:"Hyderabad-Kukatpally"}],scope.pundicherry=[{BranchAddress:"No 10 , 1st Floor , 2 nd Cross , Annanagar East , ",PhoneNumbers:"43543543",Mobilenumber:"7668687687",BranchemailID:"naveena@telugumarriages.com",WorkingEndTime:"7:0:00 PM",Branch_ID:341,Address:"Behind Housing Board , Puducherry ( Pondicherry ) - 600 005",WorkingStartTime:"9:0:00 AM",Landlineareacode:"44",Landlinenumber:"43543543",BranchesName:"Pondicheery"}],ourBranchService.BranchPageloadSelect().then(function(response){scope.BranchDetailsArr=response.data,_.map(scope.BranchDetailsArr,function(item,index){item.count=parseInt(index+1)})}),scope.changeBind=function(type){"1"==scope.ddlbranches?(scope.BranchDetailsArr=[],null!==scope.ddlbranchaddress&&void 0!==scope.ddlbranchaddress&&(console.log(scope.ddlbranchaddress),scope.BranchDetailsArr=_.where(scope.telanganaArr,{Branch_ID:parseInt(scope.ddlbranchaddress)}),_.map(scope.BranchDetailsArr,function(item,index){item.count=parseInt(index+1)})),"region"==type&&(scope.BranchDetailsArr=scope.telanganaArr,scope.BranchArr=[],_.each(scope.telanganaArr,function(item){scope.BranchArr.push({label:item.BranchesName,title:item.BranchesName,value:item.Branch_ID})}))):"2"==scope.ddlbranches?(scope.BranchDetailsArr=[],scope.BranchDetailsArr=scope.pundicherry,"region"==type&&(scope.BranchArr=[])):("region"==type&&(scope.ddlbranchaddress=void 0),ourBranchService.BranchSelect(scope.ddlbranches,scope.ddlbranchaddress).then(function(response){scope.BranchDetailsArr=[],scope.BranchDetailsArr=response.data,_.map(scope.BranchDetailsArr,function(item,index){item.count=parseInt(index+1)}),"region"==type&&(scope.BranchArr=[],_.each(response.data,function(item){scope.BranchArr.push({label:item.BranchesName,title:item.BranchesName,value:item.Branch_ID})}))}))}}]),app.controller("privacypolicy",["$scope",function(scope){$(".back-to-top").hide(),scope.initprivacy=function(){$(window).scroll(function(){$(this).scrollTop()>100?$(".back-to-top").fadeIn():$(".back-to-top").fadeOut()}),$(".back-to-top").click(function(){return $("body,html").animate({scrollTop:0},800),!1})}}]),app.controller("profilesettings",["$scope","$mdDialog","customerProfilesettings","SelectBindServiceApp","authSvc","alert",function(scope,$mdDialog,customerProfilesettings,service,authSvc,alerts){scope.selectChanged=function(){alert("value changed-->")};var logincustid=authSvc.getCustId();scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,scope.days=function(){scope.test=[],scope.test=[{label:"--Select--",title:"--select--",value:"0"}];for(var i=1;i<=30;i++)scope.test.push({label:i+" days",title:i+" days",value:i});return scope.test},scope.word=/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/,scope.countryCode=[],scope.arraydays=scope.days(),scope.mailyes="1",scope.smsyes="1",scope.activated=!1,scope.disabled=!0,scope.activatedmobile=!1,scope.countrycodedisable=!0,scope.passwordsisableswitch=!1,scope.passwordsisable=!0,scope.alertmanageswitch=!1,scope.manageakerts=!0,scope.hideprofileswitchs=!1,scope.hideprofile=!0,scope.deleteprofileswitch=!1,scope.deleteprofiledis=!0,service.countryCodeselect().then(function(response){scope.countryCode=[],console.log(response),scope.countryCode=[{label:"--Select--",title:"--select--",value:"0"}],_.each(response.data,function(item){scope.countryCode.push({label:item.Name,title:item.Name,value:item.ID})})}),scope.arrayprofilesettings={},scope.getdetails=function(){customerProfilesettings.getprofilesettinginfo(scope.custid).then(function(response){console.log(response),_.each(response.data,function(item){scope.arrayprofilesettings=item,scope.mailyes="False"===scope.arrayprofilesettings.AllowEmail?"0":"1",scope.smsyes="False"===scope.arrayprofilesettings.AllowSMS?"0":"1"})})},scope.pageload=function(){scope.getdetails()},scope.toggleActivationsss=function(btntype){switch(btntype){case"email":scope.activated?scope.disabled=!1:scope.disabled=!0;break;case"mobile":scope.activatedmobile?scope.countrycodedisable=!1:scope.countrycodedisable=!0;break;case"password":scope.passwordsisableswitch?scope.passwordsisable=!1:scope.passwordsisable=!0;break;case"managealerts":scope.alertmanageswitch?scope.manageakerts=!1:scope.manageakerts=!0;break;case"hideprofiles":scope.hideprofileswitchs?scope.hideprofile=!1:scope.hideprofile=!0;break;case"deleteprofile":scope.deleteprofileswitch?scope.deleteprofiledis=!1:scope.deleteprofiledis=!0}},scope.submitemailamdmobile=function(Typeofsub){switch(Typeofsub){case"email":var FamilyID=scope.arrayprofilesettings.EmailCust_Family_ID,NewEmail=scope.NewEmail;customerProfilesettings.submitemailmobilesubmit(FamilyID,NewEmail,"",1).then(function(response){console.log(response),1==response.data?alerts.open("Email Upadated successfully","success"):alerts.open("Email Updated failed","warning")});break;case"mobile":var FamilyIDs=scope.arrayprofilesettings.MobileCustFamily_ID,CountryCodeID=scope.ddlcountrycode,number=scope.Confirmnewnumber;customerProfilesettings.submitemailmobilesubmit(FamilyIDs,number,CountryCodeID,0).then(function(response){console.log(response),1==response.data?alerts.open("Mobile Upadated successfully","success"):alerts.open("Mobile Updated failed","warning")})}},scope.submitpassword=function(){var OldPassword=scope.OldPassword,NewPassword=scope.NewPassword,ConfirmPassword=scope.ConfirmPassword,custId=scope.custid;customerProfilesettings.passwordchange(OldPassword,NewPassword,ConfirmPassword,custId).then(function(response){console.log(response),1==response.data?alerts.open("Passsword updated successfully","success"):alerts.open("Passsword updated failed","warning")})},scope.submithideprofile=function(){var Expirydate=scope.hideprofiledays,CustID=scope.custid,iflag=1;scope.hiddennarration;customerProfilesettings.hideprofile(Expirydate,CustID,iflag).then(function(response){console.log(response),1==response.data?alerts.open("Hide Profile successfully","success"):alerts.open("Hide Profile failed","warning")})},scope.submitdeleteprofile=function(){var ProfileID=scope.ProfileID,Narrtion=scope.Narrtion;customerProfilesettings.deleteprofile(ProfileID,Narrtion).then(function(response){console.log(response),1==response.data?alerts.open("Delete Profile successfully","success"):alerts.open("Delete Profile failed","warning")})},scope.submitmanagealerts=function(){var CustID=scope.custid,AllowEmail=0===scope.mailyes?0:1,AllowSMS=0===scope.smsyes?0:1;customerProfilesettings.manageprofiles(CustID,AllowEmail,AllowSMS).then(function(response){console.log(response),1==response.data?alerts.open("Submit successfully","success"):alerts.open("submit failed","warning")})},scope.unhideprofile=function(){var Expirydate=null,CustID=scope.custid,iflag=0;customerProfilesettings.hideprofile(Expirydate,CustID,iflag).then(function(response){console.log(response),1==response.data?alerts.open("Unhide your Profile successfully","success"):alerts.open("Unhide your Profile failed","warning")})},scope.Resetallfields=function(type){switch(type){case"email":scope.NewEmail=null,scope.Confirmnewemail=null,scope.getdetails(),scope.activated=!1,scope.disabled=!0,this.emailform.NewEmail=null,this.emailform.Confirmnewemail=null,this.emailform.$setPristine(),this.emailform.$setUntouched(),this.emailform.$setValidity();break;case"mobile":scope.ddlcountrycode=null,scope.Confirmnewnumber=null,scope.getdetails(),scope.activatedmobile=!1,scope.countrycodedisable=!0,this.mobileform.ddlcountrycode=null,this.mobileform.Confirmnewnumber=null,this.mobileform.$setPristine(),this.mobileform.$setUntouched(),this.mobileform.$setValidity();break;case"password":scope.OldPassword=null,scope.NewPassword=null,scope.ConfirmPassword=null,scope.getdetails(),scope.passwordsisableswitch=!1,scope.passwordsisable=!0,this.projectForm.OldPassword=null,this.projectForm.NewPassword=null,this.projectForm.ConfirmPassword=null,this.projectForm.$setPristine(),this.projectForm.$setUntouched(),this.projectForm.$setValidity();break;case"hide":scope.hideprofiledays=null,scope.hiddennarration=null,scope.getdetails(),scope.hideprofileswitchs=!1,scope.hideprofile=!0,this.hideprofileform.hideprofiledays=null,this.hideprofileform.$setPristine(),this.hideprofileform.$setUntouched(),this.hideprofileform.$setValidity();break;case"alerts":scope.mailyes=null,scope.smsyes=null,scope.getdetails(),scope.alertmanageswitch=!1,scope.manageakerts=!0;break;case"deleteprofiles":scope.Narration=null,scope.isChecked=null,scope.getdetails(),scope.deleteprofileswitch=!1,scope.deleteprofiledis=!0,this.deleteprofileform.narration=null,this.deleteprofileform.$setPristine(),this.deleteprofileform.$setUntouched(),this.deleteprofileform.$setValidity()}}}]),app.controller("suceesstories",["$scope","successstoriesdata",function(scope,suceessdata){scope.success=[],scope.flag=8,scope.fromge=1,scope.topage=8,scope.init=function(){suceessdata.suceessdataget(scope.fromge,scope.topage).then(function(response){console.log(response.data),scope.success=response.data})},$(window).scroll(function(){$(window).scrollTop()==$(document).height()-$(window).height()&&(scope.flag+=8,scope.fromge=scope.flag-7,scope.topage=scope.flag,suceessdata.suceessdataget(scope.fromge,scope.topage).then(function(response){scope.success=$.unique(scope.success.concat(response.data))}))})}]),app.controller("supporttickets",["$scope","customerProfilesettings","authSvc","alert",function(scope,customerProfilesettings,authSvc,alerts){var logincustid=authSvc.getCustId();scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,scope.supporttickets=[],scope.submitsupporttickets=function(pageid){var obj={PageID:pageid,CustID:scope.custid,
TicketID:null,ProfileID:null,Complaint:null,FeedBackStatus:null};customerProfilesettings.getmysupporttickets(obj).then(function(response){scope.supporttickets=[],console.log(response),_.each(response.data,function(item){scope.supporttickets=JSON.parse(item),console.log(scope.supporttickets)})})},scope.pageinit=function(){scope.submitsupporttickets(1)},scope.$watch("selectedIndex",function(current,old){switch(console.log("current",current),console.log("old",old),current){case 0:scope.submitsupporttickets(1);break;case 1:scope.submitsupporttickets(2);break;case 2:scope.submitsupporttickets(3);break;case 3:scope.submitsupporttickets(4)}}),scope.reopenticket=function(ticketid){customerProfilesettings.getopenticket(6,"",ticketid).then(function(response){console.log(response),1==response.data?(alerts.open("Your ticket have been reopened successfully","success"),scope.supporttickets=[],scope.submitsupporttickets(3)):alerts.open("Failed please contact admin","warning")})}}]),app.controller("termsandconditions",["$scope",function(scope){$(".back-to-top").hide(),scope.initconditions=function(){$(window).scroll(function(){$(this).scrollTop()>100?$(".back-to-top").fadeIn():$(".back-to-top").fadeOut()}),$(".back-to-top").click(function(){return $("body,html").animate({scrollTop:0},800),!1})}}]),app.controller("upgrademembership",["$scope","$interval","myAppFactory","authSvc","alert",function(scope,$interval,myAppFactory,authSvc,alerts){scope.paymentarray=[];var logincustid=authSvc.getCustId();scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,myAppFactory.getpayment(scope.custid).then(function(response){console.log(response),scope.paymentarray=[],scope.paymentarray.push({MembershipName:"Services & Features",MembershipAmount:"My Plans",AllottedServicePoints:"Profile Count",onlineaccess:"Online Access",offlineaccess:"Offline Access"}),_.each(response.data,function(item){scope.paymentarray.push(item)})}),scope.selectpaymantoption=function(membershipd,amount,profilecount,discount,custid,servicename,year){var paymentobject={MembershipID:membershipd,Amount:amount,Points:profilecount,DiscountID:discount,CustID:custid,MembershipName:servicename,Duration:year};sessionStorage.setItem("paymentobject",JSON.stringify(paymentobject));var realpath="#/paymentresponse";window.open(realpath,"_self")},scope.sendsmspayment=function(payment){myAppFactory.sendsms(15,scope.custid,payment.mobilenumber).then(function(response){console.log(response),alerts.open("Thanks ! You shall be contacted soon by our priority manager","success")})},scope.ccavenuepage=function(){window.open("https://secure.ccavenue.com/transaction/TransactionInitiator","_self")}}]),app.controller("viewmyprofile",["customerDashboardServices","$scope",function(customerDashboardServices,scope){var logincustid=authSvc.getCustId();authSvc.getProfileid(),void 0!==sessionStorage.getItem("localcustid")&&""!==sessionStorage.getItem("localcustid")?sessionStorage.getItem("localcustid"):null,sessionStorage.getItem("locallogid");scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,customerDashboardServices.Viewprofile().then(function(response){scope.arr=[],scope.personalinfo={},scope.aboutmyself={},_.each(response.data,function(item){var testArr=JSON.parse(item);"About"===testArr[0].TableName?(scope.aboutmyself=testArr,console.log(scope.aboutmyself)):"Primary"===testArr[0].TableName?(scope.personalinfo=testArr,console.log(scope.personalinfo)):scope.arr.push({header:testArr[0].TableName,value:testArr})}),console.log(scope.arr)}),customerDashboardServices.Viewprofileflags().then(function(response){console.log(response)})}]),app.controller("viewFullProfileCustomer",["customerDashboardServices","$scope","alert","authSvc","$injector",function(customerDashboardServices,scope,alerts,authSvc,$injector){var logincustid=authSvc.getCustId(),localcustid=(authSvc.getProfileid(),void 0!==sessionStorage.getItem("localcustid")&&""!==sessionStorage.getItem("localcustid")?sessionStorage.getItem("localcustid"):null);sessionStorage.getItem("locallogid");scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,scope.pageload=function(){customerDashboardServices.Viewprofile(scope.custid,localcustid).then(function(response){console.log(response),scope.arr=[],scope.personalinfo={},scope.aboutmyself={},_.each(response.data,function(item){var testArr=JSON.parse(item);"About"===testArr[0].TableName?scope.aboutmyself=testArr:"Primary"===testArr[0].TableName?scope.personalinfo=testArr:scope.arr.push({header:testArr[0].TableName,value:testArr})})}),customerDashboardServices.Viewprofileflags(scope.custid,localcustid).then(function(response){console.log(response),_.each(response.data,function(item){var testArr=JSON.parse(item);if(void 0!==testArr[0])switch(testArr[0].TableName){case"Bookmark":scope.Bookmark=testArr,console.log(scope.Bookmark);break;case"Viewed":scope.Viewed=testArr,console.log(scope.Viewed);break;case"Express":scope.Express=testArr,console.log(scope.Express);break;case"Paidstatus":scope.Paidstatus=testArr,console.log(scope.Paidstatus);break;case"Ignore":scope.Ignore=testArr,console.log(scope.Ignore)}})})},scope.servicehttp=function(type,object){return $injector.invoke(function($http){return $http.post(app.apiroot+"CustomerService/CustomerServiceBal",object).then(function(response){switch(console.log(response),type){case"B":1==response.data?alerts.open("bookmarked suceessfully","success"):alerts.open("bookmarked failed","warning");break;case"E":1==response.data?alerts.open("EXpressInterest done SuccessFully","success"):alerts.open("EXpressInterest Fail","warning");break;case"I":1==response.data?alerts.open("Ignore SuccessFully","success"):alerts.open("Ignore profile Fail","warning");break;case"M":case"TH":case"RP":1==response.data?alerts.open("Message sent SuccessFully","success"):alerts.open("Message sending Fail","warning")}})})},scope.serviceactions=function(type,tocustid,typeofactionflag,profileid,form,logid,MessageHistoryId){var logincustid=authSvc.getCustId(),loginprofileid=authSvc.getProfileid(),object={IFromCustID:logincustid,IToCustID:tocustid,TypeofInsert:type,EncriptedText:null,EncryptedRejectFlagText:null,EncriptedTextrvr:null,EncryptedRejectFlagTextrvr:null,StrHtmlText:void 0!==form?form.message:null,MessageLinkId:void 0!==typeofactionflag?typeofactionflag:null,MessageHistoryId:void 0!==MessageHistoryId?MessageHistoryId:null,Logid:void 0!==logid?logid:null,FromProfileID:loginprofileid,ToProfileID:void 0!==profileid?profileid:null};scope.servicehttp(type,object)},scope.sendmessages=function(form){scope.serviceactions("M",scope.messagecustid,void 0,void 0,form,void 0,void 0),alerts.dynamicpopupclose()},scope.sendmessegescommon=function(type,tocustid){scope.modalpopupheadertext="Enter your message here",scope.messagecustid=tocustid,alerts.dynamicpopup(url,scope,uibModal)},scope.acceptlinkexp=function(type,custid){var locallogid=sessionStorage.getItem("locallogid");customerDashboardServices.acceptrejectexpressinterest(scope.custid,custid,locallogid,type,null).then(function(response){console.log(response),1===response.data?alerts.open("Proceed successfully","success"):alerts.open("sorry Proceed Fail","warning"),alerts.dynamicpopupclose()})}}]),app.factory("authSvc",["$injector","Idle",function($injector,Idle){function setUser(value){setSession("cust.id",value.CustID),setSession("cust.username",value.FirstName+" "+value.LastName),setSession("cust.profileid",value.ProfileID),setSession("cust.paidstatus",value.PaidStatus),setSession("cust.profilepic",value.ProfilePic)}function getSession(key){return sessionStorage.getItem(key)}function setSession(key,value){void 0===value||null===value?clearSession(key):sessionStorage.setItem(key,value)}function clearSession(key){sessionStorage.removeItem(key)}function clearUserSession(){clearSession("cust.id"),clearSession("cust.username"),clearSession("cust.profileid"),clearSession("cust.paidstatus"),clearSession("cust.profilepic")}function getUser(){return{custid:getSession("cust.id"),username:getSession("cust.username"),profileid:getSession("cust.profileid"),paidstatus:getSession("cust.paidstatus"),profilepic:getSession("cust.profilepic")}}return{user:function(value){return value&&setUser(value),getUser()},isAuthenticated:function(){return!!getSession("cust.id")},getCustId:function(){return getSession("cust.id")},getProfileid:function(){return getSession("cust.profileid")},getpaidstatus:function(){return getSession("cust.paidstatus")},clearUserSessionDetails:function(){return clearUserSession()},logout:function(){clearUserSession(),window.location="#/"},login:function(username,password){var body={Username:username,Password:password};return $injector.invoke(function($http){return $http.post(app.apiroot+"DB/userLogin/person",body).then(function(response){return 200===response.status?(Idle.watch(),{success:!0,response:response.data}):{success:!1,response:response.data}})})}}}]),app.factory("customerDashboardServices",["$http",function(http){return{getCustomercounts:function(custid,typeofaction,frompage,topage){return http.get(app.apiroot+"DashboardRequest/DashboardRequestget",{params:{TypeOfReport:typeofaction,pagefrom:frompage,pageto:topage,id:custid}})},getcustomerpartnerdata:function(custid,typeofaction,frompage,topage){return http.get(app.apiroot+"DashboardRequest/DashboardGetPartnerProfilesRequestget",{params:{TypeOfReport:typeofaction,pagefrom:frompage,pageto:topage,id:custid}})},getexpressintersetdata:function(object){return http.post(app.apiroot+"DashboardRequest/ExpressInterestSelectrequest",object)},getCustometDashBoardchats:function(object){return http.get(app.apiroot+"DashboardRequest/getCustometExpressIntrestDashBoardchats",{params:object})},insertcustomerservices:function(object){return http.post(app.apiroot+"CustomerService/CustomerServiceBal",object)},Tickethistory:function(Ticketid,Type){return http.get(app.apiroot+"DashboardRequest/GetTicketinformation",{params:{Ticketid:Ticketid,Type:Type}})},Viewprofile:function(logcustid,tocustid){return http.get(app.apiroot+"StaticPages/getCustomerViewfullProfileDetails",{params:{ProfileID:tocustid,CustID:logcustid}})},Viewprofileflags:function(logcustid,tocustid){return http.get(app.apiroot+"StaticPages/getExpressinterstBookmarkIgnore",{params:{loggedcustid:logcustid,ToCustID:tocustid}})},communicationhistorychats:function(obj){return http.post(app.apiroot+"DashboardRequest/DashboardCustometMessagesCount",obj)},acceptrejectexpressinterest:function(fromid,toid,logid,type,empid){return http.get(app.apiroot+"DashboardRequest/getInsertCustomerExpressinterest",{params:{fromcustid:fromid,tocustid:toid,logID:logid,interstTYpe:type,empid:""}})},photopasswordactioninsert:function(fromcustid,tocustid,type){return http.get(app.apiroot+"StaticPages/getPhotopasswordAcceptReject",{params:{FromcustID:91022,TocustID:91035,Accept_Reject:type}})},getprofilegrade:function(custid){return http.get(app.apiroot+"StaticPages/getprofileGrade",{params:{CustID:custid}})},getphotoslideimages:function(custid){return http.get(app.apiroot+"StaticPages/GetPhotoSlideImages",{params:{CustID:custid}})}}}]),function(app){app.factory("errorInterceptor",["$rootScope","$q",function($rootScope,$q){return{responseError:function(rejection){return $rootScope.$broadcast("notify-error",rejection.data),$q.reject(rejection)}}}]),app.config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push("errorInterceptor")}])}(window.app),app.factory("feedbacksubmit",["$http",function(http){return{feedbacksubmitinsert:function(object){return http.post(app.apiroot+"StaticPages/CustomerRating_sendMail",object)}}}]),app.factory("helpService",["$http",function(http){return{helpSubmit:function(object){return console.log(JSON.stringify(object)),http.post(app.apiroot+"StaticPages/InsertTicketInfo",object)},SendMail:function(object){return console.log(JSON.stringify(object)),http.post(app.apiroot+"StaticPages/SendTicketMail",object)}}}]),app.factory("homepageservices",["authSvc",function(http){return{logininfo:function(){var person={Username:"011046091",Password:"XowIvsTkzINyyKyJrPlmgg=="};return http.post(app.apiroot+"DB/userLogin/person",person)}}}]),app.factory("angularselects",["SelectBindserviceApp","arrayConstants",function(service,cons){return{countrySelect:function(){var Country=[];return service.countrySelect().then(function(response){_.each(response.data,function(item){Country.push({label:item.Name,title:item.Name,value:item.ID})})}),Country},casteselect:function(){var Caste=[];return service.casteselect().then(function(response){_.each(response.data,function(item){Caste.push({label:item.Name,title:item.Name,value:item.ID})})}),Caste},ProfessionGroup:function(){var Professiongroup=[];return service.ProfessionGroup().then(function(response){Professiongroup.push({label:"--select--",title:"--select--",value:0}),_.each(response.data,function(item){Professiongroup.push({label:item.Name,title:item.Name,value:item.ID})})}),Professiongroup},currency:function(){var Currency=[];return service.currency().then(function(response){_.each(response.data,function(item){Currency.push({label:item.Name,title:item.Name,value:item.ID})})}),Currency}}}]),app.factory("ourBranchService",["$http",function(http){return{BranchSelect:function(regionID,BranchId){return BranchId=void 0===BranchId?"":BranchId,http.get(app.apiroot+"StaticPages/getKaakateeyaBranchesDetails",{params:{dependencyName:"BranchesAddress",dependencyValue:regionID,dependencyflagID:BranchId}})},BranchPageloadSelect:function(value){return http.get(app.apiroot+"StaticPages/getKaakateeyaBranchesDetails",{params:{dependencyName:"BranchesAddress",dependencyValue:"",dependencyflagID:""}})}}}]),app.factory("customerProfilesettings",["$http",function(http){return{getprofilesettinginfo:function(custid){return http.get(app.apiroot+"StaticPages/getcustomerProfilesettings",{params:{CustID:custid}})},passwordchange:function(oldpassword,newpassword,confirmpassword,custid){return http.get(app.apiroot+"StaticPages/getUpdatePassword",{params:{OldPassword:oldpassword,NewPassword:newpassword,ConfirmPassword:confirmpassword,custId:custid}})},hideprofile:function(Expirydate,custid,flag){return http.get(app.apiroot+"StaticPages/getInsertcustomerProfilesettings",{params:{Expirydate:Expirydate,CustID:custid,iflag:flag}})},deleteprofile:function(ProfileID,Narrtion){return http.get(app.apiroot+"StaticPages/getInsertcustomerProfilesettings",{params:{ProfileID:ProfileID,Narrtion:Narrtion}})},manageprofiles:function(CustID,AllowEmail,AllowSMS){return http.get(app.apiroot+"StaticPages/getProfilesettingAllowEmailAllowSMS",{params:{CustID:CustID,AllowEmail:AllowEmail,AllowSMS:AllowSMS}})},submitemailmobilesubmit:function(FamilyID,MobileEmail,CountryCodeID,imobileEmailflag){return http.get(app.apiroot+"StaticPages/getProfilesettingEmailMobileChange",{params:{FamilyID:FamilyID,MobileEmail:MobileEmail,CountryCodeID:CountryCodeID,imobileEmailflag:imobileEmailflag}})},getmyorderspayments:function(custid){return http.get(app.apiroot+"StaticPages/getpaymentdetailsmethoddal",{params:{CustID:custid}})},getmysupporttickets:function(obj){return http.post(app.apiroot+"StaticPages/TicketDetails",obj)},getopenticket:function(PageID,ProfileID,TicketID){return http.get(app.apiroot+"StaticPages/getCustomerReopenTicketStatus",{params:{PageID:PageID,ProfileID:ProfileID,TicketID:TicketID}})},forgotpassword:function(emailorprofileid){return http.get(app.apiroot+"StaticPages/getForgotPassword",{params:{Username:emailorprofileid}})}}}]),app.factory("searches",["$http",function(http){return{partnerdetails:function(custid,empid,searchresultid){return http.get(app.apiroot+"CustomerSearch/getPartnerpreferencedetails",{params:{CustID:custid,EmpID:empid,searchresultID:searchresultid}})},profileidsearch:function(ProfileIDSearch){return http.post(app.apiroot+"CustomerSearch/CustomerProfileIdsearch",ProfileIDSearch)},CustomerGeneralandAdvancedSearchsubmit:function(obj){return http.post(app.apiroot+"CustomerSearch/CustomerGeneralandAdvancedSearch",obj)},CustomerGeneralandAdvancedSavedSearch:function(obj){return http.post(app.apiroot+"CustomerSearch/CustomerGeneralandAdvancedSavedSearch",obj)},CustomerProfileIDSavedSearch:function(obj){return http.post(app.apiroot+"CustomerSearch/CustomerProfileIDSavedSearch",obj)},savedsearchselectmethod:function(Cust_ID,SaveSearchName,iEditDelete){return http.get(app.apiroot+"CustomerSearch/getSearchResultSaveEdit",{params:{Cust_ID:Cust_ID,SaveSearchName:SaveSearchName,iEditDelete:iEditDelete}})}}}]),app.factory("SelectBindServiceApp",["$http",function(http){return{countrySelect:function(){return http.get(app.apiroot+"Dependency/getCountryDependency",{params:{dependencyName:"",dependencyValue:""}})},stateSelect:function(dependencyVal){return http.get(app.apiroot+"Dependency/getCountryDependency",{params:{dependencyName:"state",dependencyValue:dependencyVal}})},districtSelect:function(dependencyVal1){return http.get(app.apiroot+"Dependency/getCountryDependency",{params:{dependencyName:"distric",dependencyValue:dependencyVal1}})},citySelect:function(dependencyVal2){return http.get(app.apiroot+"Dependency/getCountryDependency",{params:{dependencyName:"city",dependencyValue:dependencyVal2}})},EducationCatgory:function(){return http.get(app.apiroot+"Dependency/getEducationDependency",{params:{dependencyName:"",dependencyValue:""}})},EducationGroup:function(dependencyVal2){return http.get(app.apiroot+"Dependency/getEducationDependency",{params:{dependencyName:"educationGroup",dependencyValue:dependencyVal2}})},EducationSpecialisation:function(dependencyVal2){return http.get(app.apiroot+"Dependency/getEducationDependency",{params:{dependencyName:"educationSpeacialisation",dependencyValue:dependencyVal2}})},ProfessionCatgory:function(){return http.get(app.apiroot+"Dependency/getProfessionDependency",{params:{dependencyName:"ProfessionCategory",dependencyValue:""}})},ProfessionGroup:function(){return http.get(app.apiroot+"Dependency/getProfessionDependency",{params:{dependencyName:"",dependencyValue:""}})},ProfessionSpecialisation:function(dependencyVal2){return http.get(app.apiroot+"Dependency/getProfessionDependency",{params:{dependencyName:"ProfessionGroup",dependencyValue:dependencyVal2}})},casteselect:function(){return http.get(app.apiroot+"Dependency/getDropdown_filling_values",{params:{strDropdownname:"CasteName"}})},countryCodeselect:function(){return http.get(app.apiroot+"Dependency/getDropdown_filling_values",{params:{strDropdownname:"CountryCode"}})},currency:function(){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"Currency",dependencyValue:"",dependencyflagID:""}})},stars:function(obj){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"StarType",dependencyValue:obj,dependencyflagID:""}})},castedependency:function(obj1,obj2){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"Caste",dependencyValue:obj1,dependencyflagID:obj2}})},subCasteBind:function(obj1){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"SubCaste",dependencyValue:obj1,dependencyflagID:""}})},branch:function(obj1){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"Region",dependencyValue:obj1,dependencyflagID:""}})}}}]),app.factory("successstoriesdata",["$http",function(http){return{suceessdataget:function(frompage,topage){var person={};return person.successid=null,person.vc_ProfileID=null,person.i_RegionID=null,person.casteiid=null,person.branchrom=null,person.pagefrom=frompage,person.pageto=topage,http.post(app.apiroot+"StaticPages/SuccessStoriesdetails",person)},maskclasspartner:function(logphotostatus,photo,photocount){var PhotoMaskDiv,photoclass="";return PhotoMaskDiv="null"!==logphotostatus&&null!==logphotostatus&&photo.indexOf("ApplicationPhoto")!=-1?logphotostatus!==!0&&"true"!==logphotostatus&&photo.indexOf("ApplicationPhoto")!=-1?"cssMaskdivrev clearfix":"":"null"!==logphotostatus&&null!==logphotostatus&&photo.indexOf("ThumbNail")!=-1?logphotostatus!==!0&&"true"!==logphotostatus&&photo.indexOf("ThumbNail")!=-1?"cssMaskdivrev clearfix":"":photo.indexOf("ApplicationPhoto")!==-1?"cssMaskdiv clearfix":"","cssMaskdiv clearfix"==PhotoMaskDiv?photoclass="cssMaskdiv clearfix"==PhotoMaskDiv?"cssMaskdiv clearfix Linkdisabled":"":"cssMaskdivrev clearfix"==PhotoMaskDiv?photoclass="cssMaskdivrev clearfix"==PhotoMaskDiv?"cssMaskdivrev clearfix Linkdisabled":"":photo.toLowerCase().indexOf("_rev")!=-1?photoclass="cssMaskdivrev clearfix"==PhotoMaskDiv?"cssMaskdivrev clearfix Linkdisabled":"":photo.indexOf("noimage")!=-1?photoclass="Linkdisabled":photo.indexOf("Password-Protected")!=-1?("cssMaskdiv clearfix"==PhotoMaskDiv?photoclass="cssMaskdiv clearfix Linkdisabled":"cssMaskdivrev clearfix"==PhotoMaskDiv&&(photoclass="cssMaskdivrev clearfix Linkdisabled"),photoclass="Linkdisabled"):photoclass=0===photocount?"Linkdisabled":"",photoclass}}}]),app.factory("myAppFactory",["$http",function(http){return{getData:function(){return http({method:"GET",url:"http://angular-data-grid.github.io/demo/data.json"})},getpayment:function(custid){return http.get(app.apiroot+"Payment/GetPaymentDetails",{params:{CustID:custid}})},sendsms:function(CategoryID,Cust_ID,SendPhonenumber){return http.get(app.apiroot+"StaticPages/getUnpaidMembersOwnerNotification",{params:{CategoryID:CategoryID,Cust_ID:Cust_ID,SendPhonenumber:SendPhonenumber}})}}}]);