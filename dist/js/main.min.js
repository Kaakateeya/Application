/*
 kaakateeyaangularapplication 2017-01-25 
*/
"use strict";function getvalues(test){var countries=[];$.each($("#"+test+" option:selected"),function(){countries.push($(this).val())}),alert(JSON.stringify(countries))}app.filter("dateFilter",function(){return function(x){var i,c,txt="";for(i=0;i<x.length;i++)c=x[i],i%2===0&&(c=c.toUpperCase()),txt+=c;return txt}}),app.animation(".fade123",function(){return{leave:function(element,done){$(element).fadeOut(1e3,function(){done()})},move:function(element,done){element.css("display","none"),$(element).slideDown(500,function(){done()})}}}),app.constant("arrayConstants",{MaritalStatus:[{label:"--select--",title:"--select--",value:""},{label:"Unmarried",title:"Unmarried",value:43},{label:"Divorce",title:"Divorce",value:44},{label:"Widow/Widower",title:"Widow/Widower",value:45},{label:"Separated",title:"Separated",value:46}],height:[{label:"--select--",title:"--select--",value:""},{label:"4'0 in - 122 cms",title:"4'0 in - 122 cms",value:1},{label:"4'1 in - 124 cms",title:"4'1 in - 124 cms",value:2},{label:"4'2 in - 127 cms",title:"4'2 in - 127 cms",value:3},{label:"4'3 in - 130 cms",title:"4'3 in - 130 cms",value:4},{label:"4'4 in - 132 cms",title:"4'4 in - 132 cms",value:5},{label:"4'5 in - 135 cms",title:"4'5 in - 135 cms",value:6},{label:"4'6 in - 137 cms",title:"4'6 in - 137 cms",value:7},{label:"4'7 in - 140 cms",title:"4'7 in - 140 cms",value:8},{label:"4'8 in - 142 cms",title:"4'8 in - 142 cms",value:9},{label:"4'9 in - 144 cms",title:"4'9 in - 144 cms",value:10},{label:"4'10 in - 147 cms",title:"4'10 in - 147 cms",value:11},{label:"4'11 in - 150 cms",title:"4'11 in - 150 cms",value:12},{label:"5'0 in - 152 cms",title:"5'0 in - 152 cms",value:13},{label:"5'1 in - 155 cms",title:"5'1 in - 155 cms",value:14},{label:"5'2 in - 157 cms",title:"5'2 in - 157 cms",value:15},{label:"5'3 in - 160 cms",title:"5'3 in - 160 cms",value:16},{label:"5'4 in - 162 cms",title:"5'4 in - 162 cms",value:17},{label:"5'5 in - 165 cms",title:"5'5 in - 165 cms",value:18},{label:"5'6 in - 167 cms",title:"5'6 in - 167 cms",value:19},{label:"5'7 in - 170 cms",title:"5'7 in - 170 cms",value:20},{label:"5'8 in - 172 cms",title:"5'8 in - 172 cms",value:21},{label:"5'9 in - 175 cms",title:"5'9 in - 175 cms",value:22},{label:"5'10 in - 177 cms",title:"5'10 in - 177 cms",value:23},{label:"5'11 in - 180 cms",title:"5'11 in - 180 cms",value:24},{label:"6'0 in - 183 cms",title:"6'0 in - 183 cms",value:25},{label:"6'1 in - 185 cms",title:"6'1 in - 185 cms",value:26},{label:"6'2 in - 188 cms",title:"6'2 in - 188 cms",value:27},{label:"6'3 in - 190 cms",title:"6'3 in - 190 cms",value:28},{label:"6'4 in - 193 cms",title:"6'4 in - 193 cms",value:29},{label:"6'5 in - 195 cms",title:"6'5 in - 195 cms",value:30},{label:"6'6 in - 198 cms",title:"6'6 in - 198 cms",value:31},{label:"6'7 in - 200 cms",title:"6'7 in - 200 cms",value:32},{label:"6'8 in - 203 cms",title:"6'8 in - 203 cms",value:33},{label:"6'9 in - 205 cms",title:"6'9 in - 205 cms",value:34},{label:"6'10 in - 208 cms",title:"6'10 in - 208 cms",value:35},{label:"6'11 in - 210 cms",title:"6'11 in - 210 cms",value:36},{label:"7'0 in - 213 cms",title:"7'0 in - 213 cms",value:37},{label:"7'1 in - 215 cms",title:"7'1 in - 215 cms",value:38},{label:"7'2 in - 218 cms",title:"7'2 in - 218 cms",value:39}],Religion:[{label:"--select--",title:"--select--",value:0},{label:"Hindu",title:"Hindu",value:1},{label:"Christian",title:"Christian",value:2},{label:"Muslim",title:"Muslim",value:3},{label:"Other",title:"Other",value:6},{label:"Catholic",title:"Catholic",value:9},{label:"Roma Catholic",title:"Roma Catholic",value:15},{label:"ROMAN CATHOLIC",title:"ROMAN CATHOLIC",value:16}],Mothertongue:[{label:"Telugu",title:"Telugu",value:1},{label:"Tamil",title:"Tamil",value:2},{label:"Kannada",title:"Kannada",value:3},{label:"Hindi",title:"Hindi",value:4},{label:"Punjabi",title:"Punjabi",value:5},{label:"Urdu",title:"Urdu",value:6},{label:"Lambadi",title:"Lambadi",value:7},{label:"Marati",title:"Marati",value:8},{label:"Gujaraathi",title:"Gujaraathi",value:9},{label:"English",title:"English",value:10},{label:"Malayalam",title:"Malayalam",value:11},{label:"Saurashtra",title:"Saurashtra",value:12},{label:"Orea",title:"Orea",value:13},{label:"telugu",title:"telugu",value:14}],Mothertongueselect:[{label:"--select--",title:"--select--",value:0},{label:"Telugu",title:"Telugu",value:1},{label:"Tamil",title:"Tamil",value:2},{label:"Kannada",title:"Kannada",value:3},{label:"Hindi",title:"Hindi",value:4},{label:"Punjabi",title:"Punjabi",value:5},{label:"Urdu",title:"Urdu",value:6},{label:"Lambadi",title:"Lambadi",value:7},{label:"Marati",title:"Marati",value:8},{label:"Gujaraathi",title:"Gujaraathi",value:9},{label:"English",title:"English",value:10},{label:"Malayalam",title:"Malayalam",value:11},{label:"Saurashtra",title:"Saurashtra",value:12},{label:"Orea",title:"Orea",value:13},{label:"telugu",title:"telugu",value:14}],educationcategory:[{label:"--select--",title:"--select--",value:""},{label:"Bachelors in Engineering",title:"Bachelors in Engineering",value:1},{label:"Bachelors in Degree",title:"Bachelors in Degree",value:2},{label:"Diploma",title:"Diploma",value:3},{label:"Doctorate/phd",title:"Doctorate/phd",value:4},{label:"Masters in Engineering",title:"Masters in Engineering",value:5},{label:"Bachelors in Medicine",title:"Bachelors in Medicine",value:6},{label:"Masters in Degree",title:"Masters in Degree",value:7},{label:"Finance - ICWAI/CA/CS",title:"Finance - ICWAI/CA/CS",value:10},{label:"Union Public Service Commision-Civil Services",title:"Union Public Service Commision-Civil Services",value:11},{label:"Masters in Medicine",title:"Masters in Medicine",value:13},{label:"Below Graduation",title:"Below Graduation",value:15},{label:"Not given",title:"Not given",value:21},{label:"Other",title:"Other",value:22}],educationcategorywithoutselect:[{label:"Bachelors in Engineering",title:"Bachelors in Engineering",value:1},{label:"Bachelors in Degree",title:"Bachelors in Degree",value:2},{label:"Diploma",title:"Diploma",value:3},{label:"Doctorate/phd",title:"Doctorate/phd",value:4},{label:"Masters in Engineering",title:"Masters in Engineering",value:5},{label:"Bachelors in Medicine",title:"Bachelors in Medicine",value:6},{label:"Masters in Degree",title:"Masters in Degree",value:7},{label:"Finance - ICWAI/CA/CS",title:"Finance - ICWAI/CA/CS",value:10},{label:"Union Public Service Commision-Civil Services",title:"Union Public Service Commision-Civil Services",value:11},{label:"Masters in Medicine",title:"Masters in Medicine",value:13},{label:"Below Graduation",title:"Below Graduation",value:15},{label:"Not given",title:"Not given",value:21},{label:"Other",title:"Other",value:22}],visastatus:[{label:"Student Visa",title:"Student Visa",value:284},{label:"Work Permit",title:"Work Permit",value:285},{label:"Temporary Visa",title:"Temporary Visa",value:286},{label:"Citizen",title:"Citizen",value:521},{label:"Permanent Resident",title:"Permanent Resident",value:522},{label:"Green Card",title:"Green Card",value:553}],stars:[{label:"Bharani",title:"Bharani",value:2},{label:"Krithika",title:"Krithika",value:3},{label:"Rohini",title:"Rohini",value:4},{label:"Mrigasira",title:"Mrigasira",value:5},{label:"Arudra",title:"Arudra",value:6},{label:"Punarvasu",title:"Punarvasu",value:7},{label:"Pushyami",title:"Pushyami",value:8},{label:"Aslesha",title:"Aslesha",value:9},{label:"Makha",title:"Makha",value:10},{label:"Pubba",title:"Pubba",value:11},{label:"Utharapalguni",title:"Utharapalguni",value:12},{label:"Hastham",title:"Hastham",value:13},{label:"Chitta",title:"Chitta",value:14},{label:"Swathi",title:"Swathi",value:15},{label:"Vishaka",title:"Vishaka",value:16},{label:"Anuradha",title:"Anuradha",value:18},{label:"Jesta",title:"Jesta",value:19},{label:"Moola",title:"Moola",value:20},{label:"Poorvashada",title:"Poorvashada",value:21},{label:"Utharashada",title:"Utharashada",value:22},{label:"Sravanam",title:"Sravanam",value:23},{label:"Dhanishta",title:"Dhanishta",value:24},{label:"Sathabisham",title:"Sathabisham",value:25},{label:"Poorvabadra",title:"Poorvabadra",value:26},{label:"Uthirabadra",title:"Uthirabadra",value:27},{label:"Revathi",title:"Revathi",value:28},{label:"Anuradha",title:"Anuradha",value:30},{label:"Arudra",title:"Arudra",value:31},{label:"Ashwini",title:"Ashwini",value:32},{label:"Aslesha",title:"Aslesha",value:33},{label:"Chitra",title:"Chitra",value:34},{label:"Dhanshita",title:"Dhanshita",value:35},{label:"Hasta",title:"Hasta",value:36},{label:"Jyehsta",title:"Jyehsta",value:37},{label:"Kritika",title:"Kritika",value:38},{label:"Magha",title:"Magha",value:39},{label:"Moola",title:"Moola",value:40},{label:"Mrigasira",title:"Mrigasira",value:41},{label:"Poorvabhadra",title:"Poorvabhadra",value:42},{label:"Poorvashadha",title:"Poorvashadha",value:43},{label:"Punarvasu",title:"Punarvasu",value:44},{label:"Poorvaphalguni",title:"Poorvaphalguni",value:45},{label:"Pushya",title:"Pushya",value:46},{label:"Satabisha",title:"Satabisha",value:47},{label:"Sravana",title:"Sravana",value:48},{label:"Swati",title:"Swati",value:49},{label:"Uttarashadha",title:"Uttarashadha",value:50},{label:"Uttarabhadrapada",title:"Uttarabhadrapada",value:51},{label:"Uttaraphalguni",title:"Uttaraphalguni",value:52},{label:"Visakha",title:"Visakha",value:53},{label:"Uttara",title:"Uttara",value:54},{label:"Uttarabhadra",title:"Uttarabhadra",value:55}],Priority:[{label:"--select--",title:"--select--",value:0},{label:"HighPriority",title:"HighPriority",value:69},{label:"MediumPriority",title:"MediumPriority",value:70},{label:"LowPriority",title:"LowPriority",value:71}],catgory:[{label:"--select--",title:"--select--",value:0},{label:"Login",title:"Login",value:374},{label:"Siteerror",title:"Siteerror",value:375},{label:"Feed Back",title:"Feed Back",value:376},{label:"Registration",title:"Registration",value:401},{label:"Fees Details",title:"Fees Details",value:402},{label:"Success Stories",title:"Success Stories",value:403},{label:"Other",title:"Other",value:404},{label:"Forgot Password",title:"Forgot Password",value:405},{label:"Billings",title:"Billings",value:406},{label:"Photos",title:"Photos",value:407},{label:"MatchMeeting",title:"MatchMeeting",value:430},{label:"MatchFollowup",title:"MatchFollowup",value:460},{label:"Reviews",title:"Reviews",value:461},{label:"Marketing",title:"Marketing",value:462},{label:"SettledDeletedProfiles",title:"SettledDeletedProfiles",value:474},{label:"Report Abuse",title:"Report Abuse",value:515}],region:[{label:"--Select--",title:"--Select--",value:""},{label:"Telangana",title:"Telangana",value:1},{label:"Andhra Pradesh",title:"Andhra Pradesh",value:408},{label:"Tamilnadu",title:"Tamilnadu",value:409},{label:"Karnataka",title:"Karnataka",value:410},{label:"Panducherry",title:"Panducherry",value:2}],bodyType:[{label:"--Select--",title:"--Select--",value:""},{label:"Athletic",title:"Athletic",value:21},{label:"Average",title:"Average",value:22},{label:"Slim",title:"Slim",value:23},{label:"Heavy",title:"Heavy",value:24},{label:"Doesn't Matter",title:"Doesn't Matter",value:37}],bloodGroup:[{label:"--Select--",title:"--Select--",value:""},{label:"O+",title:"O+",value:61},{label:"A+",title:"A+",value:63},{label:"B+",title:"B+",value:64},{label:"AB+",title:"AB+",value:65},{label:"O-",title:"O-",value:66},{label:"A-",title:"A-",value:67},{label:"B-",title:"B-",value:68}],healthCondition:[{label:"--Select--",title:"--Select--",value:""},{label:"No Health Problems",title:"No Health Problems",value:220},{label:"HIV",title:"HIV",value:222},{label:"Diabetes",title:"Diabetes",value:223},{label:"LowBP",title:"LowBP",value:224},{label:"HighBP",title:"HighBP",value:225},{label:"Heart Ailments",title:"Heart Ailments",value:226}],lagnam:[{label:"--Select--",title:"--Select--",value:""},{label:"Dhansu",title:"Dhansu",value:1},{label:"Kanya",title:"Kanya",value:2},{label:"Karkatakam",title:"Karkatakam",value:3},{label:"Khumbam",title:"Khumbam",value:4},{label:"Makhram",title:"Makhram",value:5},{label:"Meenam",title:"Meenam",value:6},{label:"Mesham",title:"Mesham",value:7},{label:"Midhunam",title:"Midhunam",value:8},{label:"Simham",title:"Simham",value:9},{label:"Thula",title:"Thula",value:10},{label:"Vrichikam",title:"Vrichikam",value:11},{label:"Vrushabam",title:"Vrushabam",value:12}],ZodaicSign:[{label:"--Select--",title:"--Select--",value:""},{label:"mesha",title:"mesha",value:527},{label:"vrushaba",title:"vrushaba",value:528},{label:"midhuna",title:"midhuna",value:529},{label:"karkataka",title:"karkataka",value:530},{label:"Simha",title:"Simha",value:531},{label:"Kanya",title:"Kanya",value:532},{label:"Thula",title:"Thula",value:533},{label:"Vruchika",title:"Vruchika",value:534},{label:"Dhanu",title:"Dhanu",value:535},{label:"Makara",title:"Makara",value:536},{label:"Kumbha",title:"Kumbha",value:537},{label:"Meena",title:"Meena",value:538}],paadam:[{label:"--Select--",title:"--Select--",value:""},{label:"1",title:"1",value:304},{label:"2",title:"2",value:305},{label:"3",title:"3",value:306},{label:"4",title:"4",value:539}],familyStatus:[{label:"--Select--",title:"--Select--",value:""},{label:"Lower Middle Class",title:"Lower Middle Class",value:290},{label:"Middle Class",title:"Middle Class",value:291},{label:"Upper Middle Class",title:"Upper Middle Class",value:292},{label:"Rich",title:"Rich",value:293},{label:"Affluent",title:"Affluent",value:294},{label:"Others",title:"Others",value:516},{label:"High Class",title:"High Class",value:517}],RelationshipType:[{label:"--Select--",title:"--Select--",value:""},{label:"Friend",title:"Friend",value:318},{label:"Relative",title:"Relative",value:319},{label:"Not Given",title:"Not Given",value:549}],starLanguage:[{label:"--Select--",title:"--Select--",value:""},{label:"Telugu",title:"Telugu",value:1},{label:"Tamil",title:"Tamil",value:2},{label:"Kannada",title:"Kannada",value:3}],hereabout:[{label:"--select--",title:"--select--",value:0},{label:"Search Engine",title:"Search Engine",value:481},{label:"Newspaper",title:"Newspaper",value:482},{label:"Magzine",title:"Magzine",value:483},{label:"Friend",title:"Friend",value:484},{label:"Email",title:"Email",value:485},{label:"No Answer",title:"No Answer",value:486}],improveourwebsite:[{label:"--select--",title:"--select--",value:0},{label:"Search",title:"Search",value:487},{label:"Registration",title:"Registration",value:488},{label:"Login",title:"Login",value:489},{label:"FAQ",title:"FAQ",value:490},{label:"About Us",title:"About Us",value:491},{label:"No Answer",title:"No Answer",value:492}],prices:[{label:"--select--",title:"--select--",value:0},{label:"Expensive",title:"Expensive",value:493},{label:"OK",title:"OK",value:494},{label:"Cheap",title:"Cheap",value:495},{label:"No comments",title:"No comments",value:496},{label:"No Answer",title:"No Answer",value:497}],downloadtime:[{label:"--select--",title:"--select--",value:0},{label:"Fast",title:"Fast",value:498},{label:"Average",title:"Average",value:499},{label:"Slow",title:"Slow",value:500},{label:"No Answer",title:"No Answer",value:501}],yourratethesearch:[{label:"--select--",title:"--select--",value:0},{label:"Valuable",title:"Valuable",value:507},{label:"Average",title:"Average",value:508},{label:"Bad",title:"Bad",value:509},{label:"No Answer",title:"No Answer",value:510}],comparesites:[{label:"--select--",title:"--select--",value:0},{label:"Better",title:"Better",value:502},{label:"Same",title:"Same",value:503},{label:"Bad",title:"Bad",value:504},{label:"No Answer",title:"No Answer",value:505}],recomendedtofriends:[{label:"--select--",title:"--select--",value:0},{label:"Yes",title:"Yes",value:511},{label:"No",title:"No",value:512},{label:"No Answer",title:"No Answer",value:513}],childStayingWith:[{label:"--select-- ",title:"--select--",value:0},{label:"Father",title:"Father",value:39},{label:"Mother",title:"Mother",value:40},{label:"YoungerBrother",title:"YoungerBrother",value:41},{label:"ElderBrother",title:"ElderBrother",value:42},{label:"Self",title:"Self",value:283},{label:"YoungerSister",title:"YoungerSister",value:321},{label:"ElderSister",title:"ElderSister",value:322},{label:"FatherYoungerBrother",title:"FatherYoungerBrother",value:323},{label:"FatherElderBrother",title:"FatherElderBrother",value:324},{label:"FatherYoungerSister",title:"FatherYoungerSister",value:325},{label:"FatherElderSister",title:"FatherElderSister",value:326},{label:"MotherYoungerBrother",title:"MotherYoungerBrother",value:327},{label:"MotherElderBrother",title:"MotherElderBrother",value:328},{label:"MotherYoungerSister",title:"MotherYoungerSister",value:329},{label:"MotherElderSister",title:"MotherElderSister",value:320},{label:"Spouse",title:"Spouse",value:334},{label:"XRelation",title:"XRelation",value:554},{label:"GrandFather",title:"GrandFather",value:556},{label:"GrandMother",title:"GrandMother",value:557},{label:"SisterHusband",title:"SisterHusband",value:558},{label:"Friend",title:"Friend",value:559},{label:"Relative",title:"Relative",value:560},{label:"Uncle",title:"Uncle",value:561},{label:"Aunt",title:"Aunt",value:562}],Upgrade:"Upgrade online Membership",Complexion:[{label:"--select-- ",title:"--select--",value:""},{label:"Very Fair",title:"Very Fair",value:17},{label:"Fair",title:"Fair",value:18},{label:"Medium",title:"Medium",value:19},{label:"Dark",title:"Dark",value:20},{label:"Doesn't Matter",title:"Doesn't Matter",value:38}]}),app.constant("config",function(){return{dbPath:"",imagepath:"",select:0}}),app.directive("angularMultiselect",["$injector","authSvc","successstoriesdata","alert","$timeout",function($injector,authSvc,successstoriesdata,alerts,timeout){authSvc.getCustId(),authSvc.getProfileid();return{restrict:"E",scope:{array:"=",type:"=",model:"=",castehideval:"@",id:"="},templateUrl:"templates/angualarMaterialmultiselect.html",link:function(scope,element,attrs){scope.selectallMdl=!1,scope.IDs=scope.id,scope.Caste=void 0!==scope.array&&""!==scope.array&&null!==scope.array&&scope.array.length>0?scope.array:[],scope.Castehide=void 0===scope.array||""===scope.array||null===scope.array,scope.Castehide="castehid"===scope.castehideval,scope.$watch("array",function(){scope.Caste=void 0!==scope.array&&""!==scope.array&&null!==scope.array?scope.array:[]}),scope.$watch("model",function(current,old){void 0!==scope.array&&""!==scope.array&&null!==scope.array&&scope.array.length>100&&void 0!==scope.model&&""!==scope.model&&null!==scope.model&&scope.model.length>100?scope.model.length===scope.array.length&&(scope.model=null):void 0!==scope.model&&""!==scope.model&&null!==scope.model&&scope.model.length>0&&(scope.model=current)}),scope.directivechangeevent=function(model){scope.$emit("directivechangeevent",model,scope.type)},scope.applycolorsdirecive=function(value,id){var colors="selectborderclass";return 0!==value&&"0"!==value&&""!==value&&null!==value&&void 0!==value&&value.length>0?"0"!==value.toString()&&(colors="selectborderclasscolor",$("#"+id).next().find("button").addClass("bacg")):(colors="selectborderclass",$("#"+id).next().find("button").removeClass("bacg")),colors}}}}]),app.controller("CarouselDemoCtrl",function($scope){$scope.myInterval=5e3,$scope.noWrapSlides=!1,$scope.active=0;var slides=$scope.slides=[],currIndex=0;$scope.addSlide=function(){var newWidth=600+slides.length+1;slides.push({image:"//unsplash.it/"+newWidth+"/300",text:["Nice image","Awesome photograph","That is so cool","I love that"][slides.length%4],id:currIndex++})};for(var i=0;i<4;i++)$scope.addSlide();$("#playButton").click(function(){$scope.myInterval=3e3}),$("#pauseButton").click(function(){$scope.myInterval=0})}),app.factory("dependencybind",["SelectBindServiceApp",function(SelectBindService){var modalpopupopen;return{open:function(url,scope,uibModal){modalpopupopen=uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:url,scope:scope})},closepopup:function(){modalpopupopen.close()},listSelectedVal:function(val){var str=null;return null!==val&&(str=angular.isString(val)?""===val?null:val:val.join(",")),str},StateBind:function(parentval){var stateArr=[];return SelectBindService.stateSelect(parentval).then(function(response){_.each(response.data,function(item){stateArr.push({label:item.Name,title:item.Name,value:item.ID})})}),stateArr},districtBind:function(parentval){var disttrictArr=[];return disttrictArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.districtSelect(parentval).then(function(response){_.each(response.data,function(item){disttrictArr.push({label:item.Name,title:item.Name,value:item.ID})})}),disttrictArr},cityBind:function(parentval){var cityeArr=[];return cityeArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.citySelect(parentval).then(function(response){_.each(response.data,function(item){cityeArr.push({label:item.Name,title:item.Name,value:item.ID})})}),cityeArr},professionBind:function(parentval){var professionArr=[];return professionArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.ProfessionSpecialisation(parentval).then(function(response){_.each(response.data,function(item){professionArr.push({label:item.Name,title:item.Name,value:item.ID})})}),professionArr},educationGroupBind:function(parentval){var educationGroupArr=[];return SelectBindService.EducationGroup(parentval).then(function(response){_.each(response.data,function(item){educationGroupArr.push({label:item.Name,title:item.Name,value:item.ID})})}),educationGroupArr},educationSpeciakisationBind:function(parentval){var educationSpecialArr=[];return educationSpecialArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.EducationSpecialisation(parentval).then(function(response){_.each(response.data,function(item){educationSpecialArr.push({label:item.Name,title:item.Name,value:item.ID})})}),educationSpecialArr},numbersBind:function(str,from,to){var numArr=[];numArr.push({label:"--select--",title:"--select--",value:""});for(var i=from;i<=to;i++)numArr.push({label:i+" "+str,title:i+" "+str,value:i});return numArr},numberBindWithZeros:function(str,from,to){var y,numArr=[];numArr.push({label:str,title:str,value:""});for(var x=from;x<=to;x++)y=x<10?"0"+x:x,numArr.push({label:y,title:y,value:parseInt(y)});return numArr},starBind:function(parentval){var starArr=[];return SelectBindService.stars(parentval).then(function(response){_.each(response.data,function(item){starArr.push({label:item.Name,title:item.Name,value:item.ID})})}),starArr},casteDepedency:function(parentval1,parentval2){var casteArr=[];return SelectBindService.castedependency(parentval1,parentval2).then(function(response){_.each(response.data,function(item){casteArr.push({label:item.Name,title:item.Name,value:item.ID})})}),casteArr},subCaste:function(parentval1){var subcasteArr=[];return subcasteArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.subCasteBind(parentval1).then(function(response){_.each(response.data,function(item){subcasteArr.push({label:item.Name,title:item.Name,value:item.ID})})}),subcasteArr},branch:function(parentval1){var branchArr=[];return branchArr.push({label:"--select--",title:"--select--",value:""}),SelectBindService.branch(parentval1).then(function(response){_.each(response.data,function(item){branchArr.push({label:item.Name,title:item.Name,value:item.ID})})}),branchArr},showConfirm:function(ev,mdDialog,header,okTxt,cancelTxt){var confirm=mdDialog.confirm().title(header).ariaLabel("Lucky day").cancel(cancelTxt).ok(okTxt);return confirm},checkvals:function(val){return void 0!==val&&null!==val&&""!==val}}}]),app.factory("alert",["$mdDialog","$uibModal","$timeout","arrayConstants","customerProfilesettings",function($mdDialog,uibModal,timeout,arrayConstants,customerProfilesettings){function closepopup($scope){$scope.hide=function(){forgetpassword.hide()},$scope.ValidateEmail=function(email){var expr=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return expr.test(email)},$scope.Validatnumber=function(num){var expr1=/[0-9 -()+]+$/;return expr1.test(num)},$scope.validate=function(form){return form.txtforgetemail.indexOf("@")!=-1?!!$scope.ValidateEmail(form.txtforgetemail)||(form.txtforgetemail="",alert(" Please enter valid ProfileID/Email"),!1):!(!$scope.Validatnumber(form.txtforgetemail)||9!=form.txtforgetemail.length)||(alert("Please enter valid ProfileID/Email"),form.txtforgetemail="",!1)},$scope.forgotpasswordsubmit=function(form){$scope.validate(form)&&customerProfilesettings.forgotpassword(form.txtforgetemail).then(function(response){1==response.data?(alert("Mail sent to your email, To reset your password check your mail"),forgetpassword.hide()):2==response.data?alert("Invalid Matrimony ID OR  E-mail-ID."):alert("Invalid Matrimony ID OR  E-mail-ID.")})}}var modalinstance,forgetpassword;return{open:function(msg,classname){switch(classname=classname||"success",toastr.options={closeButton:!0,debug:!0,newestOnTop:!0,progressBar:!0,positionClass:app.global.alertType,preventDuplicates:!1,showDuration:"300",hideDuration:"1000",timeOut:3e3,extendedTimeOut:2e3,showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut",onclick:null},classname){case"success":toastr.success(msg,"done");break;case"error":toastr.error(msg,"Oops");break;case"warning":toastr.warning(msg,"Alert");break;case"info":toastr.info(msg,"Info");break;default:toastr.success(msg,"Done")}},dynamicpopup:function(url,scope,uibModal,size){modalinstance=uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:url,scope:scope,size:size||"lg"})},dynamicpopupclose:function(){modalinstance.close()},mddiologcancel:function(){$mdDialog.hide()},timeoutoldalerts:function(scope,cls,msg,time){scope.typecls=cls,scope.msgs="upgrade"===msg?"<label style='color:maroon;'>Please Click Here To</label><a href='/UpgradeMembership'>  "+arrayConstants.Upgrade+"</a>":"<label>"+msg+"</label>",modalinstance=uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",template:'<div class="{{typecls}}"><div class="modal-header"><a href="javascript:void(0);" ng-click="close();"><ng-md-icon icon="close" style="fill:#c73e5f" class="pull-right" size="20"></ng-md-icon></a><h4 class="modal-title"><center>Alert</center></h4></div></div><div class="modal-body" id="modalbodyID"><p ng-bind-html="msgs"></p></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="close();">Close</button></div>',scope:scope}),"upgrade"===msg||timeout(function(){modalinstance.close()},time||4500),scope.close=function(){modalinstance.close()}},applycolors:function(value,id){var colors="selectborderclass";return 0!==value&&"0"!==value&&""!==value&&void 0!==value&&null!==value?(colors="selectborderclasscolor",$("#"+id).next().find("button").addClass("bacg")):(colors="selectborderclass",$("#"+id).next().find("button").removeClass("bacg")),colors},applycolorsfortextboxes:function(value,id){var colors="textboxremvecolor";return""!==value&&void 0!==value&&null!==value?(colors="bacg",$("#"+id).addClass("bacg")):(colors="textboxremvecolor",$("#"+id).removeClass("bacg")),colors},showforgetpopup:function(scope){forgetpassword=$mdDialog,forgetpassword.show({templateUrl:"templates/forgotPasswordDirective.html",parent:angular.element(document.body),clickOutsideToClose:!0,controller:closepopup})}}}]),app.directive("focus",function($timeout){return{scope:{trigger:"@focus"},link:function(scope,element){scope.$watch("trigger",function(value){"true"===value&&$timeout(function(){element[0].focus()})})}}}),app.directive("forgotPassword",["authSvc","customerProfilesettings","alert","$mdDialog",function(authSvc,customerProfilesettings,alerts,$mdDialog){authSvc.getCustId(),authSvc.getProfileid();return{restrict:"E",scope:{arrayphotos:"="},link:function(scope,element,attrs){scope.showforgetpassword=function(){$mdDialog.show({templateUrl:"templates/forgotPasswordDirective.html",parent:angular.element(document.body),clickOutsideToClose:!0,scope:scope})},scope.ValidateEmail=function(email){var expr=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return expr.test(email)},scope.Validatnumber=function(num){var expr1=/[0-9 -()+]+$/;return expr1.test(num)},scope.validate=function(form){return form.txtforgetemail.indexOf("@")!=-1?!!scope.ValidateEmail(form.txtforgetemail)||(form.txtforgetemail="",alert(" Please enter valid ProfileID/Email"),!1):!(!scope.Validatnumber(form.txtforgetemail)||9!=form.txtforgetemail.length)||(alert("Please enter valid ProfileID/Email"),form.txtforgetemail="",!1)},scope.cancel=function(){$mdDialog.hide()},scope.forgotpasswordsubmit=function(form){scope.validate(form)&&customerProfilesettings.forgotpassword(form.txtforgetemail).then(function(response){1==response.data?(alerts.open("Mail sent to your email, To reset your password check your mail.","success"),$mdDialog.cancel()):2==response.data?alerts.open("Invalid Matrimony ID OR  E-mail-ID.","warning"):alerts.open("Invalid Matrimony ID OR  E-mail-ID.","warning")})},scope.$on("showforgetpassworddirective",function(event){scope.showforgetpassword()})}}}]),app.directive("multiselectdropdown",["arrayConstants","SelectBindServiceApp","$timeout",function(cons,service,timeout){return{require:"ng-model",scope:{ngModel:"=",typeofdata:"=",parentVal:"="},link:function(scope,element,attrs){scope.options=[],scope.databind=function(data){timeout(function(){scope.status="multiple"in attrs,scope.status===!0&&void 0!==data[0]&&"--select--"===angular.lowercase(data[0].title)&&data.splice(0,1),element.multiselect("dataprovider",data)},500)},timeout(function(){element.multiselect("select",scope.ngModel)},500),timeout(function(){switch(scope.typeofdata){case"MaritalStatus":scope.databind(cons.MaritalStatus);break;case"height":scope.databind(cons.height);break;case"Religion":scope.databind(cons.Religion);break;case"Mothertongue":scope.databind(cons.Mothertongue);break;case"Mothertongueselect":scope.databind(cons.Mothertongueselect);break;case"educationcategory":scope.databind(cons.educationcategory);break;case"visastatus":scope.databind(cons.visastatus);break;case"stars":scope.databind(cons.stars);break;case"region":scope.databind(cons.region);break;case"bodyType":scope.databind(cons.bodyType);break;case"bloodGroup":scope.databind(cons.bloodGroup);break;case"healthCondition":scope.databind(cons.healthCondition);break;case"starLanguage":scope.databind(cons.starLanguage);break;case"lagnam":scope.databind(cons.lagnam);break;case"ZodaicSign":scope.databind(cons.ZodaicSign);break;case"paadam":scope.databind(cons.paadam);break;case"familyStatus":scope.databind(cons.familyStatus);break;case"RelationshipType":scope.databind(cons.RelationshipType);break;case"childStayingWith":scope.databind(cons.childStayingWith);break;case"hereabout":scope.databind(cons.hereabout);break;case"improveourwebsite":scope.databind(cons.improveourwebsite);break;case"prices":scope.databind(cons.prices);break;case"downloadtime":scope.databind(cons.downloadtime);break;case"yourratethesearch":scope.databind(cons.yourratethesearch);break;case"comparesites":scope.databind(cons.comparesites);break;case"recomendedtofriends":scope.databind(cons.recomendedtofriends);break;case"Country":service.countrySelect().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"ProfCatgory":service.ProfessionCatgory().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"ProfGroup":service.ProfessionGroup().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"indiaStates":service.stateSelect("1").then(function(response){
var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"countryCode":service.countryCodeselect().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"caste":service.casteselect().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"Caste":service.casteselect().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:0}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"currency":service.currency().then(function(response){var option=[];option.push({label:"--select--",title:"--select--",value:""}),_.each(response.data,function(item){option.push({label:item.Name,title:item.Name,value:item.ID})}),scope.databind(option)});break;case"catgory":scope.databind(cons.catgory);break;case"Priority":scope.databind(cons.Priority);break;case"Age":case"Ageselect":var test=[];test.push({label:"--select--",title:"--select--",value:"0"});for(var i=18;i<78;i++)"Ageselect"===scope.typeofdata?test.push({label:i+" years",title:i+" years",value:i}):test.push({label:i,title:i,value:i});scope.databind(test);break;case"Complexion":scope.databind(cons.Complexion)}},1e3),element.multiselect({buttonClass:"btn",buttonWidth:"auto",inheritClass:!0,includeSelectAllOption:!0,disableIfEmpty:!0,nonSelectedText:"Any",allSelectedText:"All Selected",selectAllText:"Check all!",enableFiltering:!0,enableCaseInsensitiveFiltering:!0,filterPlaceholder:"Type To Search",buttonContainer:'<div class="btn-group" />',maxHeight:!1}),scope.$watch(function(){return element.multiselect("select",scope.ngModel),element[0].length},function(){scope.$applyAsync(element.multiselect("rebuild")),element.multiselect("select",scope.ngModel)}),scope.$watch(attrs.ngModel,function(){element.multiselect("refresh")})}}}]),app.directive("alertDirective",["commonFactory","$uibModal","$timeout","$sce",function(commonFactory,uibModal,timeout,$sce){var modalinstance;return{restrict:"E",templateUrl:"templates/oldAlert.html",link:function(scope,element,attrs){scope.$on("showAlertPopupccc",function(event,cls,msg,time){scope.typecls=cls,scope.msgs=msg,modalinstance=uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"oldAlert.html",scope:scope}),"upgrade"===scope.msgs||(scope.msgs=$sce.trustAsHtml(msg),timeout(function(){scope.close()},time||4500))}),scope.close=function(){modalinstance.close()}}}}]),app.directive("partnerData",["$injector","authSvc","successstoriesdata","$mdDialog","alert","customerDashboardServices","$uibModal","$http","helperservice",function($injector,authSvc,successstoriesdata,$mdDialog,alerts,customerDashboardServices,uibModal,$http,helperservice){return{restrict:"E",scope:{array:"=",typeofsearch:"=",pagging:"="},templateUrl:"templates/Commonpartnerprofiles.html",link:function(scope,element,attrs){function pageload(carouselID,curProfileID,totalrecordsID,lnkLastSlide,playButtonID,pauseButtonID){currentslide=1;var totalItems=$("#"+carouselID).find(".item").length;0===totalItems&&(scope.$emit("slideshowsubmit",1,10,"slideshow"),scope.checkitemnew(carouselID)),slidBind(carouselID,curProfileID,totalrecordsID,lnkLastSlide,playButtonID,pauseButtonID),ArrowMove(carouselID),checkitemGlobal(carouselID)}function slidBind(carouselID,curProfileID,totalrecordsID,lnkLastSlide,playButtonID,pauseButtonID){$("#"+carouselID).bind("slide.bs.carousel",function(e){$(".list-inline li a").removeClass("selected"),$("[id=carousel-selector-"+$("#"+carouselID).find("div.active").index()+"]").addClass("selected");var totalItems1=$("#"+carouselID).find(".item").length,currentIndex1=$("#"+carouselID).find("div.active").index()+1;$("#lnkLastSlide").text(currentIndex1),$("#"+carouselID).find("div.active").index(),currentslide<currentIndex1&&(void 0!==logincustid&&null!==logincustid&&""!==logincustid?parseInt(totalItems1)-parseInt(currentIndex1)===4&&scope.$emit("slideshowsubmit",totalItems1+1,totalItems1+10,"slideshow"):parseInt(totalItems1)-parseInt(currentIndex1)===1&&scope.$emit("showloginpopup")),currentslide=currentIndex1})}function ArrowMove(carouselID){$(document).bind("keyup",function(e){var totalItems=$("#"+carouselID).find(".item").length,currentIndex=$("#"+carouselID).find("div.active").index()+1;39==e.which?totalItems!=currentIndex&&$("#"+carouselID).carousel("next"):37==e.which&&1!=currentIndex&&$("#"+carouselID).carousel("prev")})}function checkitemGlobal(carouselID){var checkitem=function(){scope.checkitemnew(carouselID)};$("#"+carouselID).on("slid.bs.carousel","",checkitem)}var logincustid=authSvc.getCustId();scope.LcustID=logincustid;var loginprofileid=authSvc.getProfileid();scope.loginpaidstatus=authSvc.getpaidstatus();var currentslide=1;scope.searchestype=scope.typeofsearch,scope.typeofdiv=scope.pagging===!1?"List":"Grid",scope.slideshowsearches=!1,scope.playpausebuttons=!0,scope.pauseplaybuttons=!0,scope.partnersearchessearches=!0,scope.lnkLastSlide=1,scope.paggingflag=scope.pagging,scope.LoginPhotoIsActive=sessionStorage.getItem("LoginPhotoIsActive"),scope.startindex=1,scope.endindex=scope.paggingflag===!1?8:9,scope.flag=scope.paggingflag===!1?8:9,scope.loaderspin=!1,scope.Norowsend=!1,scope.PartnerProfilesnew=scope.array,scope.indexvalues=0,scope.loadmore=!1;scope.slides=[],scope.directivepaging=function(){void 0!==logincustid&&null!==logincustid&&""!==logincustid?(scope.loaderspin=!0,scope.loadmore=!1,scope.flag+=scope.paggingflag===!1?8:9,scope.startindex=scope.flag-(scope.paggingflag===!1?7:8),scope.endindex=scope.flag,scope.$emit("directivecallingpaging",scope.startindex,scope.endindex)):scope.$emit("showloginpopup")},scope.$on("loadmore",function(event,endflag){scope.loaderspin=!1,void 0!==scope.array&&scope.array.length>0&&(scope.endindex=scope.array[0].TotalRows>scope.endindex==!0?scope.endindex:scope.array[0].TotalRows,scope.loadmore=scope.array[0].TotalRows>scope.endindex,scope.Norowsend=scope.array[0].TotalRows===scope.endindex)}),scope.$watch("array",function(value){scope.PartnerProfilesnew=scope.array,void 0!==scope.array&&scope.array.length>0&&(scope.loadmore=scope.array[0].TotalRows>(scope.paggingflag===!1?8:9)||scope.array[0].TotalRows>scope.endindex,scope.Norowsend=scope.array[0].TotalRows<(scope.paggingflag===!1?8:9)||scope.array[0].TotalRows<scope.endindex,scope.startindex=1,scope.endindex=scope.paggingflag===!1?8:9,scope.flag=scope.paggingflag===!1?8:9)}),scope.listclick=function(){scope.$emit("slideshowrefineshow"),scope.typeofdiv="List",$(".search_result_items_main").attr("style","width:80%;"),scope.slideshowsearches=!1,scope.playpausebuttons=!0,scope.pauseplaybuttons=!0,scope.partnersearchessearches=!0,scope.searchestype=scope.paggingflag!==!1},scope.gridclick=function(){scope.$emit("slideshowrefineshow"),scope.typeofdiv="Grid",$(".search_result_items_main").attr("style",""),scope.slideshowsearches=!1,scope.playpausebuttons=!0,scope.pauseplaybuttons=!0,scope.partnersearchessearches=!0,scope.searchestype=scope.paggingflag!==!1},scope.servicehttp=function(type,object){return $http.post(app.apiroot+"CustomerService/CustomerServiceBal",object).then(function(response){switch(type){case"B":1===response.data?("index"!==scope.indexvalues&&scope.array.splice(scope.indexvalues,1),scope.$emit("incrementcounts"),scope.$emit("successfailer","bookmarked suceessfully","success")):scope.$emit("successfailer","bookmarked failed","warning");break;case"E":1==response.data?("index"!==scope.indexvalues&&scope.array.splice(scope.indexvalues,1),scope.$emit("incrementcounts"),scope.$emit("successfailer","EXpressInterest done SuccessFully","success")):scope.$emit("successfailer","EXpressInterest Fail","warning");break;case"I":1===response.data?("index"!==scope.indexvalues&&scope.array.splice(scope.indexvalues,1),scope.$emit("incrementcounts"),scope.$emit("successfailer","Ignore SuccessFully","success")):scope.$emit("successfailer","Ignore profile Fail","warning");break;case"M":case"TH":case"RP":1===response.data?scope.$emit("successfailer","Message sent SuccessFully","success"):scope.$emit("successfailer","Message sending Fail","warning")}})},scope.serviceactions=function(type,tocustid,typeofactionflag,profileid,form,logid,MessageHistoryId){if(void 0!==logincustid&&null!==logincustid&&""!==logincustid){var object=(scope.indexvalues,{IFromCustID:logincustid,IToCustID:tocustid,TypeofInsert:type,EncriptedText:null,EncryptedRejectFlagText:null,EncriptedTextrvr:null,EncryptedRejectFlagTextrvr:null,StrHtmlText:null,MessageLinkId:null,MessageHistoryId:null,Logid:void 0!==logid?logid:null,FromProfileID:loginprofileid,ToProfileID:void 0!==profileid?profileid:null});switch(1===typeofactionflag&&(typeofactionflag=!0),type){case"B":typeofactionflag!==!0?scope.servicehttp(type,object):scope.$emit("successfailer","You have already Bookmark This ProfileID","warning");break;case"E":typeofactionflag!==!0?authSvc.paymentstaus(logincustid,scope).then(function(responsepaid){responsepaid===!0&&scope.servicehttp(type,object)}):scope.$emit("successfailer","You have already ExpressInterest This ProfileID","warning");break;case"I":typeofactionflag!==!0?scope.servicehttp(type,object):scope.$emit("successfailer","You have already Ignore This ProfileID","warning");break;case"M":case"TH":case"RP":scope.servicehttp(type,object);break;case"V":scope.servicehttp(type,object)}}else scope.$emit("showloginpopup")},scope.$on("sendmsg",function(event,type,tocustid,typeofactionflag,form,logid,MessageHistoryId){if(void 0!==logincustid&&null!==logincustid&&""!==logincustid){var object=(scope.indexvalues,{IFromCustID:logincustid,IToCustID:tocustid,TypeofInsert:type,EncriptedText:null,EncryptedRejectFlagText:null,EncriptedTextrvr:null,EncryptedRejectFlagTextrvr:null,StrHtmlText:void 0!==form?form.message:null,MessageLinkId:void 0!==typeofactionflag&&""!==typeofactionflag&&null!==typeofactionflag?typeofactionflag:null,MessageHistoryId:void 0!==MessageHistoryId&&null!==MessageHistoryId&&""!==MessageHistoryId?MessageHistoryId:null,Logid:void 0!==logid?logid:null,FromProfileID:loginprofileid,ToProfileID:null});scope.servicehttp(type,object)}else scope.$emit("showloginpopup");scope.$emit("modalpopupclose",event)}),scope.sendmessegescommon=function(type,tocustid){null!==logincustid&&void 0!==logincustid&&""!==logincustid?scope.$emit("popuplogin","myModalContent.html",tocustid):scope.$emit("showloginpopup")},scope.redirectToviewfullprofile=function(custid,logid,recentlyviewes){null!==logincustid&&void 0!==logincustid&&""!==logincustid?scope.$emit("redirectToviewfullprofiles",custid,logid):scope.$emit("showloginpopup")},scope.photoRequestMethod=function(tocustid,toprofileieid,password){return password=null!==password&&""!==password?468:467,$http.get(app.apiroot+"StaticPages/getSendMail_PhotoRequest_Customer",{params:{FromCustID:tocustid,ToCustID:logincustid,Category:password}}).then(function(response){1===response.data?scope.$emit("successfailer","Request sent suceessfully","success"):scope.$emit("successfailer","Request sent Fail","warning")})},scope.photoalbum=function(custid,profileid,photocount){null!==logincustid&&void 0!==logincustid&&""!==logincustid?(alerts.dynamicpopup("photopopup.html",scope,uibModal),customerDashboardServices.getphotoslideimages(custid).then(function(response){scope.slides=[],_.each(response.data,function(item){scope.slides.push(item)})})):scope.$emit("showloginpopup")},scope.divclassmask=function(logphotostatus,photo,photocount){logphotostatus=sessionStorage.getItem("LoginPhotoIsActive");var photostatuslogin=helperservice.checkstringvalue(authSvc.getprofilepic())?authSvc.getprofilepic():"";return null!==logincustid&&void 0!==logincustid&&""!==logincustid?successstoriesdata.maskclasspartner(logphotostatus,photo,photocount,logincustid,photostatuslogin):""},scope.indexvalue=function(index){scope.indexvalues=index},scope.modifyursearch=function(){scope.PartnerProfilesnew=[],scope.listclick(),scope.loadmore=!1,scope.loaderspin=!1,scope.Norowsend=!1,scope.$emit("modifyursearchpartner",1,10)},scope.checkitemnew=function(carouselID){var $this;$this=$("#"+carouselID),$("#"+carouselID+" .carousel-inner .item:first").hasClass("active")?($("#"+carouselID).find(".left").hide(),$("#"+carouselID).find(".right").show()):$("#"+carouselID+" .carousel-inner .item:last").hasClass("active")?($("#"+carouselID).find(".left").show(),$("#"+carouselID).find(".right").hide()):($("#"+carouselID).find(".left").show(),$("#"+carouselID).find(".right").show())},scope.playslide=function(){scope.playpausebuttons=!0,scope.pauseplaybuttons=!1,$("#slideShowCarousel").carousel({interval:2e3,pause:"false"})},scope.pauseslide=function(){scope.playpausebuttons=!1,scope.pauseplaybuttons=!0,$("#slideShowCarousel").carousel("pause")},scope.Slideshowpage=function(){scope.$emit("slideshowrefinehide"),scope.slideshowsearches=!0,scope.playpausebuttons=!1,scope.partnersearchessearches=!1,scope.searchestype=!0,pageload("slideShowCarousel","lblcurrentprofile","lblcurSlide","lnkLastSlide","playButton","pauseButton"),$(".search_result_items_main").attr("style","width:100%;"),scope.checkitemnew("slideShowCarousel"),$("#slideShowCarousel").carousel("pause")},scope.modalpopupclose=function(){alerts.dynamicpopupclose()},scope.$on("photoalbum",function(event,custid,profileid,photocount){scope.photoalbum(custid,profileid,photocount)}),scope.$on("setslide",function(event){scope.listclick()}),scope.$on("viewprofileinsert",function(event,custid){scope.serviceactions("V",custid)})}}}]),app.directive("photoPopupalbum",["$injector","authSvc","successstoriesdata","$uibModal",function($injector,authSvc,successstoriesdata,uibModal){var modalinstance;authSvc.getCustId(),authSvc.getProfileid();return{restrict:"E",scope:{arrayphotos:"="},templateUrl:"templates/photopopup.html",link:function(scope,element,attrs){scope.arrayphotos;1===scope.arrayphotos&&(modalinstance=uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"photopopup.html",size:"lg"})),scope.closepopup=function(){modalinstance.close()}}}}]),app.factory("singlestaticbindings",["arrayConstants","SelectBindServiceApp",function(arrayConstants,SelectBindService){return{Age:function(){var Age=[];Age=[{label:"--Select--",title:"--select--",value:"0"}];for(var i=18;i<78;i++)Age.push({label:i+" years",title:i+" years",value:i});return Age},Country:function(){var Countryi=[];return SelectBindService.countrySelect().then(function(response){Countryi=[{label:"--Select--",title:"--select--",value:"0"}],_.each(response.data,function(item){Countryi.push({label:item.Name,title:item.Name,value:item.ID})})}),Countryi}}}]),app.directive("setClassWhenAtTop",function($window){var $win=angular.element($window);return{restrict:"A",link:function(scope,element,attrs){var topClass=attrs.setClassWhenAtTop,offsetTop=element.offset().top;$win.on("scroll",function(e){element[$win.scrollTop()>=offsetTop?"addClass":"removeClass"](topClass)})}}}),app.controller("Controllerpartner",["$uibModal","$scope","customerDashboardServices","authSvc","alert","$window","$location","successstoriesdata","$rootScope","$timeout","route","$stateParams","commonFactory","helperservice",function(uibModal,scope,customerDashboardServices,authSvc,alerts,window,$location,successstoriesdata,$rootscope,$timeout,route,$stateParams,commonFactory,helperservice){var logincustid=authSvc.getCustId(),loginpaidstatus=(authSvc.getProfileid(),authSvc.getpaidstatus()),photostatuslogin=helperservice.checkstringvalue(authSvc.getprofilepic())?authSvc.getprofilepic():"";scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,scope.typeodbind="C",scope.typeofdiv="Grid",scope.PartnerProfilesnew=[],scope.counts=1,scope.bindallcounts={},scope.lblUHaveviewd="Suitable Profiles that match you",scope.staticNotification=["New profiles waiting for you from last month","your photograph has been viewed by members"],scope.chatstatus=null,scope.form={},scope.exactshow="C"!==scope.typeodbind&&"P"!==scope.typeodbind||"1"!==loginpaidstatus,scope.normaldata=!0,scope.notificationtxt=[],scope.notifytype="page",scope.notificationpopup=[],scope.Typeofdatabind=$stateParams.type,scope.oldnotificationpopup=[],scope.newnitify=!1,scope.oldnitify=!1,scope.catchfunction=function(){var obj={ExpressAllcount:0,ExpressIntReceived:0,ExpressIntSent:0,IgnoreProfileCount:0,MenuName:null,MybookMarkedProfCount:0,NewMsgs:0,OnlyName:null,PageName:null,ReceivedHoroRequestCount:0,ReceivedPhotoRequestCount:0,ReceivedProtectedAccept:0,ReceivedProtectedNew:0,ReceivedProtectedReject:0,RectViewedProfCount:0,RectWhoViewedCout:0,SaveSearchCount:0,SentHoroRequestCount:0,SentPhotoRequestCount:0,SentProtectedAccept:0,SentProtectedReject:0,SentProtectedReply:0,TotalMsgs:0,WhobookmarkedCount:0};scope.bindcounts(obj),scope.bindallcounts=obj},scope.gettingpartnerdata=function(type,frompage,topage,headertext,bindvalue,exactflag){scope.exactflagstorage=exactflag,null!==bindvalue&&0!==bindvalue&&"profile"!==bindvalue?(scope.flag=1===frompage?9:scope.flag,scope.typeodbind=type,scope.exactshow="C"!==scope.typeodbind&&"P"!==scope.typeodbind||"1"!==loginpaidstatus,"C"===type?customerDashboardServices.getCustomercounts(scope.custid,type,frompage,topage,exactflag).then(function(response){1===scope.counts&&(sessionStorage.removeItem("LoginPhotoIsActive"),scope.bindcounts(response.data.DashBoardCounts),scope.bindallcounts=response.data.DashBoardCounts,scope.PersonalInfo=response.data.PersonalInfo,scope.photopersonal=scope.PersonalInfo.Photo,scope.LoginPhotoIsActive=scope.PersonalInfo.IsActive,sessionStorage.setItem("LoginPhotoIsActive",scope.PersonalInfo.IsActive),scope.Gendercustomer=2===scope.PersonalInfo.GenderID?"Groom":"Bride"),1===parseInt(frompage)?(scope.PartnerProfilesnew=[],scope.typeofdiv="Grid",_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item)})):_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item)}),scope.$broadcast("loadmore"),scope.PartnerProfilesnewTotalrows=helperservice.checkstringvalue(response.data.PartnerProfilesnew)?response.data.PartnerProfilesnew[0].TotalRows:0,scope.lblUHaveviewd=headertext}).catch(function(response){scope.catchfunction()}):customerDashboardServices.getcustomerpartnerdata(scope.custid,type,frompage,topage,exactflag).then(function(response){1===parseInt(frompage)?(scope.PartnerProfilesnew=[],scope.typeofdiv="Grid",_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item)})):_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item)}),scope.$broadcast("loadmore"),scope.PartnerProfilesnewTotalrows=helperservice.checkstringvalue(response.data.PartnerProfilesnew)?response.data.PartnerProfilesnew[0].TotalRows:0,scope.lblUHaveviewd=headertext}).catch(function(response){scope.catchfunction()})):"profile"==bindvalue||scope.zerorecorsalert()},scope.paging=function(frompage,topage,typeodbind){scope.counts=0,typeodbind="C"==typeodbind?"P":typeodbind,scope.gettingpartnerdata(typeodbind,frompage,topage,scope.lblUHaveviewd,1,scope.exactflagstorage)},scope.$on("directivecallingpaging",function(event,frompage,topage){scope.paging(frompage,topage,scope.typeodbind)}),scope.bindcounts=function(array){scope.leftMenuArr=[{value:"Edit my profile",bindvalue:"profile",statename:"editview",object:{}},{value:"Upgrade your membership",bindvalue:"profile",statename:"UpgradeMembership",object:{}},{value:"manage photo",bindvalue:"profile",statename:"editview.editManagePhoto",object:{}},{value:"My bookmarked profiles",bindvalue:array.MybookMarkedProfCount,clickvalues:"MB",clickvaluesbind:"Profiles you have bookmarked"},{value:"Who bookmarked me",bindvalue:array.WhobookmarkedCount,clickvalues:"WB",clickvaluesbind:"Profiles Who BookMarked You"},{value:"Profiles viewed by me",bindvalue:array.RectViewedProfCount,clickvalues:"RV",clickvaluesbind:"Profiles viewed by me"},{value:"My profile viewed by others",bindvalue:array.RectWhoViewedCout,clickvalues:"WV",clickvaluesbind:"Members viewed my profile"},{value:"Ignored profiles",bindvalue:array.IgnoreProfileCount,clickvalues:"I",clickvaluesbind:"Profiles ignored by you"},{value:"Saved search",bindvalue:array.SaveSearchCount,statename:"General",object:{id:3}},{value:"Profile Settings",bindvalue:"profile",statename:"profilesettings",object:{}},{value:"help",bindvalue:"profile",statename:"help",object:{}}]};var TypeOfReportexpress=null,yourFilterexpress=null,oppfilterexpress=null;scope.flagexpress=9,scope.expressinterestselect=function(count,TypeOfReport,yourFilter,oppfilter,frompage,topage,headertext,typeofinterest,eventclick){if(scope.exactshow=!0,0!==count){null!==eventclick&&(scope.click=eventclick),"1"===headertext||"2"===headertext||"3"===headertext?(scope.flagexpress=9,"1"===headertext?(yourFilterexpress=scope.expressmyinterest.indexOf("I interesed in")!==-1?"I":null,oppfilterexpress=scope.expressmyinterest.indexOf("I interesed in")==-1?"I":null,TypeOfReportexpress=scope.expressmyinterest.indexOf("I interesed in")!==-1?"R":"S"):"2"===headertext?(yourFilterexpress=scope.expressmynotinterest.indexOf("I skipped")!==-1?"NI":null,oppfilterexpress=scope.expressmynotinterest.indexOf("I skipped")==-1?"NI":null,TypeOfReportexpress=scope.expressmynotinterest.indexOf("I skipped")!==-1?"R":"S"):(yourFilterexpress=scope.expressmynotviewed.indexOf("I Viewed/NotViewed")!==-1?"V,NV":null,oppfilterexpress=scope.expressmynotviewed.indexOf("I Viewed/NotViewed")==-1?"V,NV":null,TypeOfReportexpress=scope.expressmynotviewed.indexOf("I Viewed/NotViewed")!==-1?"R":"S")):null===headertext?(scope.flagexpress=9,TypeOfReportexpress=TypeOfReport,yourFilterexpress=yourFilter,oppfilterexpress=oppfilter):(TypeOfReportexpress=TypeOfReport,yourFilterexpress=yourFilter,oppfilterexpress=oppfilter),scope.startindexexpress=1===frompage?1:scope.startindexexpress,scope.endindexexpress=1===frompage?9:scope.endindexexpress;var exp={IntCustID:scope.custid,TypeOfReport:TypeOfReportexpress,yourFilter:yourFilterexpress,oppfilter:oppfilterexpress,pagefrom:scope.startindexexpress,pageto:scope.endindexexpress};customerDashboardServices.getexpressintersetdata(exp).then(function(response){1===parseInt(frompage)?(scope.PartnerProfilesnew=[],_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)}),"All Profiles"===typeofinterest?(scope.click="",scope.flagexpress=9,scope.typeofdiv="All Profiles"===headertext?"Expressinterest":"Expressinterestsend",scope.expressmyinterest="R"===TypeOfReport?"I interesed in":scope.Gendercustomer+" interesed",scope.expressmynotinterest="R"===TypeOfReport?"I skipped":scope.Gendercustomer+" skipped",scope.expressmynotviewed="R"===TypeOfReport?"I Viewed/NotViewed":scope.Gendercustomer+" Viewed/NotViewed",null!==scope.PartnerProfilesnew[0]&&void 0!==scope.PartnerProfilesnew[0]&&null!==scope.PartnerProfilesnew[0]&&(scope.expressmyinterestcount="R"===TypeOfReport?scope.PartnerProfilesnew[0].YouProceed:scope.PartnerProfilesnew[0].OppProceed,scope.expressmynotinterestcount="R"===TypeOfReport?scope.PartnerProfilesnew[0].Youskipped:scope.PartnerProfilesnew[0].Oppskipped,scope.expressmynotviewedcount="R"===TypeOfReport?scope.PartnerProfilesnew[0].YouPending:scope.PartnerProfilesnew[0].Opppending,scope.YouProceed=scope.PartnerProfilesnew[0].YouProceed,scope.Youskipped=scope.PartnerProfilesnew[0].Youskipped,scope.YouPending=scope.PartnerProfilesnew[0].YouPending,scope.OppProceed=scope.PartnerProfilesnew[0].OppProceed,scope.Oppskipped=scope.PartnerProfilesnew[0].Oppskipped,scope.Opppending=scope.PartnerProfilesnew[0].Opppending,scope.PartnerProfilesnewTotalrows=helperservice.checkstringvalue(response.data[0])?response.data[0].TotalRows:0,scope.lblUHaveviewd="R"===TypeOfReport?"Interest Expressed By "+scope.Gendercustomer:headertext,scope.totalrows=scope.PartnerProfilesnew[0].TotalRows,scope.loadmoreexpress=scope.PartnerProfilesnew[0].TotalRows>9,scope.Norowsendexpress=scope.PartnerProfilesnew[0].TotalRows===scope.endindexexpress||scope.PartnerProfilesnew[0].TotalRows<scope.endindexexpress)):helperservice.checkstringvalue(scope.PartnerProfilesnew[0])&&(scope.totalrows=scope.PartnerProfilesnew[0].TotalRows,scope.loadmoreexpress=scope.PartnerProfilesnew[0].TotalRows>9,scope.Norowsendexpress=scope.PartnerProfilesnew[0].TotalRows===scope.endindexexpress||scope.PartnerProfilesnew[0].TotalRows<scope.endindexexpress)):_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})})}else scope.zerorecorsalert()},app.animation(".slideexpress",function(){var NG_HIDE_CLASS="ng-hide";return{beforeAddClass:function(element,className,done){className===NG_HIDE_CLASS&&element.slideUp(done)},removeClass:function(element,className,done){className===NG_HIDE_CLASS&&element.hide().slideDown(done)}}}),scope.zerorecorsalert=function(){alerts.timeoutoldalerts(scope,"alert-danger","Sorry No Records Found",2500)},scope.successfaileralert=function(msg,typewarning){"success"===typewarning?alerts.timeoutoldalerts(scope,"alert-success",msg,3e3):alerts.timeoutoldalerts(scope,"alert-danger",msg,3e3)},scope.$on("successfailer",function(event,msg,typewarning){scope.successfaileralert(msg,typewarning)}),scope.messagecustid="",scope.$on("popuplogin",function(event,url,custid){scope.modalpopupheadertext="Enter your message here",scope.messagecustid="",scope.messagecustid=custid,scope.modalbodyshow=1,scope.buttonname="Send Message",alerts.dynamicpopup(url,scope,uibModal)}),scope.viewcontacts=function(custid,empmobile,empemail,custmobile,custemail){customerDashboardServices.getprofilegrade(custid).then(function(response){if(helperservice.checkstringvalue(response.data))if(3===response.data){var mobilenumbers="<b>Mobile number : </b> "+custmobile+"<br/> <b>Emails :</b>"+custemail;alerts.timeoutoldalerts(scope,"alert-success",mobilenumbers,3e3)}else{var mobilenumber="<p style='color:black;'> Please Contact The Below Relationship Manager As This Client Hasn't Given Authentication To Show Untill They Agree</p><br><b>Relationship Manager Mobile number : </b> "+empmobile+"<br/> <b>Relationship Manager Emails :</b>"+empemail;alerts.timeoutoldalerts(scope,"alert-danger",mobilenumber,3e3)}})},scope.Tickethistoryarray=[],scope.messagetorm=function(typeofdiv,custid,name,profileid,logid,TicketID){switch(typeofdiv){case"TH":scope.modalbodyshow=2,scope.modalpopupheadertext="Enter your message to Relationship Manager for match followup",alerts.dynamicpopup("myModalContent.html",scope,uibModal);break;case"Ticket":scope.modalbodyshow=3,scope.buttonname="MessageToRM",scope.LogID=logid,scope.messagecustid=custid,scope.modalpopupheadertext="Match Followup Of "+name+"("+profileid+")",alerts.dynamicpopup("myModalContent.html",scope,uibModal),customerDashboardServices.Tickethistory(TicketID,"H").then(function(response){scope.Tickethistoryarray=[],_.each(response.data,function(item){scope.Tickethistoryarray.push(item)})});break;case"RM":scope.modalbodyshow=2,scope.LogID=logid,scope.messagecustid=custid,scope.modalpopupheadertext="Enter your message to Relationship Manager for match followup",alerts.dynamicpopup("myModalContent.html",scope,uibModal)}},scope.sendmessages=function(form){void 0!==form&&helperservice.checkstringvalue(form.message)?scope.$broadcast("sendmsg","M",scope.messagecustid,void 0,form,void 0):alert("please enter Message")},scope.sendmessagesRMM=function(form){alerts.dynamicpopupclose(),scope.$broadcast("sendmsg","TH",scope.messagecustid,void 0,form,scope.LogID)},scope.loadmorehideshow=function(){scope.PartnerProfilesnew.length>0&&(scope.endindexexpress=scope.totalrows>scope.endindexexpress==!0?scope.endindexexpress:scope.totalrows,scope.loadmoreexpress=scope.totalrows>scope.endindexexpress,scope.Norowsendexpress=scope.totalrows===scope.endindexexpress)},scope.chatsdiv=function(fromindex,toindex,status,headertext,countalert){if(scope.exactshow=!0,0!==countalert){1===fromindex&&(window.scrollTo(0,0),scope.flagexpress=9,scope.lblUHaveviewd=headertext,scope.typeofdiv="chats",scope.chatstatus=status);var object={CustID:scope.custid,Status:scope.chatstatus,iStartIndex:fromindex,iEndIndex:toindex};customerDashboardServices.getCustometDashBoardchats(object).then(function(response){scope.PartnerProfilesnewTotalrows=helperservice.checkstringvalue(response.data[0])?response.data[0].TotalRows:0,1===parseInt(fromindex)?(scope.PartnerProfilesnew=[],_.each(response.data,function(item){scope.PartnerProfilesnew.push(item),scope.totalrows=scope.PartnerProfilesnew[0].TotalRows,scope.loadmoreexpress=scope.PartnerProfilesnew[0].TotalRows>9,scope.Norowsendexpress=scope.PartnerProfilesnew[0].TotalRows===scope.endindexexpress||scope.PartnerProfilesnew[0].TotalRows<scope.endindexexpress})):_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})})}else scope.zerorecorsalert()},scope.receivesrecphotoss=function(fromindex,toindex,type,headertext,typeofdiv,countalert,exactflag){scope.exactshow=!0,scope.exactflagstorage=exactflag,0!==countalert?(1===fromindex&&(window.scrollTo(0,0),scope.flagexpress=9,scope.lblUHaveviewd=headertext,scope.typeofdiv=typeofdiv,scope.chatstatus=type),customerDashboardServices.getcustomerpartnerdata(scope.custid,scope.chatstatus,fromindex,toindex,scope.exactflagstorage).then(function(response){scope.PartnerProfilesnewTotalrows=helperservice.checkstringvalue(response.data.PartnerProfilesnew)?response.data.PartnerProfilesnew[0].TotalRows:0,1===parseInt(fromindex)?(scope.PartnerProfilesnew=[],_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item),scope.totalrows=scope.PartnerProfilesnew[0].TotalRows,scope.loadmoreexpress=scope.PartnerProfilesnew[0].TotalRows>9,scope.Norowsendexpress=scope.PartnerProfilesnew[0].TotalRows===scope.endindexexpress||scope.PartnerProfilesnew[0].TotalRows<scope.endindexexpress})):_.each(response.data.PartnerProfilesnew,function(item){scope.PartnerProfilesnew.push(item)})})):scope.zerorecorsalert()},scope.allloadmorepaging=function(){switch(scope.spinexpress=!0,scope.Norowsendexpress=!1,scope.flagexpress+=9,scope.startindexexpress=scope.flagexpress-8,scope.endindexexpress=scope.flagexpress,scope.loadmorehideshow(),scope.typeofdiv){case"Expressinterest":case"Expressinterestsend":scope.expressinterestselect(1,TypeOfReportexpress,yourFilterexpress,oppfilterexpress,scope.startindexexpress,scope.endindexexpress),scope.spinexpress=!1;break;case"chats":scope.chatsdiv(scope.startindexexpress,scope.endindexexpress),scope.spinexpress=!1;break;case"Requestphotos":case"RequestPassword":scope.receivesrecphotoss(scope.startindexexpress,scope.endindexexpress),scope.spinexpress=!1}},scope.modalpopupclose=function(){alerts.dynamicpopupclose()},scope.$on("modalpopupclose",function(event){alerts.dynamicpopupclose()}),scope.redirectToviewfull=function(custid,logid){var realpath="/viewFullProfileCustomer";scope.$broadcast("viewprofileinsert",custid),sessionStorage.removeItem("localcustid"),sessionStorage.removeItem("locallogid"),sessionStorage.setItem("localcustid",custid),sessionStorage.setItem("locallogid",logid),window.open(realpath,"_blank")},scope.$on("redirectToviewfullprofiles",function(event,custid,logid){scope.redirectToviewfull(custid,logid)}),scope.communicationmessageshistory=function(messagechatlinkid,messagechatcustid,messagehistoryid){scope.messagechatlinkid=messagechatlinkid,scope.messagechatcustid=messagechatcustid,scope.messagehistoryid=messagehistoryid,alerts.dynamicpopup("mytickethistory.html",scope,uibModal);var obj={CustID:scope.custid,MessageStatusID:null,MessageLinkId:messagechatlinkid,
i_PageSize:15,i_PageNumber:1,i_StartIndex:1,i_EndIndex:15,MessageID:null};scope.arraytickethistory=[],customerDashboardServices.communicationhistorychats(obj).then(function(response){_.each(response.data,function(item){scope.arraytickethistory.push(item)})})},scope.SubmitMsg=function(form){scope.$broadcast("sendmsg","RP",scope.messagechatcustid,scope.messagechatlinkid,form,void 0,scope.messagehistoryid)},scope.photoPasswordactionss=function(type,tocustid){customerDashboardServices.photopasswordactioninsert(scope.custid,tocustid,type).then(function(response){1===response.data?1===type?alerts.timeoutoldalerts(scope,"alert-success","Accepted successfully",2500):alerts.timeoutoldalerts(scope,"alert-success","Rejected successfully",2500):1===type?alerts.timeoutoldalerts(scope,"alert-danger","sorry Accepted Fail",2500):alerts.timeoutoldalerts(scope,"alert-danger","sorry Rejected Fail",2500)})},scope.acceptlink=function(type){customerDashboardServices.acceptrejectexpressinterest(scope.custid,scope.expressintcustid,scope.expressintlogid,type,null).then(function(response){1===response.data?alerts.timeoutoldalerts(scope,"alert-success","Proceed successfully",2500):alerts.timeoutoldalerts(scope,"alert-danger","sorry Proceed Fail",2500),alerts.dynamicpopupclose()})},scope.acceptlinkexp=function(type,custid,logid){customerDashboardServices.acceptrejectexpressinterest(scope.custid,custid,logid,type,null).then(function(response){1===response.data?alerts.timeoutoldalerts(scope,"alert-success","Proceed successfully",2500):alerts.timeoutoldalerts(scope,"alert-danger","sorry Proceed Fail",2500),alerts.dynamicpopupclose()})},scope.acceptrejectpopup=function(custid,logid,Name){scope.modalpopupheadertext=Name+" Status",scope.expressintcustid=custid,scope.expressintlogid=logid,scope.modalbodyshow=4,alerts.dynamicpopup("myModalContent.html",scope,uibModal)},scope.divclassmaskforall=function(logphotostatus,photo,photocount){return logphotostatus=sessionStorage.getItem("LoginPhotoIsActive"),successstoriesdata.maskclasspartner(logphotostatus,photo,photocount,scope.custid,photostatuslogin)},scope.incrementsdashboardcounts=function(){customerDashboardServices.getCustomercounts(scope.custid,"COU",1,9,"UnPaid").then(function(response){scope.bindcounts(response.data.DashBoardCounts),scope.bindallcounts=response.data.DashBoardCounts})},scope.$on("incrementcounts",function(){scope.incrementsdashboardcounts()}),scope.newprofileawaiting=function(type,frompage,topage,headertext,bindvalue){authSvc.paymentstaus(scope.custid,scope).then(function(response){response===!0&&scope.gettingpartnerdata(type,frompage,topage,headertext,1,"UnPaid")})},scope.photoalbumdashboard=function(custid,profileid,photocount){scope.$broadcast("photoalbum",custid,profileid,photocount)},scope.pageloadbind=function(response){scope.bindcounts(response.data.DashBoardCounts),scope.bindallcounts=response.data.DashBoardCounts,scope.PersonalInfo=response.data.PersonalInfo,scope.photopersonal=scope.PersonalInfo.Photo,scope.LoginPhotoIsActive=scope.PersonalInfo.IsActive,sessionStorage.setItem("LoginPhotoIsActive",scope.PersonalInfo.IsActive),scope.Gendercustomer=2===scope.PersonalInfo.GenderID?"Groom":"Bride"},scope.init=function(){switch(scope.PartnerProfilesnew=[],scope.exactshow="C"!==scope.Typeofdatabind&&"P"!==scope.Typeofdatabind||"1"!==loginpaidstatus,scope.Typeofdatabind){case"MB":customerDashboardServices.getCustomercounts(scope.custid,"DC",1,9,"UnPaid").then(function(response){1===scope.counts&&(sessionStorage.removeItem("LoginPhotoIsActive"),scope.pageloadbind(response)),scope.gettingpartnerdata("MB",1,9,"My bookmarked profiles",1,"UnPaid")});break;case"WB":customerDashboardServices.getCustomercounts(scope.custid,"DC",1,9,"UnPaid").then(function(response){1===scope.counts&&(sessionStorage.removeItem("LoginPhotoIsActive"),scope.pageloadbind(response)),scope.gettingpartnerdata("WB",1,9,"Who BookMarked Me",1,"UnPaid")});break;case"I":customerDashboardServices.getCustomercounts(scope.custid,"DC",1,9,"UnPaid").then(function(response){1===scope.counts&&(sessionStorage.removeItem("LoginPhotoIsActive"),scope.pageloadbind(response)),scope.gettingpartnerdata("I",1,9,"Ignored Profiles",1,"UnPaid")});break;case"WV":customerDashboardServices.getCustomercounts(scope.custid,"DC",1,9,"UnPaid").then(function(response){1===scope.counts&&(sessionStorage.removeItem("LoginPhotoIsActive"),scope.pageloadbind(response)),scope.gettingpartnerdata("WV",1,9,"My profile viewed by others",1,"UnPaid")});break;case"RV":customerDashboardServices.getCustomercounts(scope.custid,"DC",1,9,"UnPaid").then(function(response){1===scope.counts&&(sessionStorage.removeItem("LoginPhotoIsActive"),scope.pageloadbind(response)),scope.gettingpartnerdata("RV",1,9,"Profiles viewed by me",1,"UnPaid")});break;case"Chats":customerDashboardServices.getCustomercounts(scope.custid,"DC",1,9,"UnPaid").then(function(response){1===scope.counts&&(sessionStorage.removeItem("LoginPhotoIsActive"),scope.pageloadbind(response)),scope.chatsdiv(1,9,463,"Total Messages",scope.bindallcounts.NewMsgs)});break;case"Requests":customerDashboardServices.getCustomercounts(scope.custid,"DC",1,9,"UnPaid").then(function(response){1===scope.counts&&(sessionStorage.removeItem("LoginPhotoIsActive"),scope.pageloadbind(response)),scope.receivesrecphotoss(1,9,"RP","Members are requesting to upload your photo","Requestphotos","UnPaid",scope.bindallcounts.ReceivedPhotoRequestCount)});break;case"Express":customerDashboardServices.getCustomercounts(scope.custid,"DC",1,9,"UnPaid").then(function(response){1===scope.counts&&(sessionStorage.removeItem("LoginPhotoIsActive"),scope.pageloadbind(response)),scope.expressinterestselect(scope.bindallcounts.ExpressAllcount,null,null,null,1,9,"All Profiles","All Profiles",null)});break;default:scope.gettingpartnerdata("C",1,9,"Suitable Profiles that match you",1,"UnPaid")}},scope.exactandnormal=function(typebutton){"exact"===typebutton?(scope.gettingpartnerdata("C",1,9,"Suitable Profiles that match you",1,"Paid"),scope.exactshow=!0,scope.normaldata=!1):(scope.gettingpartnerdata("C",1,9,"Suitable Profiles that match you",1,"UnPaid"),scope.exactshow=!1,scope.normaldata=!0)},scope.getNotifyArray=function(Startval,Endval,notifyID,insertType){notifyID=void 0===notifyID?"":notifyID;var inobj={Cust_NotificationID:notifyID,CustID:scope.custid,Startindex:Startval,EndIndex:Endval};customerDashboardServices.getNotifications(inobj).then(function(response){var dddddd=JSON.parse(response.data);_.each(dddddd,function(item,index){index%2===0||0===index?(item.bakcolor={"background-color":"#f47370"},item.linkcolor={color:"maroon"}):(item.bakcolor={"background-color":"#c3a332"},item.linkcolor={color:"#66643e"})}),"page"===scope.notifytype?scope.notificationtxt=dddddd:1===from?(scope.newnitify=!0,from=to,scope.notificationpopup=dddddd):(from=to,void 0!==insertType&&"Action"===insertType?insertType=void 0:(scope.oldnotificationpopup.length>0&&(scope.newnitify=!1,scope.notificationpopup=$.unique(scope.notificationpopup.concat(scope.oldnotificationpopup))),scope.oldnotificationpopup=$.unique(scope.oldnotificationpopup.concat(dddddd)))),scope.hidemorelnk=!1,scope.showdiv=0!==scope.notificationtxt.length,(scope.notificationpopup.length===(scope.notificationpopup.length>0&&void 0!==scope.notificationpopup[0].TotalRows)?scope.notificationpopup[0].TotalRows:null)&&(scope.hidemorelnk=!0)})},scope.getNotify=function(){scope.getNotifyArray(1,5)},scope.getNotify(),scope.moreNotification=function(){from=1,scope.disClass="",scope.loadMore()},scope.cancel=function(){commonFactory.closepopup()},$(function(){$(".marquee").marquee({direction:"up",pauseOnHover:!0}),$("#modalbody").bind("scroll",function(e){alert(1);var elem=$(e.currentTarget);elem[0].scrollHeight-elem.scrollTop()==elem.outerHeight()})}),scope.readNotify=function(notifyID,type,index){scope.disClass=index,scope.notifytype=type,"page"===type?scope.getNotifyArray(1,5,notifyID):scope.getNotifyArray(1,10,notifyID,"Action")};var from=1,to=10;scope.loadMore=function(e){scope.notifytype="popup",1===from?(scope.notificationpopup=[],scope.getNotifyArray(1,10),commonFactory.open("notifyPopup.html",scope,uibModal)):(scope.getNotifyArray(to+1,to+10),to+=10,$("#modalbody").animate({scrollTop:0},1e3),scope.newnitify=!1,scope.oldnitify=!0)},scope.notifyViewProfile=function(ToCust_Id,logid,notifyID,type,index){void 0!==ToCust_Id&&null!==ToCust_Id&&""!==ToCust_Id&&(scope.readNotify(notifyID,type,index),scope.redirectToviewfull(ToCust_Id))},scope.leftmenulinks=function(item){switch(item.value){case"My bookmarked profiles":case"Who bookmarked me":case"Profiles viewed by me":case"My profile viewed by others":case"Ignored profiles":scope.gettingpartnerdata(item.clickvalues,1,9,item.clickvaluesbind,item.bindvalue,"UnPaid");break;default:route.go(item.statename,item.object)}}}]),app.controller("footercontrol",["$scope","authSvc","$rootScope","route","alert",function(scope,authSvc,$rootscope,route,alerts){scope.showforgetpasswordpopup=function(){alerts.showforgetpopup(scope)},scope.searchpage=function(typeurl){switch(sessionStorage.removeItem("homepageobject"),typeurl){case"profile":route.go("General",{id:2});break;case"general":route.go("General",{id:0});break;case"advanced":route.go("General",{id:1})}}}]),app.controller("headctrl",["$scope","authSvc","Idle","alert","$uibModal","$rootScope","$window","$state","missingFieldService","customerviewfullprofileservices","route","helperservice",function(scope,authSvc,ngIdle,alertpopup,uibModal,$rootscope,window,$state,missingFieldService,customerviewfullprofileservices,route,helperservice){scope.showhidetestbuttons=function(){var datatinfo=authSvc.user();helperservice.checkstringvalue(datatinfo.custid)?(scope.loginstatus=!1,scope.loginoutstatus=!0,scope.usernamepersonal=datatinfo.username,scope.profileid=datatinfo.profileid,scope.paidstatus=1==datatinfo.paidstatus?"Paid":"unpaid",scope.hrefpaid=(1==datatinfo.paidstatus,"UpgradeMembership"),scope.profilepic=datatinfo.profilepic,scope.withlogin=!0,scope.withoutlogin=!1):(scope.loginstatus=!0,scope.loginoutstatus=!1,scope.usernamepersonal="",scope.profileid="",scope.paidstatus="",scope.profilepic="",scope.withlogin=!1,scope.withoutlogin=!0)},scope.headerinit=function(){scope.loginstatus=!0,scope.loginoutstatus=!1,scope.loginpopup=!1,scope.withlogin=!1,scope.withoutlogin=!0,window.scrollTo(0,0),scope.showhidetestbuttons()},scope.$on("IdleTimeout",function(){alertpopup.dynamicpopup("sessionalert.html",scope,uibModal,"sm")}),scope.acceptcontinue=function(){ngIdle.setIdle(300),alertpopup.dynamicpopupclose()},scope.closesession=function(){authSvc.logout(),alertpopup.dynamicpopupclose()},scope.divloginblock=function(){scope.loginpopup=!scope.loginpopup},scope.validate=function(){return scope.username.indexOf("@")!=-1?!!scope.ValidateEmail(scope.username)||(scope.username="",alert(" Please enter valid ProfileID/Email"),!1):!(!scope.Validatnumber(scope.username)||9!=scope.username.length)||(alert("Please enter valid ProfileID/Email"),scope.username="",!1)},scope.loginsubmit=function(){return""===scope.username||null===scope.username||"ProfileID/EmailID"===scope.username?(alert("Please enter user name"),!1):""===scope.password||null===scope.password||"Enter the Password"===scope.password?(alert("Please enter password"),!1):void(scope.validate()&&authSvc.login(scope.username,scope.password).then(function(response){sessionStorage.removeItem("homepageobject"),authSvc.user(null!==response.response?response.response[0]:null);authSvc.getCustId();sessionStorage.removeItem("LoginPhotoIsActive");var responsemiss=response;missingFieldService.GetCustStatus(responsemiss.response[0].CustID).then(function(innerresponse){var missingStatus=null,custProfileStatus=null,datav=void 0!==innerresponse.data&&null!==innerresponse.data&&""!==innerresponse.data?innerresponse.data.split(";"):null;null!==datav&&(missingStatus=parseInt(datav[0].split(":")[1]),custProfileStatus=parseInt(datav[1].split(":")[1])),439===custProfileStatus?(sessionStorage.setItem("missingStatus",missingStatus),0===missingStatus?responsemiss.response[0].isemailverified===!0&&responsemiss.response[0].isnumberverifed===!0?route.go("dashboard",{type:"C"}):route.go("mobileverf",{}):route.go("missingfields",{id:missingStatus})):route.go("blockerController",{eid:responsemiss.response[0].VerificationCode})}),scope.loginpopup=!1,scope.showhidetestbuttons()}))},scope.ValidateEmail=function(email){var expr=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return expr.test(email)},scope.Validatnumber=function(num){var expr1=/[0-9 -()+]+$/;return expr1.test(num)},scope.ClearlocalStorage=function(){authSvc.logout()},scope.viewfullmyprofile=function(){var custidlogin=authSvc.getCustId();sessionStorage.removeItem("localcustid"),sessionStorage.removeItem("locallogid"),sessionStorage.setItem("localcustid",custidlogin);var realpath="viewFullProfileCustomer";route.go(realpath,{})},scope.redirecthomeordashboard=function(){sessionStorage.removeItem("LoginPhotoIsActive");var custidlogin=authSvc.getCustId();if(null!==custidlogin&&""!==custidlogin&&void 0!==custidlogin)route.go("dashboard",{type:"C"});else{route.go("home",{})}},scope.searchpage=function(typeurl){switch(sessionStorage.removeItem("homepageobject"),typeurl){case"profile":route.go("General",{id:2}),$rootscope.$broadcast("profile",2);break;case"general":route.go("General",{id:0}),$rootscope.$broadcast("profile",0);break;case"advanced":route.go("General",{id:1}),$rootscope.$broadcast("profile",1);break;case"profilesearch":route.go("General",{id:2}),$rootscope.$broadcast("profile",2)}},scope.homepagelinks=function(typeurl){var currentstatte=$state.current;switch(typeurl){case"BookMarked":"dashboardnew"===currentstatte.name?route.go("dashboard",{type:"MB"}):route.go("dashboardnew",{type:"MB"});break;case"BookMarkedme":"dashboardnew"===currentstatte.name?route.go("dashboard",{type:"WB"}):route.go("dashboardnew",{type:"WB"});break;case"Ignored":"dashboardnew"===currentstatte.name?route.go("dashboard",{type:"I"}):route.go("dashboardnew",{type:"I"});break;case"myprofile":"dashboardnew"===currentstatte.name?route.go("dashboard",{type:"WV"}):route.go("dashboardnew",{type:"WV"});break;case"myhome":sessionStorage.removeItem("LoginPhotoIsActive"),"dashboardnew"===currentstatte.name?route.go("dashboard",{type:"C"}):route.go("dashboardnew",{type:"C"});break;case"Chats":"dashboardnew"===currentstatte.name?route.go("dashboard",{type:"Chats"}):route.go("dashboardnew",{type:"Chats"});break;case"Requests":"dashboardnew"===currentstatte.name?route.go("dashboard",{type:"Requests"}):route.go("dashboardnew",{type:"Requests"});break;case"Express":"dashboardnew"===currentstatte.name?route.go("dashboard",{type:"Express"}):route.go("dashboardnew",{type:"Express"})}},scope.showforgetpasswordpopup=function(){scope.loginpopup=!1,alertpopup.showforgetpopup(scope)},scope.$on("notify-error",function(event,value){var logincustid=authSvc.getCustId(),httperrorpopupstatus=sessionStorage.getItem("httperrorpopupstatus");"1"!==httperrorpopupstatus&&(httperrorpopupstatus=1,alertpopup.dynamicpopup("httperrorpopup.html",scope,uibModal,"sm")),customerviewfullprofileservices.getCustomerApplicationErroLog(value.statusText,logincustid,value.data.Message,value.status).then(function(response){console.log(response)})}),scope.modalpopupclosehttp=function(){var httperrorpopupstatus=1;sessionStorage.setItem("httperrorpopupstatus",httperrorpopupstatus),alertpopup.dynamicpopupclose()},scope.feedbackpage=function(){var httperrorpopupstatus=1;sessionStorage.setItem("httperrorpopupstatus",httperrorpopupstatus),route.go("feedback",{})},$(document).ready(function(){$(".menu_toggle").click(function(e){$(".profile_own_menu>ul").slideToggle()}),$(".profile_own_menu>ul>li").click(function(e){$(this).find("ul").slideToggle(),$(this).siblings().find("ul").slideUp()})})}]),app.controller("home",["$scope","homepageservices","authSvc","successstoriesdata","$mdDialog","arrayConstants","SelectBindServiceApp","$rootScope","alert","$timeout","missingFieldService","$state","route","helperservice","$uibModal",function(scope,homepageservices,authSvc,successstoriesdata,$mdDialog,arrayConstants,service,$rootscope,alerts,timeout,missingFieldService,$state,route,helperservice,uibModal){scope.homeinit=function(){scope.loginpopup=!1,scope.emailss="/^([w-.]+@([w-]+.)+[w-]{2,4})?$/",scope.username="",scope.password="",timeout(function(){successstoriesdata.suceessdataget(1,5).then(function(response){scope.successstoriesarray=response.data}),scope.gender="2",scope.Agefrom=18,scope.Ageto=30,scope.religion=1},500),scope.$on("$destroy",scope.destroy)},scope.destroy=function(){scope.loginpopup=!1,scope.emailss="",scope.username="",scope.password="",scope.gender="",scope.Agefrom="",scope.Ageto="",scope.religion=""},scope.divloginblock=function(){scope.loginpopup=!scope.loginpopup},scope.validate=function(){return scope.username.indexOf("@")!=-1?!!scope.ValidateEmail(scope.username)||(scope.username="",alert(" Please enter valid ProfileID/Email"),!1):!(!scope.Validatnumber(scope.username)||9!=scope.username.length)||(alert("Please enter valid ProfileID/Email"),scope.username="",!1)},scope.loginsubmit=function(){return""===scope.username||null===scope.username||"ProfileID/EmailID"===scope.username?(alert("Please enter user name"),!1):""===scope.password||null===scope.password||"Enter the Password"===scope.password?(alert("Please enter password"),!1):void(scope.validate()&&authSvc.login(scope.username,scope.password).then(function(response){sessionStorage.removeItem("homepageobject"),authSvc.user(null!==response.response?response.response[0]:null),sessionStorage.removeItem("LoginPhotoIsActive");var responsemiss=response;missingFieldService.GetCustStatus(responsemiss.response[0].CustID).then(function(innerresponse){var missingStatus=null,custProfileStatus=null,datav=helperservice.checkstringvalue(innerresponse.data)?innerresponse.data.split(";"):null;null!==datav&&(missingStatus=parseInt(datav[0].split(":")[1]),custProfileStatus=parseInt(datav[1].split(":")[1])),439===custProfileStatus?(sessionStorage.setItem("missingStatus",missingStatus),0===missingStatus?responsemiss.response[0].isemailverified===!0&&responsemiss.response[0].isnumberverifed===!0?route.go("dashboard",{type:"C"}):route.go("mobileverf",{}):route.go("missingfields",{id:missingStatus})):route.go("blockerController",{eid:responsemiss.response[0].VerificationCode})})}))},scope.ValidateEmail=function(email){var expr=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return expr.test(email)},scope.Validatnumber=function(num){var expr1=/[0-9 -()+]+$/;return expr1.test(num)},scope.ValidatequickRegister=function(){var srchobject={};srchobject.intCusID=null,srchobject.strCust_id=null,srchobject.intGender=scope.gender,srchobject.FromAge=scope.Agefrom,srchobject.ToAge=scope.Ageto,srchobject.iFromHeight=null,srchobject.iToHeight=null,srchobject.Maritalstatus=null,srchobject.intReligionID=scope.religion,srchobject.MotherTongue=null,srchobject.Caste=scope.caste,srchobject.iPhysicalstatus=null,srchobject.Complexion=null,srchobject.Country=scope.country,srchobject.State=null,srchobject.Visastatus=null,srchobject.Educationcategory=null,srchobject.Education=null,srchobject.Professiongroup=null,srchobject.iFromSal=null,srchobject.iToSal=null,srchobject.iManglinkKujaDosham=null,srchobject.iStarLanguage=null,srchobject.Stars=null,srchobject.iDiet=null,srchobject.intPhotoCount=null,srchobject.StartIndex=null,srchobject.EndIndex=null,srchobject.i_Registrationdays=null,srchobject.iAnnualincome=null,srchobject.flagforurl=null,srchobject.SavedSearch=null,srchobject.SearchPageID=null,srchobject.PageName=null,srchobject.SavedSearchresultid=null,srchobject.Searchresult=null,sessionStorage.setItem("homepageobject",JSON.stringify(srchobject)),route.go("General",{id:2})},scope.showforgetpasswordpopup=function(){scope.loginpopup=!1,alerts.showforgetpopup(scope)},scope.searchpage=function(){sessionStorage.removeItem("homepageobject"),route.go("General",{id:2})},scope.cancel=function(){alerts.dynamicpopupclose()},scope.mddiologcancel=function(){alerts.forgetpasswordhide()},scope.agefromtoagechange=function(from,to,flag){switch(flag){case 1:0!==parseInt(scope.Agefrom)&&0!==parseInt(scope.Ageto)&&parseInt(scope.Agefrom)>parseInt(scope.Ageto)&&(scope.Agefrom=0,alert("Please enter valid From Age"));break;case 2:0!==parseInt(scope.Agefrom)&&0!==parseInt(scope.Ageto)&&parseInt(scope.Agefrom)>parseInt(scope.Ageto)&&(scope.Ageto=0,alert("Please enter valid To Age"))}}}]),app.controller("missingfieldsctrl",["$scope","commonFactory","authSvc","$mdDialog","missingFieldService","$timeout","$stateParams","$uibModal","route",function(scope,commonFactory,authSvc,$mdDialog,missingFieldService,timeout,stateParams,uibModal,route){var logincustid=authSvc.getCustId();scope.MFSelectArray=[],scope.dataqr=parseInt(stateParams.id),scope.misObj={},scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,scope.showpopup=function(){uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"missingfieldspopup.html",scope:scope,size:"lg",backdrop:"static",keyboard:!1,windowClass:"full"});scope.starArr=commonFactory.starBind(1),missingFieldService.missingFieldSelect(scope.custid).then(function(response){scope.MFSelectArray=JSON.parse(response.data)[0],scope.divSkip=!0,1===scope.MFSelectArray.Customerdetailsflag&&(scope.divHeight=!!commonFactory.checkvals(scope.MFSelectArray.Height),scope.divMaritalstatus=!!commonFactory.checkvals(scope.MFSelectArray.MaritalStatus),scope.divComplexion=!!commonFactory.checkvals(scope.MFSelectArray.Complexion),scope.divHeight===!0&&scope.divMaritalstatus===!0&&scope.divComplexion===!0&&(scope.divSkip=!1)),1===scope.MFSelectArray.Professionflag&&(scope.divProfession=!!commonFactory.checkvals(scope.MFSelectArray.JoblocationCountryID),scope.divSalary=!!commonFactory.checkvals(scope.MFSelectArray.Salary)),scope.divProfession===!0&&scope.divSkip===!1&&(scope.divCol="none"),1===scope.MFSelectArray.AstroFlag&&(scope.divStarlanguage=!!commonFactory.checkvals(scope.MFSelectArray.TypeofStar),scope.divStar=!!commonFactory.checkvals(scope.MFSelectArray.StarName),scope.divGothram=!!commonFactory.checkvals(scope.MFSelectArray.MeternalGothram)),1===scope.MFSelectArray.ParentsFatherFlag&&(scope.divFatherNative=!!commonFactory.checkvals(scope.MFSelectArray.FFNative)),1===scope.MFSelectArray.ParentsMotherFlag&&(scope.divMotherNative=!!commonFactory.checkvals(scope.MFSelectArray.MFNative)),scope.divProperty=!!commonFactory.checkvals(scope.MFSelectArray.Property),scope.divIssharedproperty=!!commonFactory.checkvals(scope.MFSelectArray.IsSharedProperty)})},missingFieldService.GetCustStatus(scope.custid).then(function(response){}),scope.cancel=function(){$mdDialog.cancel()},scope.changeBind=function(type,parentval,countryVal){switch(type){case"Country":scope.stateArr=commonFactory.StateBind(parentval);break;case"State":"1"===countryVal||1===countryVal?scope.districtArr=commonFactory.districtBind(parentval):(scope.districtArr=[],scope.cityeArr=commonFactory.districtBind(parentval));break;case"District":scope.cityeArr=commonFactory.cityBind(parentval);break;case"star":scope.starArr=commonFactory.starBind(parentval)}},scope.misFieldsSubmit=function(obj){var misInputobj={Starlanguage:obj.ddlstarlanguages,i_updateflag:1,iJoblocationCountry:obj.lstJoblocCountry,iJoblocationDistrict:obj.lstjoblocdistrict,iJoblocationState:obj.lstjoblocstate,iJobLocation:obj.lstjoblocation,IsSharedProperty:obj.rdlSharedProperty,AstroFlag:scope.MFSelectArray.AstroFlag,ParentsFlag:scope.MFSelectArray.ParentsFatherFlag||scope.MFSelectArray.ParentsFatherFlag?1:0,MFCustFamilyID:scope.MFSelectArray.MFCustFamilyID,FFCustFamilyID:scope.MFSelectArray.FFCustFamilyID,Gothram:obj.txtgothram,MotherNative:obj.txtMothernative,Salarycurrency:obj.ddlAnnualincome,Salary:obj.txtSalary,Complexion:obj.lstComplexion,Star:obj.lststar,FatherNative:obj.txtfathernative,Propertylakhs:obj.txtProperty,Maritalstatus:obj.lstMaritalstatus,Height:obj.ddlFromheight,CustID:scope.custid};missingFieldService.missingFieldSubmit(misInputobj).then(function(response){scope.redirectToMobVerification(),scope.cancel()})},scope.redirectToMobVerification=function(){sessionStorage.removeItem("missingStatus"),route.go("mobileverf",{})},scope.pagerload=function(type){timeout(function(){switch(scope.dataqr){case 1:scope.$broadcast("datagetinedu","showEduModal");break;case 2:scope.$broadcast("datagetinedu","showProfModal");break;case 3:scope.$broadcast("datagetinParent","parent");break;case 4:scope.$broadcast("datagetinAstro");break;case 5:scope.showpopup()}},50)},scope.pagerload(scope.dataqr),scope.currencyChange=function(){}}]),app.controller("mobileverifyController",["$scope","mobileVerificationService","authSvc","route",function(scope,mobileVerificationService,authSvc,route){scope.pageloadSelect={};var logincustid=authSvc.getCustId();scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,scope.pageLoad=function(custid){mobileVerificationService.getmobileverificationData(custid).then(function(res){scope.pageloadSelect=res.data,scope.mobVerify=scope.pageloadSelect.ismobileverf===!0,scope.emailVerify=scope.pageloadSelect.isEmailverf===!0,scope.pageloadSelect.ismobileverf===!0&&scope.pageloadSelect.isEmailverf===!0&&(sessionStorage.setItem("cust.isemailverified",!0),sessionStorage.setItem("cust.isnumberverifed",!0),route.go("dashboard",{type:"C"}))})},scope.pageLoad(scope.custid),scope.verifyMobileCode=function(){scope.pageloadSelect.NumberVerificationcode===scope.txtEnteryourpin?mobileVerificationService.verifyMobile(scope.txtEnteryourpin,2,scope.pageloadSelect.Cust_ContactNumbers_ID).then(function(res){return scope.pageloadSelect=scope.pageLoad(scope.custid),scope.pageloadSelect.ismobileverf=!0,scope.pageloadSelect.ismobileverf===!0&&scope.pageloadSelect.isEmailverf===!0&&(sessionStorage.setItem("cust.isnumberverifed",!0),route.go("dashboard",{type:"C"})),!1}):alert("Please enter valid mobile verify code")},scope.resendMobCode=function(){var inputOBj={iCountryID:scope.pageloadSelect.CountryCodeID,iCCode:scope.pageloadSelect.CountryCodes,MobileNumber:scope.pageloadSelect.Number,CustContactNumbersID:scope.pageloadSelect.Cust_ContactNumbers_ID};mobileVerificationService.resendMobileCode(inputOBj).then(function(res){scope.pageLoad(scope.custid),alert("Valid Mobile Verify code sent successfully")})},scope.resendMailLink=function(){mobileVerificationService.resendEmailLink(scope.custid).then(function(res){alert("We have re-sent a mail to the provided Email")})}}]),app.controller("payment",function(){}),app.controller("paymentresponse",["$scope","route","myAppFactory",function(scope,route,myAppFactory){scope.pageloadpayment=function(){scope.paymentobject=JSON.parse(sessionStorage.getItem("paymentobject")),scope.randomNumbers=Math.round(100*Math.random()*100),scope.orderid="Ord_"+scope.paymentobject.CustID+"_"+scope.randomNumbers},scope.backtopayment=function(){route.go("UpgradeMembership",{})},scope.paymentinsert=function(){var obj={intCustID:scope.paymentobject.CustID,intMembershipID:scope.paymentobject.MembershipID,DiscountID:""!==scope.paymentobject.DiscountID?scope.paymentobject.DiscountID:null,Points:scope.paymentobject.Points,MembershipName:scope.paymentobject.MembershipName,Duration:scope.paymentobject.Duration,MembershipAmount:scope.paymentobject.Amount};myAppFactory.Paymentinsert(obj).then(function(response){})}}]),app.controller("ccavenueresponsectrl",["$scope","$stateParams","$http","alert","myAppFactory",function(scope,stateParams,http,alerts,myAppFactory){scope.paymentobject={},scope.orderid="",scope.trackingID="",scope.orderStatus="",scope.paymentobject=JSON.parse(sessionStorage.getItem("paymentobject")),http.post("/decrypt",JSON.stringify({keyname:stateParams.data})).then(function(response){if(void 0!==response.data&&null!==response.data){var paymentStatus=response.data.split(",");scope.orderid=paymentStatus[0].split("=")[1],scope.trackingID=paymentStatus[1].split("=")[1],scope.orderStatus=paymentStatus[3].split("=")[1],"Success"===scope.orderStatus?(scope.paymentinsert(),sessionStorage.setItem("cust.paidstatus",1),alerts.timeoutoldalerts(scope,"alert-success","your transaction was successful",3e3)):"Aborted"===scope.orderStatus?alerts.timeoutoldalerts(scope,"alert-danger","You have aborted the transaction",3e3):"Failure"===scope.orderStatus?alerts.timeoutoldalerts(scope,"alert-danger","Your transaction failed",3e3):"Invalid"===scope.orderStatus&&alerts.timeoutoldalerts(scope,"alert-danger","Some error occured while transaction",3e3)}}),scope.points=scope.paymentobject.Points,scope.MembershipName=scope.paymentobject.MembershipName,scope.Duration=scope.paymentobject.Duration,scope.MembershipAmount=scope.paymentobject.Amount,scope.ExpiryDate=moment().add(scope.Duration,"M").format("DD-MM-YYYY"),scope.paymentinsert=function(){var obj={intCustID:scope.paymentobject.CustID,intMembershipID:scope.paymentobject.MembershipID,DiscountID:""!==scope.paymentobject.DiscountID?scope.paymentobject.DiscountID:null,Points:scope.paymentobject.Points,MembershipName:scope.paymentobject.MembershipName,Duration:scope.paymentobject.Duration,MembershipAmount:scope.paymentobject.Amount};myAppFactory.Paymentinsert(obj).then(function(response){})}}]),app.controller("Generalsearch",["$scope","arrayConstants","SelectBindServiceApp","searches","alert","$uibModal","dependencybind","customerDashboardServices","authSvc","$mdDialog","$location","getArray","$timeout","$rootScope","commonFactory","missingFieldService","$stateParams","route","helperservice",function(scope,arrayConstants,service,searches,alerts,uibModal,commonFactory,customerDashboardServices,authSvc,$mdDialog,$location,getArray,timeout,$rootscope,commonpopup,missingFieldService,$stateParams,route,helperservice){function returnPaid(){return"1"===authSvc.getpaidstatus()}function returnCustid(){return helperservice.checkstringvalue(authSvc.getCustId())?authSvc.getCustId():null}var SearchRequest={};authSvc.getCustId();scope.reset={},scope.Country=[],scope.MaritalStatus=[],scope.selectedIndex=$stateParams.id,scope.Professiongroup=[],scope.PartnerProfilesnew=[],scope.truepartner=!0,scope.truepartnerrefine=!0,scope.refinesubmitflag="normal",scope.filtervalues=function(arr,whereValue){var storeValue="";if(null!==whereValue&&""!==whereValue&&void 0!==whereValue)if(whereValue.indexOf(",")===-1)_.filter(arr,function(obj){obj.value==parseInt(whereValue)&&(storeValue=obj.label)});else{var arrvals=whereValue.split(",");_.each(arrvals,function(item,index){_.filter(arr,function(obj){obj.value==parseInt(arrvals[index])&&(storeValue=commonpopup.checkvals(storeValue)?storeValue+","+obj.label:obj.label)})})}return storeValue},scope.textlabels=function(fromheight,toheight,caste,education){scope.modelsearch.HeightFromtext=""!==scope.filtervalues(scope.modelsearch.height,fromheight)?scope.filtervalues(scope.modelsearch.height,fromheight).split("-")[0]:"",scope.modelsearch.Heighttotext=""!==scope.filtervalues(scope.modelsearch.height,toheight)?scope.filtervalues(scope.modelsearch.height,toheight).split("-")[0]:"",scope.modelsearch.educationcategorytxt=""!==scope.filtervalues(scope.modelsearch.educationcategory,education)?scope.filtervalues(scope.modelsearch.educationcategory,education):""},scope.checkLength=function(){return helperservice.checkstringvalue(scope.modelsearch.profileid)||helperservice.checkstringvalue(scope.modelsearch.firstname)||helperservice.checkstringvalue(scope.modelsearch.lastname)?helperservice.checkstringvalue(scope.modelsearch.firstname)?!(scope.modelsearch.firstname.length<3)||(alerts.timeoutoldalerts(scope,"alert-danger","Mininum 3 charactes required For Name",2500),!1):!helperservice.checkstringvalue(scope.modelsearch.lastname)||(!(scope.modelsearch.lastname.length<3)||(alerts.timeoutoldalerts(scope,"alert-danger","Mininum 3 charactes required For LastName",2500),!1)):(alerts.timeoutoldalerts(scope,"alert-danger","please enter atleast one fileld",2500),
!1)},scope.controlsbinding=function(){scope.modelsearch.height=arrayConstants.height,scope.modelsearch.educationcategory=arrayConstants.educationcategorywithoutselect,timeout(function(){"--select--"===angular.lowercase(arrayConstants.MaritalStatus[0].title)&&arrayConstants.MaritalStatus.splice(0,1),scope.MaritalStatus=arrayConstants.MaritalStatus,scope.modelsearch.Mothertongue=arrayConstants.Mothertongue,scope.modelsearch.visastatus=arrayConstants.visastatus,scope.modelsearch.stars=arrayConstants.stars,scope.Country=getArray.GArray("Country"),scope.Professiongroup=getArray.GArray("ProfGroup")},1e3)},scope.applycolors=function(value,id){var colors="selectborderclass";return 0!==value&&"0"!==value&&""!==value&&void 0!==value&&null!==value?(colors="selectborderclasscolor",$("#"+id).next().find("button").addClass("bacg")):(colors="selectborderclass",$("#"+id).next().find("button").removeClass("bacg")),colors},scope.savedsearchselectmethods=function(custid,SaveSearchName,iEditDelete){searches.savedsearchselectmethod(custid,SaveSearchName,iEditDelete).then(function(response){scope.modelsearch.savedsearchselect=[],_.each(response.data,function(item){scope.modelsearch.savedsearchselect.push(item)})}),0===iEditDelete&&searches.savedsearchselectmethod(scope.modelsearch.custid,"",1).then(function(response){scope.modelsearch.savedsearchselect=[],_.each(response.data,function(item){scope.modelsearch.savedsearchselect.push(item)})})},scope.$watch("savedsearchselect",function(current,old){scope.modelsearch.savedsearchselect=current}),scope.arrayToString=function(string){return null!==string?string.split(",").map(Number):null},scope.partnerbindings=function(response){scope.modelsearch.casteshow=!1,scope.modelsearch.gender=2===response.data.intGender?2:1,scope.modelsearch.AgeFrom=null!==response.data.Ageto&&""!==response.data.Ageto?parseInt(response.data.Ageto):"0",scope.modelsearch.Ageto=null!==response.data.Agefrom&&""!==response.data.Agefrom?parseInt(response.data.Agefrom):"0",scope.modelsearch.HeightFrom=null!==response.data.Heightto&&""!==response.data.Heightto?parseInt(response.data.Heightto):"0",scope.modelsearch.Heightto=null!==response.data.Heightfrom&&""!==response.data.Heightfrom?parseInt(response.data.Heightfrom):"0",scope.modelsearch.maritalstatus=scope.arrayToString(response.data.Maritalstatus),scope.modelsearch.educationcat=scope.arrayToString(response.data.Educationcategory),scope.modelsearch.country=scope.arrayToString(response.data.Country),scope.modelsearch.religion=response.data.Religion,scope.modelsearch.mothertongue=scope.arrayToString(response.data.MotherTongue),scope.modelsearch.caste=null!==response.data.Caste?scope.arrayToString(response.data.Caste):"0",scope.modelsearch.castetext=response.data.CasteText,scope.modelsearch.physicalstatusadvance=response.data.PhysicalStatusstring,scope.modelsearch.State=null!==response.data.Country?commonFactory.StateBind(response.data.Country):"0",scope.modelsearch.stateadvance=null!==response.data.State?scope.arrayToString(response.data.State):"0",scope.modelsearch.Educationgroup=commonFactory.educationGroupBind(helperservice.checkstringvalue(response.data.Educationcategory)?response.data.Educationcategory.toString():""),scope.textlabels(response.data.Heightto,response.data.Heightfrom,response.data.Caste,response.data.Educationcategory)};var numberInRange=function(number,lower,upper){return number>=lower&&number<=upper},checknumber=function(value){return numberInRange(value,1,12)?"4'"+(value-1)+" in":numberInRange(value,13,24)?(value%=13,"5'"+value+" in"):numberInRange(value,25,36)?(value%=25,"6'"+value+" in"):numberInRange(value,37,39)?(value%=37,"7'"+value+" in"):void 0};scope.checkheight=function(value){var values;return values=checknumber(value)},scope.nologindata=function(){scope.controlsbinding(),scope.truepartner=!0,scope.truepartnerrefine=!0,scope.modelsearch.gender=2,scope.modelsearch.AgeFrom=18,scope.modelsearch.Ageto=30,scope.modelsearch.religion=1,scope.modelsearch.HeightFrom=1,scope.modelsearch.Heightto=38},scope.generalpageload=function(){scope.modelsearch={showcontrols:!0,typesearch:"",savedsearchselect:[],getpaidstatus:returnPaid(),savedclass:returnPaid(),custid:returnCustid(),genderdiabled:helperservice.checkstringvalue(returnCustid()),loadinging:!0,activated:!0,casteshow:!0,slideshow:"",mesagesend:"",generalsavedsearchbtn:"Save&Search",advancedsavedsearchbtn:"Save&Search",HeightFromtext:"",Heighttotext:"",educationcategorytxt:"",educationcategory:[],SearchResult_IDflag:null,height:[],Mothertongue:[],visastatus:[],stars:[],Professiongroup:[],gender:1,AgeFrom:null,Ageto:null,HeightFrom:null,Heightto:null,maritalstatus:null,educationcat:null,country:null,religion:null,mothertongue:null,caste:null,castetext:null,physicalstatusadvance:null,State:[],stateadvance:null,regdays:null,visastatusadvance:null,Educationadvance:null,Professiongroupadvance:null,monthsalcurrency:null,kujadosham:null,starlanguage:null,starsadvance:null,profileid:null,firstname:null,lastname:null,fromcurrency:null,tocurrency:null,diet:null,isCheckedphoto:!1,object:{},Educationgroup:[],Caste:[]},scope.modelsearch.object=JSON.parse(sessionStorage.getItem("homepageobject")),helperservice.checkstringvalue(scope.modelsearch.custid)?(scope.controlsbinding(),searches.partnerdetails(scope.modelsearch.custid,"","").then(function(response){scope.partnerbindings(response),angular.copy(scope.modelsearch,scope.reset)}),scope.savedsearchselectmethods(scope.modelsearch.custid,"",1)):helperservice.checkstringvalue(scope.modelsearch.object)?(scope.truepartner=!0,scope.truepartnerrefine=!0,SearchRequest={intCusID:null,strCust_id:null,intGender:"2"===scope.modelsearch.object.intGender?2:1,FromAge:scope.modelsearch.object.FromAge,ToAge:scope.modelsearch.object.ToAge,iFromHeight:null,iToHeight:null,Maritalstatus:null,intReligionID:scope.modelsearch.object.intReligionID,MotherTongue:null,Caste:null!==scope.modelsearch.object.Caste?scope.modelsearch.object.Caste:null,iPhysicalstatus:null,Complexion:null,Country:scope.modelsearch.object.Country,State:null,Visastatus:null,Educationcategory:null,Education:null,Professiongroup:null,iFromSal:null,iToSal:null,iManglinkKujaDosham:null,iStarLanguage:null,Stars:null,iDiet:null,intPhotoCount:null,StartIndex:1,EndIndex:8,i_Registrationdays:null,iAnnualincome:null,flagforurl:null,SavedSearch:null,SearchPageID:null,PageName:null,SavedSearchresultid:null,Searchresult:null},scope.generalsearchsubmit("homepage",1,8),angular.copy(scope.modelsearch,scope.reset)):(scope.nologindata(),angular.copy(scope.modelsearch,scope.reset)),scope.$on("$destroy",scope.destroy)},scope.destroy=function(){scope.modelsearch.object={},scope.reset={}},scope.resetfunctionality=function(){angular.copy(scope.reset,scope.modelsearch)},scope.returnnullvalue=function(value){var obj=helperservice.checkstringvalue(value)&&"0"!==value.toString()&&0!==value.toString()?value.toString():null;return obj},scope.submitobjectcommongenad=function(frompage,topage){return SearchRequest={intCusID:scope.modelsearch.custid,strCust_id:null!==scope.modelsearch.custid?scope.modelsearch.custid:"",intGender:scope.modelsearch.gender,FromAge:scope.modelsearch.AgeFrom,ToAge:scope.modelsearch.Ageto,iFromHeight:scope.modelsearch.HeightFrom,iToHeight:scope.modelsearch.Heightto,Maritalstatus:scope.returnnullvalue(scope.modelsearch.maritalstatus),intReligionID:scope.modelsearch.religion,MotherTongue:scope.returnnullvalue(scope.modelsearch.mothertongue),Caste:scope.returnnullvalue(scope.modelsearch.caste),iPhysicalstatus:"advanced"===scope.modelsearch.typesearch?scope.modelsearch.physicalstatusadvance:null,Complexion:null,Country:scope.returnnullvalue(scope.modelsearch.country),State:"advanced"===scope.modelsearch.typesearch?scope.returnnullvalue(scope.modelsearch.stateadvance):null,Visastatus:"advanced"===scope.modelsearch.typesearch?scope.returnnullvalue(scope.modelsearch.visastatusadvance):null,Educationcategory:scope.returnnullvalue(scope.modelsearch.educationcat),Education:"advanced"===scope.modelsearch.typesearch?scope.returnnullvalue(scope.modelsearch.Educationadvance):null,Professiongroup:"advanced"===scope.modelsearch.typesearch?scope.returnnullvalue(scope.modelsearch.Professiongroupadvance):null,iFromSal:"advanced"===scope.modelsearch.typesearch?scope.modelsearch.fromcurrency:null,iToSal:"advanced"===scope.modelsearch.typesearch?scope.modelsearch.tocurrency:null,iManglinkKujaDosham:"advanced"===scope.modelsearch.typesearch?scope.modelsearch.kujadosham:null,iStarLanguage:"advanced"===scope.modelsearch.typesearch?scope.modelsearch.starlanguage:null,Stars:"advanced"===scope.modelsearch.typesearch?scope.returnnullvalue(scope.modelsearch.starsadvance):null,iDiet:"advanced"===scope.modelsearch.typesearch?scope.modelsearch.diet:null,intPhotoCount:scope.modelsearch.isCheckedphoto===!0?1:null,StartIndex:frompage,EndIndex:topage,i_Registrationdays:"advanced"===scope.modelsearch.typesearch?scope.modelsearch.regdays:null,iAnnualincome:"advanced"===scope.modelsearch.typesearch?scope.modelsearch.monthsalcurrency:null,flagforurl:null,SavedSearch:null,SearchPageID:null,PageName:null,SavedSearchresultid:null,Searchresult:null}},scope.generalsearchsubmit=function(type,frompage,topage,form,searchsavedidupdate){switch(scope.modelsearch.loadinging=1!==frompage,scope.modelsearch.showcontrols=!1,scope.truepartner=!1,helperservice.checkstringvalue(scope.modelsearch.custid)&&"slideshow"!==scope.modelsearch.slideshow?scope.truepartnerrefine=!1:scope.truepartnerrefine=!0,type){case"advanced":case"general":scope.modelsearch.AgeFrom=helperservice.checkstringvalue(scope.modelsearch.AgeFrom)?parseInt(scope.modelsearch.AgeFrom):"0",scope.modelsearch.Ageto=helperservice.checkstringvalue(scope.modelsearch.Ageto)?parseInt(scope.modelsearch.Ageto):"0",scope.modelsearch.HeightFrom=helperservice.checkstringvalue(scope.modelsearch.HeightFrom)?parseInt(scope.modelsearch.HeightFrom):"0",scope.modelsearch.Heightto=helperservice.checkstringvalue(scope.modelsearch.Heightto)?parseInt(scope.modelsearch.Heightto):"0",scope.textlabels(helperservice.checkstringvalue(scope.modelsearch.HeightFrom)?scope.modelsearch.HeightFrom.toString():"0",helperservice.checkstringvalue(scope.modelsearch.Heightto)?scope.modelsearch.Heightto.toString():"0",null,helperservice.checkstringvalue(scope.modelsearch.educationcat)?scope.modelsearch.educationcat.toString():"0"),scope.modelsearch.typesearch=type,searches.CustomerGeneralandAdvancedSearchsubmit(scope.submitobjectcommongenad(frompage,topage)).then(function(response){1===parseInt(frompage)?(scope.PartnerProfilesnew=[],helperservice.checkarraylength(response.data)?(scope.modelsearch.showcontrols=!1,scope.truepartner=!1,_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})):"refine"===scope.refinesubmitflag?(scope.refinesubmitflag="normal",alerts.timeoutoldalerts(scope,"alert-danger","No Records Found,Please Change your Refine search cretria",2500)):(scope.modelsearch.showcontrols=!0,scope.truepartner=!0,scope.truepartnerrefine=!0,alerts.timeoutoldalerts(scope,"alert-danger","No Records Found,Please Change search Criteria",2500))):helperservice.checkstringvalue(scope.modelsearch.custid)?_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)}):scope.showloginpopup(),scope.modelsearch.loadinging=!0,"slideshow"!==scope.modelsearch.slideshow&&scope.$broadcast("loadmore")});break;case"homepage":scope.modelsearch.typesearch=type,searches.CustomerGeneralandAdvancedSearchsubmit(SearchRequest).then(function(response){scope.PartnerProfilesnew=[],helperservice.checkarraylength(response.data)?_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)}):alerts.timeoutoldalerts(scope,"alert-danger","No Records Found,Please Change search Criteria",2500),scope.modelsearch.loadinging=!0,scope.$broadcast("loadmore")});break;case"profileid":scope.modelsearch.typesearch=type,scope.truepartnerrefine=!0,scope.checkLength()?(SearchRequest={intCusID:scope.modelsearch.custid,intGender:scope.modelsearch.gender,strLastName:scope.modelsearch.lastname,strFirstName:scope.modelsearch.firstname,strProfileID:scope.modelsearch.profileid,intCasteID:null,StartIndex:frompage,EndIndex:topage},void 0!==scope.modelsearch.custid&&null!==scope.modelsearch.custid&&""!==scope.modelsearch.custid?searches.profileidsearch(SearchRequest).then(function(response){1===parseInt(frompage)?(scope.PartnerProfilesnew=[],helperservice.checkarraylength(response.data)?_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)}):"refine"===scope.refinesubmitflag?(scope.refinesubmitflag="normal",alerts.timeoutoldalerts(scope,"alert-danger","No Records Found,Please Change your Refine search cretria",2500)):(scope.modelsearch.showcontrols=!0,scope.truepartner=!0,scope.truepartnerrefine=!0,alerts.timeoutoldalerts(scope,"alert-danger","No Records Found,Please Change search Criteria",2500))):_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)}),scope.modelsearch.loadinging=!0,"slideshow"!==scope.modelsearch.slideshow&&scope.$broadcast("loadmore")}):(scope.modelsearch.showcontrols=!0,scope.truepartner=!0,scope.truepartnerrefine=!0,alerts.dynamicpopup("login.html",scope,uibModal))):(scope.modelsearch.loadinging=!0,scope.modelsearch.showcontrols=!0,scope.truepartner=!0,scope.truepartnerrefine=!0);break;case"savedsearch":scope.textlabels(scope.modelsearch.HeightFrom.toString(),scope.modelsearch.Heightto.toString(),null,scope.modelsearch.educationcat.toString()),scope.submitobjectcommongenad(frompage,topage),scope.submitsavedsearchobject={customerpersonaldetails:SearchRequest,GetDetails:{CustID:null!==scope.modelsearch.custid?scope.modelsearch.custid:"",Lookingfor:scope.modelsearch.gender,FromAge:scope.modelsearch.AgeFrom,ToAge:scope.modelsearch.Ageto,FromHeight:scope.modelsearch.HeightFrom,ToHeight:scope.modelsearch.Heightto,Maritalstatus:scope.returnnullvalue(scope.modelsearch.maritalstatus),Religion:scope.modelsearch.religion,Mothertongue:scope.returnnullvalue(scope.modelsearch.mothertongue),Caste:scope.returnnullvalue(scope.modelsearch.caste),Complexion:null,Physicalstatus:"advanced"===type?scope.modelsearch.physicalstatusadvance:null,CountyWorking:scope.returnnullvalue(scope.modelsearch.country),StateWorking:"advanced"===type?scope.returnnullvalue(scope.modelsearch.stateadvance):null,Visastatus:"advanced"===type?scope.returnnullvalue(scope.modelsearch.visastatusadvance):null,Educationcategory:scope.returnnullvalue(scope.modelsearch.educationcat),EducationGroup:"advanced"===type?scope.returnnullvalue(scope.modelsearch.Educationadvance):null,Educationspecialization:null,professioncategory:null,Professiongroup:"advanced"===type?scope.returnnullvalue(scope.modelsearch.Professiongroupadvance):null,Professionspecialization:null,Annualincome:"advanced"===type?scope.modelsearch.monthsalcurrency:null,FromSalary:"advanced"===type?scope.modelsearch.fromcurrency:null,ToSalary:"advanced"===type?scope.modelsearch.tocurrency:null,Starlanguage:"advanced"===type?scope.modelsearch.starlanguage:null,Star:"advanced"===type?scope.returnnullvalue(scope.modelsearch.starsadvance):null,ManglikKujaDosham:"advanced"===type?scope.modelsearch.kujadosham:null,Drink:null,Smoke:null,Diet:"advanced"===type?scope.modelsearch.diet:null,Registrationdays:"advanced"===type?scope.modelsearch.regdays:null,CustSavedSearchName:helperservice.checkstringvalue(form.savesearchNames)?form.savesearchNames:null,searchPageName:"advanced"===type?"Advancesearch":"Generalsearch",searchPageID:"advanced"===type?"3":"2",SearchResult_ID:helperservice.checkstringvalue(searchsavedidupdate)?searchsavedidupdate:null}},searches.CustomerGeneralandAdvancedSavedSearch(scope.submitsavedsearchobject).then(function(response){scope.savedsearchselectmethods(scope.modelsearch.custid,"",1),1===parseInt(frompage)?(scope.PartnerProfilesnew=[],_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)})):_.each(response.data,function(item){scope.PartnerProfilesnew.push(item)}),scope.modelsearch.loadinging=!0,"slideshow"!==scope.modelsearch.slideshow&&scope.$broadcast("loadmore")}),scope.modalpopupclose()}},scope.savedseapopup=function(type){switch(scope.modelsearch.typesearch=type,type){case"general":"Update"===scope.modelsearch.generalsavedsearchbtn?scope.generalsearchsubmit("savedsearch",1,8,"",scope.modelsearch.SearchResult_IDflag):alerts.dynamicpopup("savedsearch.html",scope,uibModal);break;case"advanced":"Update"===scope.modelsearch.generalsavedsearchbtn?scope.generalsearchsubmit("savedsearch",1,8,"",scope.modelsearch.SearchResult_IDflag):alerts.dynamicpopup("savedsearch.html",scope,uibModal)}},scope.modalpopupclose=function(){alerts.dynamicpopupclose()},scope.$on("modifyursearchpartner",function(event){scope.modelsearch.object=JSON.parse(sessionStorage.getItem("homepageobject")),helperservice.checkstringvalue(scope.modelsearch.object)&&(scope.controlsbinding(),scope.modelsearch.gender=2===scope.modelsearch.object.intGender?2:1,scope.modelsearch.AgeFrom=scope.modelsearch.object.FromAge,scope.modelsearch.Ageto=scope.modelsearch.object.ToAge,scope.modelsearch.country=scope.modelsearch.object.Country,scope.modelsearch.religion=scope.modelsearch.object.intReligionID,scope.modelsearch.caste=null!==scope.modelsearch.object.Caste?scope.modelsearch.object.Caste:"0",scope.modelsearch.HeightFrom=1,scope.modelsearch.Heightto=38,sessionStorage.removeItem("homepageobject")),scope.modelsearch.showcontrols=!0,scope.truepartner=!0,scope.truepartnerrefine=!0,scope.modelsearch.slideshow="",scope.$watch("modelsearch.AgeFrom",function(current,old){scope.modelsearch.AgeFrom=current})}),scope.$on("slideshowsubmit",function(event,frompageslide,topageslide,slideshow){scope.truepartnerrefine=!0,scope.modelsearch.slideshow="slideshow",scope.generalsearchsubmit(scope.modelsearch.typesearch,frompageslide,topageslide)}),scope.$on("slideshowrefinehide",function(event){scope.truepartnerrefine=!0}),scope.$on("slideshowrefineshow",function(event){helperservice.checkstringvalue(scope.modelsearch.custid)?scope.truepartnerrefine=!1:scope.truepartnerrefine=!0}),scope.$on("directivechangeevent",function(event,modal,type){switch(type){case"Country":scope.modelsearch.State=commonFactory.StateBind(helperservice.checkstringvalue(modal)?modal.toString():"");break;case"EducationCatgory":scope.modelsearch.Educationgroup=commonFactory.educationGroupBind(helperservice.checkstringvalue(modal)?modal.toString():"");break;case"caste":scope.modelsearch.Caste=[],scope.modelsearch.Caste=commonFactory.casteDepedency(scope.modelsearch.religion,helperservice.checkstringvalue(modal)?modal.toString():"");break;case"star":scope.modelsearch.stars=commonFactory.starBind(helperservice.checkstringvalue(modal)?modal.toString():"")}}),scope.$on("directivecallingpaging",function(event,frompage,topage){scope.slideshow="",helperservice.checkstringvalue(scope.modelsearch.custid)?scope.generalsearchsubmit(scope.modelsearch.typesearch,frompage,topage):scope.showloginpopup()}),scope.refinesubmit=function(){scope.refinesubmitflag="refine",scope.generalsearchsubmit(scope.modelsearch.typesearch,1,8),scope.$broadcast("setslide")},scope.hightFromrefine=function(type){switch(type){case"heightfrom":scope.modelsearch.HeightFromtext=scope.checkheight(scope.modelsearch.HeightFrom);break;case"heightto":scope.modelsearch.Heighttotext=scope.checkheight(scope.modelsearch.Heightto)}},scope.showloginpopup=function(){alerts.dynamicpopup("login.html",scope,uibModal,"sm")},scope.showloginpopupnew=function(){alerts.dynamicpopupclose(),alerts.dynamicpopup("loginpopup.html",scope,uibModal,"sm")},scope.$on("showloginpopup",function(){scope.showloginpopup()}),scope.cancelpopup=function(){alerts.dynamicpopupclose()},scope.validate=function(formloagin){return formloagin.username.indexOf("@")!==-1?!!scope.ValidateEmail(formloagin.username)||(formloagin.username="",alert(" Please enter valid ProfileID/Email"),!1):!(!scope.Validatnumber(formloagin.username)||9!==formloagin.username.length)||(alert("Please enter valid ProfileID/Email"),formloagin.username="",!1)},scope.loginsubmit=function(formloagin){return""===formloagin.username||null===formloagin.username||"ProfileID/EmailID"===formloagin.username?(alert("Please enter user name"),!1):""===formloagin.password||null===formloagin.password||"Enter the Password"===formloagin.password?(alert("Please enter password"),!1):void(scope.validate(formloagin)&&authSvc.login(formloagin.username,formloagin.password).then(function(response){sessionStorage.removeItem("homepageobject"),authSvc.user(null!==response.response?response.response[0]:null);authSvc.getCustId();sessionStorage.removeItem("LoginPhotoIsActive");var responsemiss=response;missingFieldService.GetCustStatus(responsemiss.response[0].CustID).then(function(innerresponse){var missingStatus=null,custProfileStatus=null,datav=helperservice.checkstringvalue(innerresponse.data)?innerresponse.data.split(";"):null;null!==datav&&(missingStatus=parseInt(datav[0].split(":")[1]),custProfileStatus=parseInt(datav[1].split(":")[1])),439===custProfileStatus?(sessionStorage.setItem("missingStatus",missingStatus),0===missingStatus?responsemiss.response[0].isemailverified===!0&&responsemiss.response[0].isnumberverifed===!0?route.go("dashboard",{type:"C"}):route.go("mobileverf",{}):route.go("missingfields",{id:missingStatus})):route.go("blockerController",{eid:responsemiss.response[0].VerificationCode})}),alerts.dynamicpopupclose()}))},scope.ValidateEmail=function(email){var expr=/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;return expr.test(email)},scope.Validatnumber=function(num){var expr1=/[0-9 -()+]+$/;return expr1.test(num)},scope.gettingsavedsearcheditsearch=function(type,SearchResult_ID,SearchpageID){switch(type){case"search":scope.PartnerProfilesnew=[];var typeofsearch;searches.partnerdetails(scope.modelsearch.custid,"",SearchResult_ID).then(function(response){scope.partnerbindings(response),"1"===SearchpageID?typeofsearch="profileid":"2"===SearchpageID?(typeofsearch="general",scope.modelsearch.generalsavedsearchbtn="Update",scope.modelsearch.SearchResult_IDflag=SearchResult_ID):(typeofsearch="advanced",scope.modelsearch.advancedsavedsearchbtn="Update",scope.modelsearch.SearchResult_IDflag=SearchResult_ID),scope.generalsearchsubmit(typeofsearch,1,8,"")});break;case"edit":scope.PartnerProfilesnew=[],searches.partnerdetails(scope.modelsearch.custid,"",SearchResult_ID).then(function(response){scope.partnerbindings(response),scope.modelsearch.showcontrols=!0,scope.truepartner=!0,"1"===SearchpageID?(typeofsearch="profileid",scope.selectedIndex=2):"2"===SearchpageID?(typeofsearch="general",scope.selectedIndex=0,scope.modelsearch.generalsavedsearchbtn="Update",scope.modelsearch.SearchResult_IDflag=SearchResult_ID):(typeofsearch="advanced",scope.selectedIndex=1,scope.modelsearch.advancedsavedsearchbtn="Update",scope.modelsearch.SearchResult_IDflag=SearchResult_ID)})}},scope.clickvalues=function(text){scope.modelsearch.HeightFromtext=text},scope.resetgenral=function(type){switch(type){case"general":helperservice.checkstringvalue(scope.modelsearch.custid)?searches.partnerdetails(scope.modelsearch.custid,"","").then(function(response){scope.partnerbindings(response)}):scope.resetfunctionality()}},$rootscope.$on("profile",function(event,indexvalue){sessionStorage.removeItem("homepageobject"),scope.truepartner=!0,scope.truepartnerrefine=!0,scope.modelsearch.showcontrols=!0,scope.selectedIndex=indexvalue}),scope.redirectToviewfull=function(custid,logid){scope.$broadcast("viewprofileinsert",custid),sessionStorage.removeItem("localcustid"),sessionStorage.removeItem("locallogid"),sessionStorage.setItem("localcustid",custid),sessionStorage.setItem("locallogid",logid);var realpath="/viewFullProfileCustomer";window.open(realpath,"_blank")},scope.$on("redirectToviewfullprofiles",function(event,custid,logid){scope.redirectToviewfull(custid,logid)}),scope.successfaileralert=function(msg,typewarning){"success"===typewarning?alerts.timeoutoldalerts(scope,"alert-success",msg,2500):alerts.timeoutoldalerts(scope,"alert-danger",msg,2500)},scope.$on("successfailer",function(event,msg,typewarning){scope.successfaileralert(msg,typewarning)}),scope.$on("popuplogin",function(event,url,custid){scope.modelsearch.modalpopupheadertext="Enter your message here",scope.modelsearch.messagecustid="",scope.modelsearch.messagecustid=custid,scope.modelsearch.modalbodyshow=1,scope.modelsearch.buttonname="Send Message",alerts.dynamicpopup(url,scope,uibModal)}),scope.sendmessages=function(form){void 0!==form&&helperservice.checkstringvalue(form.message)?scope.$broadcast("sendmsg","M",scope.modelsearch.messagecustid,void 0,form,void 0):alerts.timeoutoldalerts(scope,"alert-danger","please enter Message",2500)},scope.$on("modalpopupclose",function(event){alerts.dynamicpopupclose()}),scope.onlyAlphabets=function(e,t){var inputValue=window.event.keyCode;inputValue>=65&&inputValue<=120||32===inputValue||0===inputValue||event.preventDefault()},scope.checkCasteParents=function(){commonpopup.checkvals(scope.modelsearch.mothertongue)&&commonpopup.checkvals(scope.modelsearch.religion)||alerts.timeoutoldalerts(scope,"alert-danger","please select mothertongue and religion",2500)}}]),app.controller("searchregistration",["$scope","getArray","commonFactory","basicRegistrationService","$filter","authSvc","$timeout","route","alert",function(scope,getArray,commondependency,basicRegistrationService,filter,authSvc,timeout,route,alerts){scope.month="month",scope.reg={},scope.monthArr=[];var monthArr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];scope.monthBind=function(){var option=[];return _.each(monthArr,function(item){option.push({label:item,title:item,value:item})}),option},scope.date=function(str,from,to){for(var Arr=[],i=from;i<=to;i++){var strValue=null;strValue=i<=9?"0"+i:i,Arr.push({label:strValue,title:strValue,value:strValue})}return Arr},scope.year=function(str,from,to){for(var Arr=[],i=to;i>=from;i--)Arr.push({label:i,title:i,value:i});return Arr},scope.monthArr=scope.monthBind(),scope.dateArr=scope.date("",1,31),scope.yearArr=scope.year("",1936,1998),timeout(function(){scope.postedby=getArray.GArray("childStayingWith"),scope.religion=getArray.GArray("Religion"),scope.Mothertongue=getArray.GArray("Mothertongue"),scope.Caste=getArray.GArray("Caste"),scope.countryCode=getArray.GArray("countryCode")},1e3),timeout(function(){scope.Country=getArray.GArray("Country")},500),scope.statuses=["Planned","Confirmed","Cancelled"],scope.dayChange=function(obj,type){var months31="Jan,Mar,May,Jul,Aug,Oct,Dec",minth30="Apr,Jun,Sep,Nov",month28="Feb";obj.ddlDD<=30&&minth30.indexOf(obj.ddlMM)!==-1||obj.ddlDD<=31&&months31.indexOf(obj.ddlMM)!==-1||obj.ddlDD<=28&&month28.indexOf(obj.ddlMM)!==-1||("day"===type?obj.ddlMM="":(scope.dateArr=[],scope.dateArr=scope.date("DD",1,31),obj.ddlDD=""))},scope.changeBind=function(parentval,parentval2){scope.casteArr=commondependency.casteDepedency(commondependency.listSelectedVal(parentval),void 0!==commondependency.listSelectedVal(parentval2)&&null!==commondependency.listSelectedVal(parentval2)&&""!==commondependency.listSelectedVal(parentval2)?commondependency.listSelectedVal(parentval2):0)},scope.regSubmit=function(obj){var valmm=_.indexOf(monthArr,obj.ddlMM),date=obj.ddlDD+"-"+(valmm!=-1?parseInt(valmm)+1:0)+"-"+obj.ddlYear,inputObj={strFirstName:obj.txtfirstname,strLastName:obj.txtlastname,dtDOB:""!==date?filter("date")(date,"yyyy-MM-dd"):null,intGenderID:obj.rbtngender,intReligionID:obj.ddlreligion,intMotherTongueID:obj.ddlmothertongue,intCasteID:obj.ddlcaste,intCountryLivingID:obj.ddlcountry,intMobileCode:obj.ddlmobilecountry,intLandCode:obj.ddllandcountry,IsCustomer:1,strMobileNo:obj.txtMobileNo,ID:1,strAreaCode:obj.txtArea,strLandNo:obj.txtlandNum,strEmail:obj.txtEmail,strPassword:obj.txtpassword,intProfileRegisteredBy:null,intEmpID:null,intCustPostedBY:obj.ddlpostedby};basicRegistrationService.submitBasicRegistration(inputObj).then(function(res){scope.genderID=0,authSvc.login(scope.reg.txtEmail,scope.reg.txtpassword).then(function(response){return authSvc.user(null!==response.response?response.response[0]:null),scope.genderID=response.response[0].GenderID,route.go("registration.seconadryRegistration",{fn:obj.txtfirstname,ln:obj.txtlastname,countryID:obj.ddlcountry,genderID:response.response[0].GenderID}),!1})})},scope.valueExists=function(type,flag,val){void 0!==val&&basicRegistrationService.emailExists({iflagEmailmobile:flag,EmailMobile:val}).then(function(response){1===response.data&&("email"===type?(scope.reg.txtEmail="",alert("Email Already Exists")):(scope.reg.txtMobileNo="",alert("Mobile number Already Exists")))})},scope.$watch(function(){return scope.reg.ddlcountry},function(current,original){scope.reg.ddllandcountry=scope.reg.ddlmobilecountry=current}),scope.redirectprivacy=function(type){window.open("privacyPolicy","_blank")},scope.dynamicaapplycolors=function(value,id){alerts.applycolors(value,id)},scope.dynamictextboxcolor=function(value,id){alerts.applycolorsfortextboxes(value,id)}}]),app.controller("aboutus",["$scope",function(scope){}]),app.controller("AccordionDemoCtrl",["$scope",function(scope){scope.groups=[{title:"Dynamic Group Header - 1",content:"Dynamic Group Body - 1",open:!1},{title:"Dynamic Group Header - 2",content:"Dynamic Group Body - 2",open:!1}],scope.addNew=function(){scope.groups.push({title:"New One Created",content:"Dynamically added new one",open:!1})}}]),app.controller("ccAvenueCtrl",["$scope","$http",function(scope,http){}]),app.controller("ModalDemoCtrl",function($uibModal,$log,$scope){$scope.ddlvals="aaaa";var $ctrl=this;$scope.items=["item1","item2","item3"],$scope.obj1=[{label:"aaaa",title:"aaaa",value:"1"},{label:"bbb",title:"bbb",value:"2"},{label:"ccc",title:"ccc",value:"3"},{label:"ddd",title:"ddd",value:"4"}],$scope.selectedvals=[2,3],$ctrl.animationsEnabled=!0,$ctrl.open=function(size){$uibModal.open({animation:$ctrl.animationsEnabled,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"myModalContent.html",controller:"ModalInstanceCtrl",controllerAs:"$ctrl",size:size,resolve:{items:function(){return $ctrl.items}}})},$scope.DropDownChnaged=function(){$scope.DropDownStatus=$scope.dropValue}}),app.controller("ModalInstanceCtrl",function($uibModalInstance,items,$scope){var $ctrl=this;$ctrl.items=items,$ctrl.selected={item:$ctrl.items[0]},$scope.obj1=[{label:"aaaa",title:"aaaa",value:"1"},{label:"bbb",title:"bbb",value:"2"},{label:"ccc",title:"ccc",value:"3"},{label:"ddd",title:"ddd",value:"4"}],$ctrl.ok=function(){$uibModalInstance.close($ctrl.selected.item)},$ctrl.cancel=function(){$uibModalInstance.dismiss("cancel")}}),app.controller("faqs",["$scope",function(scope){scope.filters={search:""},scope.arrayfaqs=[{questons:"How do I Bookmark profile?",answers:"In every view profile you will find the book mark option for future reference before you express interest to filter suitable profiles"},{questons:"How do I delete my profile? (Manage Profile)",answers:"You can delete your profile including your picture by clicking on Delete Profile in the services page after you login. You have to login to your account to delete your profilfre.4r554r"},{questons:"How do I edit profile?",answers:"You can edit details by going to Menu bar?MY ACCOUNT?EDIT PROFILE.(Note: You can edit all the fields except Name, Lastname, Date of Birth, Height & Caste. If you want to edit them contact us @ 91-40-30666666."},{questons:"How do I ignore profile and how do I remove ignore profile from the list?",answers:"In every view profile your will find an ignore profile(with (X) Into symbol)to avoid profile from your list. All ignored profiles list can be checked in the Option MATCHES?IGNORED PROFILES(Note: You cannot remove ignored profile completely but you can either bookmark or express interest)"},{questons:"How do I overwrite an existing photo? (Photograph)",answers:"Go to Manage photo ,delete the existing photo first to upload new recent photo which will be processed during the business hours and made visible ."
},{questons:"How do I register?",answers:"Click www.kaakateeya.com and get registered for whom your searching(Bride/Groom) with the details"},{questons:"How do I restrict other members from viewing my Profile? (Manage Profile)",answers:"Click on Hide profile in the profile settlings in my account menu option"},{questons:"How do I Upload my Photograph and which format is acceptable?",answers:"You can upload upto 3 photographs of JPEG or jpgFormat by going to Menu bar?MY ACCOUNT?MANAGE PHOTO and upload photo. We will activate your photo within 24 hours after we review it. If you experience any issues in uploading your photo please send us at photos@telugumarriages.com or send them through WHATSAPP 9848535373 with your PROFILE ID and we will upload it for you."},{questons:"How to show interest",answers:"to show interest to a profile which suits your re-quirements click on Express interest after you completely view that profile ,then proceed if its ok"},{questons:"I am a FREE Member. Can I send any email messages to other members? (Contact Members)",answers:"If you are registered as a FREE member you cannot send Email Messages to other Members."},{questons:"I am a FREE service member. How do I upgrade my profile? (Paid Member)",answers:"Log on to www.kaakateeya.comgo to Menu bar?MY PACKAGE?UPGRADE MEMBERSHIP and choose the package and upgrade by using any visa debit/credit card, also input your correct billing address whatever provided in the banker of the card"},{questons:"I am a paid member of Kaakateeya Marriages India office. I cannot view pictures or request profiles online? (Kaakateeya Marriages Indian Offices)",answers:"Kaakateeya Marriages India office registered members are only allowed to view, modify their profile and search new profiles on Kaakateeya.com. There is an additional fee to view pictures,addition details also can express interest . online membership details are in the UPGRADE MEMBERSHIP option in UPGRADE menu option"},{questons:"I Forgot Password who can I retrieve password?",answers:"You can only reset your password by clicking on forgot password link with your registered primary email id"},{questons:"I uploaded my photo but I cannot see it? (Photograph)",answers:"New photograph uploaded by you will be processed during the business hours from 10 am to 6 pm ."},{questons:"Terms & Conditions to get Register with kaakateeya.com?",answers:"Everyone who is for marriage can register profile by giving details with genuine information. You can register a new profile with UNIQUE EMAIL AND UNIQUE MOBILE NUMBER. If you get a message like email id exists or mobile number existsthen click on forget password to reset your password otherwise contact us @ 91-40-30666666"},{questons:"What individually identifiable information is logged on your server? (Privacy Policy)",answers:"All email messages sent using our website Kaakateeya.com are logged on the server. These messages are deleted every week."},{questons:"What is Bookmarked By section? (Bookmarks)",answers:'If somebody Bookmarks your profile, you can check the list in the "Who Bookmarked me " in the menu'},{questons:"What is Online Service and Offline(OFFICE) Service?",answers:"Online Services: You can Register Freely into www.kaakateeya.com and search for Brides/Grooms based on your requirement. You can also become a paid member to express interest, Send and receive messages directly by yourself Offline(OFFICE) Services: Offline Service is provided by our service provider/relationship manager wherein you will be sent profiles to your email regularly as per your requirement manually on behalf of you and will involve in arranging match meetings(PelliChupulu) to Settle"},{questons:"What picture formats are accepted? (Photograph)",answers:"Pictures of .jpg ,Png etc formats can be uploaded "},{questons:"Who receives the Messages I send using messages button",answers:"your messages are sent to the other member ,which will be displayed in my contact list ,messages option"}],scope.styleanswer=!1,scope.activeClass="faqs_list_main_item"}]),app.directive("faqdirective",function(){return{link:function(scope,element,attrs){scope.expanall=function(){_.each(scope.arrayfaqs,function(item){item.styleanswer=!0,item.activeClass="faqs_list_main_item active"})},scope.collapseall=function(){_.each(scope.arrayfaqs,function(item){item.styleanswer=!1,item.activeClass="faqs_list_main_item"})},scope.toggleans=function(faqs){faqs.styleanswer=!faqs.styleanswer,faqs.activeClass=faqs.styleanswer===!0?"faqs_list_main_item active":"faqs_list_main_item"}}}}),app.controller("feedbackCtrl",["$scope","reCAPTCHA","feedbacksubmit","authSvc",function(scope,reCAPTCHA,feedbacksubmit,authSvc){reCAPTCHA.setPublicKey("6LcrVwkUAAAAAGPJwyydnezgtVE7MlDCi3YQANKW"),scope.submit=function(){var custid=authSvc.getCustId();scope.Cust_ID=void 0!==custid&&null!==custid&&""!==custid?custid:null;var objectfeedback={};objectfeedback.Cust_ID=scope.Cust_ID,objectfeedback.HearAbout=void 0!==scope.HearAbout&&""!==scope.HearAbout?scope.HearAbout:null,objectfeedback.ImproveWebsite=void 0!==scope.ImproveWebsite&&""!==scope.ImproveWebsite?scope.ImproveWebsite:null,objectfeedback.kaaPrices=void 0!==scope.kaaPrices&&""!==scope.kaaPrices?scope.kaaPrices:null,objectfeedback.DownLoadTime=void 0!==scope.DownLoadTime&&""!==scope.DownLoadTime?scope.DownLoadTime:null,objectfeedback.CompareSite=void 0!==scope.CompareSite&&""!==scope.CompareSite?scope.CompareSite:null,objectfeedback.FavSite=void 0!==scope.FavSite&&""!==scope.FavSite?scope.FavSite:null,objectfeedback.SearchRate=void 0!==scope.SearchRate&&""!==scope.SearchRate?scope.SearchRate:null,objectfeedback.Recommend=void 0!==scope.Recommend&&""!==scope.Recommend?scope.Recommend:null,objectfeedback.Comments=void 0!==scope.Comments&&""!==scope.Comments?scope.Comments:null,feedbacksubmit.feedbacksubmitinsert(objectfeedback).then(function(response){1==response.data&&(alert("Thank u for your valuable feedback"),scope.clearallfields())})},scope.clearallfields=function(){scope.Cust_ID="",scope.HearAbout=0,scope.ImproveWebsite=0,scope.kaaPrices=0,scope.DownLoadTime=0,scope.CompareSite=0,scope.FavSite="",scope.SearchRate=0,scope.Recommend=0,scope.Comments="",Recaptcha.reload()}}]),app.controller("forgetpasswordemail",["$scope","forgetPwdservices","$stateParams","alert","$uibModal","route",function(scope,forgetPwdservices,stateParams,alerts,uibModal,route){scope.custidpassword=stateParams.custid,scope.statuspassword=null,scope.divngit=function(){alerts.dynamicpopup("forgetpasswordemail.html",scope,uibModal),forgetPwdservices.getstatuscustid(scope.custidpassword).then(function(response){_.each(response.data,function(item){var passwordarray=JSON.parse(item);void 0!==passwordarray&&null!==passwordarray&&""!==passwordarray&&void 0!==passwordarray[0]&&null!==passwordarray[0]&&""!==passwordarray[0]&&(1===passwordarray[0].STATUS?scope.statuspassword=passwordarray[0].Password:2===passwordarray[0].STATUS&&alerts.timeoutoldalerts(scope,"alert-danger","You have already reseted your password",2500))})})},scope.passwordsubmit=function(formloagin){alerts.dynamicpopupclose(),forgetPwdservices.getChangePassword(scope.custidpassword,formloagin.txtPassword).then(function(response){1===response.data&&(alerts.timeoutoldalerts(scope,"alert-success","Your password updated successfully",2500),route.go("home",{}))})}}]),app.controller("help",["$uibModal","$scope","helpService","arrayConstants","reCAPTCHA",function(uibModal,scope,helpService,arrayConstants,reCAPTCHA){scope.catgory="catgory",scope.Priority="Priority",scope.countryCode="countryCode",scope.lblpopupCategory="dffdf",scope.open=function(size){scope.modalInstance=uibModal.open({ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"myModalContent.html",scope:scope})},scope.submit=function(){scope.helpForm.$valid&&void 0!==scope.ddlcategory&&"0"!==scope.ddlcategory&&""!==scope.ddlcategory&&void 0!==scope.ddlpriority&&"0"!==scope.ddlpriority&&""!==scope.ddlpriority?(scope.inputObj={profile:"210910352",AssignedEmpID:null,BranchID:0,Name:scope.txtname,Email:scope.txtemail,subject:scope.txtsubject,Category:scope.ddlcategory,Message:scope.txtmsg,Priority:scope.ddlpriority,Image:null,CountryCode:scope.ddlcountrycode,AreaCode:scope.txtphonecode,PhoneNum:scope.txtphnum,EmpID:0},helpService.helpSubmit(scope.inputObj).then(function(response){scope.CustName=scope.txtname,null!==response.data&&(scope.lblTicketID=null!==response.data.Ticket?response.data.Ticket:""),scope.lblpopupCategory=_.where(arrayConstants.catgory,{value:parseInt(scope.ddlcategory)})[0].title,scope.open()})):alert("Please enter Catgory and Priority")},scope.SendMail=function(){scope.SendMailObj={TicketID:scope.lblTicketID,Name:scope.CustName,CategoryName:scope.lblpopupCategory,strEmail:scope.txtemail,EmpID:0,EmpTicketID:0},helpService.SendMail(scope.SendMailObj).then(function(response){1==response.data&&(alert("mail has sent successfully"),scope.resethelp())}),scope.modalInstance.close()},scope.resethelp=function(){scope.txtname="",scope.txtemail="",scope.txtsubject="",scope.ddlcategory=null,scope.ddlcountrycode=null,scope.txtmsg="",scope.ddlpriority=null,scope.txtphonecode="",scope.txtphnum="",Recaptcha.reload()}}]),app.controller("blockerController",["$scope","cerateNewPwd","$stateParams",function(scope,cerateNewPwd,stateParams){cerateNewPwd.getEmailAndProfileID(stateParams.eid).then(function(res){var custData=res.data.split(";");scope.profileID=custData[1],scope.RelationShipManager=custData[3],scope.mngrMob="NoEmpOfficialCCn"===custData[4]?"":custData[4]})}]),app.controller("myorders",["$scope","customerProfilesettings","authSvc",function(scope,customerProfilesettings,authSvc){var logincustid=authSvc.getCustId();scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,scope.myorders=[],scope.pageinit=function(){customerProfilesettings.getmyorderspayments(scope.custid).then(function(response){scope.myorders=[],_.each(response.data,function(item){scope.myorders=JSON.parse(item)})})}}]),app.controller("ourbranches",["$scope","ourBranchService","helperservice",function(scope,ourBranchService,helperservice){scope.region="region",scope.BranchArr=[],scope.BranchDetailsArr=[],scope.telanganaArr=[{count:1,BranchAddress:"103 , 109, Vijayasree Apartments, Behind Chermas ,",PhoneNumbers:"23747777",Mobilenumber:"7675818080",BranchemailID:"kaakateeya.com@gmail.com",WorkingEndTime:"8:30:00 PM",Branch_ID:319,Address:"Ameerpet , Hyderabad-500073",WorkingStartTime:"8:30:00 AM",Landlineareacode:"40",Landlinenumber:"23747777",BranchesName:"Hyderabad - Ameerpet"},{count:2,BranchAddress:"2 nd Floor , Pullareddy Sweets Building ,SaiBaba Temple Lane ,",PhoneNumbers:"24065959",Mobilenumber:"9966636222",BranchemailID:"info@telugumarriages.com",WorkingEndTime:"7:0:00 PM",Branch_ID:320,Address:"Dilsukhnagar , Hyderabad - 500060",WorkingStartTime:"9:0:00 AM",Landlineareacode:"40",Landlinenumber:"24065959",BranchesName:"Hyderabad-Dilsukhnagar"},{count:3,BranchAddress:"202 , Uday Krishna Complex , Bhagyanagar colony ,",PhoneNumbers:"23067373",Mobilenumber:"9392009391",BranchemailID:"info@telugumarriages.com",WorkingEndTime:"7:0:00 PM",Branch_ID:321,Address:"opp KPHB , Hyderabad-500072",WorkingStartTime:"9:0:00 AM",Landlineareacode:"40",Landlinenumber:"23067373",BranchesName:"Hyderabad-Kukatpally"}],scope.pundicherry=[{BranchAddress:"No 10 , 1st Floor , 2 nd Cross , Annanagar East , ",PhoneNumbers:"43543543",Mobilenumber:"7668687687",BranchemailID:"naveena@telugumarriages.com",WorkingEndTime:"7:0:00 PM",Branch_ID:341,Address:"Behind Housing Board , Puducherry ( Pondicherry ) - 600 005",WorkingStartTime:"9:0:00 AM",Landlineareacode:"44",Landlinenumber:"43543543",BranchesName:"Pondicheery"}],ourBranchService.BranchPageloadSelect().then(function(response){scope.BranchDetailsArr=response.data,_.map(scope.BranchDetailsArr,function(item,index){item.count=parseInt(index+1)})}),scope.changeBind=function(type){"1"==scope.ddlbranches?(scope.BranchDetailsArr=[],helperservice.checkstringvalue(scope.ddlbranchaddress)&&(scope.BranchDetailsArr=_.where(scope.telanganaArr,{Branch_ID:parseInt(scope.ddlbranchaddress)}),_.map(scope.BranchDetailsArr,function(item,index){item.count=parseInt(index+1)})),"region"==type&&(scope.BranchDetailsArr=scope.telanganaArr,scope.BranchArr=[],_.each(scope.telanganaArr,function(item){scope.BranchArr.push({label:item.BranchesName,title:item.BranchesName,value:item.Branch_ID})}))):"2"==scope.ddlbranches?(scope.BranchDetailsArr=[],scope.BranchDetailsArr=scope.pundicherry,"region"==type&&(scope.BranchArr=[])):("region"==type&&(scope.ddlbranchaddress=void 0),ourBranchService.BranchSelect(scope.ddlbranches,scope.ddlbranchaddress).then(function(response){scope.BranchDetailsArr=[],scope.BranchDetailsArr=response.data,_.map(scope.BranchDetailsArr,function(item,index){item.count=parseInt(index+1)}),"region"==type&&(scope.BranchArr=[],_.each(response.data,function(item){scope.BranchArr.push({label:item.BranchesName,title:item.BranchesName,value:item.Branch_ID})}))}))}}]),app.controller("privacypolicy",["$scope",function(scope){$(".back-to-top").hide(),scope.initprivacy=function(){$(window).scroll(function(){$(this).scrollTop()>100?$(".back-to-top").fadeIn():$(".back-to-top").fadeOut()}),$(".back-to-top").click(function(){return $("body,html").animate({scrollTop:0},800),!1})}}]),app.controller("profilesettings",["$scope","$mdDialog","customerProfilesettings","SelectBindServiceApp","authSvc","alert","helperservice","basicRegistrationService",function(scope,$mdDialog,customerProfilesettings,service,authSvc,alerts,helperservice,basicRegistrationService){scope.getdetails=function(){var logincustid=authSvc.getCustId();scope.custid=helperservice.checkstringvalue(logincustid)?logincustid:null,scope.days=function(){scope.test=[],scope.test=[{label:"--Select--",title:"--select--",value:"0"}];for(var i=1;i<=30;i++)scope.test.push({label:i+" days",title:i+" days",value:i});return scope.test},scope.word=/^[a-z]+[a-z0-9._]+@[a-z]+\.[a-z.]{2,5}$/,scope.countryCode=[],scope.arraydays=scope.days(),scope.mailyes="1",scope.smsyes="1",scope.activated=!1,scope.disabled=!0,scope.activatedmobile=!1,scope.countrycodedisable=!0,scope.passwordsisableswitch=!1,scope.passwordsisable=!0,scope.alertmanageswitch=!1,scope.manageakerts=!0,scope.hideprofileswitchs=!1,scope.hideprofile=!0,scope.deleteprofileswitch=!1,scope.deleteprofiledis=!0,scope.selectedIndex=0,service.countryCodeselect().then(function(response){scope.countryCode=[],scope.countryCode=[{label:"--Select--",title:"--select--",value:"0"}],_.each(response.data,function(item){scope.countryCode.push({label:item.Name,title:item.Name,value:item.ID})})}),scope.arrayprofilesettings={},customerProfilesettings.getprofilesettinginfo(scope.custid).then(function(response){_.each(response.data,function(item){scope.arrayprofilesettings=item,scope.mailyes=scope.arrayprofilesettings.AllowEmail===!1?0:1,scope.smsyes=scope.arrayprofilesettings.AllowSMS===!1?0:1,scope.ProfileStatusID=55!==scope.arrayprofilesettings.ProfileStatusID?{display:"block"}:{display:"none"},scope.ProfileStatusIDunhide=55===scope.arrayprofilesettings.ProfileStatusID?{display:"block"}:{display:"none"}})})},scope.pageload=function(){scope.getdetails()},scope.toggleActivationsss=function(btntype){switch(btntype){case"email":scope.activated?scope.disabled=!1:scope.disabled=!0;break;case"mobile":scope.activatedmobile?scope.countrycodedisable=!1:scope.countrycodedisable=!0;break;case"password":scope.passwordsisableswitch?scope.passwordsisable=!1:scope.passwordsisable=!0;break;case"managealerts":scope.alertmanageswitch?scope.manageakerts=!1:scope.manageakerts=!0;break;case"hideprofiles":scope.hideprofileswitchs?scope.hideprofile=!1:scope.hideprofile=!0;break;case"deleteprofile":scope.deleteprofileswitch?scope.deleteprofiledis=!1:scope.deleteprofiledis=!0}},scope.submitemailamdmobile=function(Typeofsub){switch(Typeofsub){case"email":var FamilyID=scope.arrayprofilesettings.EmailCust_Family_ID,NewEmail=scope.NewEmail;customerProfilesettings.submitemailmobilesubmit(FamilyID,NewEmail,"",1).then(function(response){1==response.data?(alerts.open("Email Upadated successfully","success"),scope.Resetallfields("email")):alerts.open("Email Updated failed","warning")});break;case"mobile":var FamilyIDs=scope.arrayprofilesettings.MobileCustFamily_ID,CountryCodeID=scope.ddlcountrycode,number=scope.Confirmnewnumber;customerProfilesettings.submitemailmobilesubmit(FamilyIDs,number,CountryCodeID,0).then(function(response){1==response.data?(alerts.open("Mobile Upadated successfully","success"),scope.Resetallfields("mobile")):alerts.open("Mobile Updated failed","warning")})}},scope.submitpassword=function(){var OldPassword=scope.OldPassword,NewPassword=scope.NewPassword,ConfirmPassword=scope.ConfirmPassword,custId=scope.custid;customerProfilesettings.passwordchange(OldPassword,NewPassword,ConfirmPassword,custId).then(function(response){1==response.data?(alerts.open("Passsword updated successfully","success"),scope.Resetallfields("password")):alerts.open("Passsword updated failed","warning")})},scope.submithideprofile=function(){var Expirydate=scope.hideprofiledays,CustID=scope.custid,iflag=1;scope.hiddennarration;customerProfilesettings.hideprofile(Expirydate,CustID,iflag).then(function(response){1==response.data?(alerts.open("Hide Profile successfully","success"),scope.Resetallfields("hide")):alerts.open("Hide Profile failed","warning")})},scope.submitdeleteprofile=function(){var ProfileID=scope.ProfileID,Narrtion=scope.Narrtion;customerProfilesettings.deleteprofile(ProfileID,Narrtion).then(function(response){1==response.data?(alerts.open("Delete Profile successfully","success"),scope.Resetallfields("deleteprofiles")):alerts.open("Delete Profile failed","warning")})},scope.submitmanagealerts=function(){var CustID=scope.custid,AllowEmail="0"===scope.mailyes?0:1,AllowSMS="0"===scope.smsyes?0:1;customerProfilesettings.manageprofiles(CustID,AllowEmail,AllowSMS).then(function(response){1==response.data?(alerts.open("Submit successfully","success"),scope.Resetallfields("alerts")):alerts.open("submit failed","warning")})},scope.unhideprofile=function(){var Expirydate="",CustID=scope.custid,iflag=0;customerProfilesettings.hideprofile(Expirydate,CustID,iflag).then(function(response){1==response.data?(scope.getdetails(),alerts.open("Unhide your Profile successfully","success")):alerts.open("Unhide your Profile failed","warning")})},scope.Resetallfields=function(type){switch(type){case"email":scope.NewEmail=null,scope.Confirmnewemail=null,scope.getdetails(),scope.activated=!1,scope.disabled=!0,this.emailform.NewEmail=null,this.emailform.Confirmnewemail=null,this.emailform.$setPristine(),this.emailform.$setUntouched(),this.emailform.$setinValidity();break;case"mobile":scope.ddlcountrycode=null,scope.Confirmnewnumber=null,scope.getdetails(),scope.activatedmobile=!1,scope.countrycodedisable=!0,this.mobileform.ddlcountrycode=null,this.mobileform.Confirmnewnumber=null,this.mobileform.$setPristine(),this.mobileform.$setUntouched(),this.mobileform.$setinValidity();break;case"password":scope.OldPassword=null,scope.NewPassword=null,scope.ConfirmPassword=null,scope.getdetails(),scope.passwordsisableswitch=!1,scope.passwordsisable=!0,this.projectForm.OldPassword=null,this.projectForm.NewPassword=null,this.projectForm.ConfirmPassword=null,this.projectForm.$setPristine(),this.projectForm.$setUntouched(),this.projectForm.$setinValidity();break;case"hide":scope.hideprofiledays=null,scope.hiddennarration=null,scope.getdetails(),scope.hideprofileswitchs=!1,scope.hideprofile=!0,this.hideprofileform.hideprofiledays=null,this.hideprofileform.$setPristine(),this.hideprofileform.$setUntouched(),this.hideprofileform.$setinValidity();break;case"alerts":scope.mailyes=null,scope.smsyes=null,scope.getdetails(),scope.alertmanageswitch=!1,scope.manageakerts=!0;break;case"deleteprofiles":scope.Narration=null,scope.isChecked=null,scope.getdetails(),scope.deleteprofileswitch=!1,scope.deleteprofiledis=!0,this.deleteprofileform.narration=null,this.deleteprofileform.$setPristine(),this.deleteprofileform.$setUntouched(),this.deleteprofileform.$setinValidity()}},scope.valueExists=function(type,flag,val){void 0!==val&&basicRegistrationService.emailExists({iflagEmailmobile:flag,EmailMobile:val}).then(function(response){1===response.data&&("email"===type?(scope.NewEmail="",alerts.open("Email Already Exists","warning")):(scope.Confirmnewnumber="",alerts.open("Mobile number Already Exists","warning")))})}}]),app.controller("suceesstories",["$scope","successstoriesdata",function(scope,suceessdata){scope.success=[],scope.flag=8,scope.fromge=1,scope.topage=8,scope.loadmore=!0,scope.init=function(){suceessdata.suceessdataget(scope.fromge,scope.topage).then(function(response){scope.success=response.data})},$(window).scroll(function(){$(window).scrollTop()==$(document).height()-$(window).height()&&(scope.loadmore=!1,scope.loaderspin=!0,scope.flag+=8,scope.fromge=scope.flag-7,scope.topage=scope.flag,suceessdata.suceessdataget(scope.fromge,scope.topage).then(function(response){null!==response.data&&""!==response.data&&void 0!==response.data&&response.data.length>0?(scope.success=$.unique(scope.success.concat(response.data)),scope.loadmore=!0,scope.loaderspin=!1):(scope.loadmore=!1,scope.loaderspin=!1)}))}),scope.loadmorefunction=function(){scope.loadmore=!1,scope.loaderspin=!0,scope.flag+=8,scope.fromge=scope.flag-7,scope.topage=scope.flag,suceessdata.suceessdataget(scope.fromge,scope.topage).then(function(response){null!==response.data&&""!==response.data&&void 0!==response.data&&response.data.length>0?(scope.success=$.unique(scope.success.concat(response.data)),scope.loadmore=!0,scope.loaderspin=!1):(scope.loadmore=!1,scope.loaderspin=!1)})}}]),app.controller("supporttickets",["$scope","customerProfilesettings","authSvc","alert",function(scope,customerProfilesettings,authSvc,alerts){var logincustid=authSvc.getCustId();scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,scope.supporttickets=[],scope.submitsupporttickets=function(pageid){var obj={PageID:pageid,CustID:scope.custid,TicketID:null,ProfileID:null,Complaint:null,FeedBackStatus:null};customerProfilesettings.getmysupporttickets(obj).then(function(response){scope.supporttickets=[],_.each(response.data,function(item){scope.supporttickets=JSON.parse(item)})})},scope.pageinit=function(){scope.submitsupporttickets(1)},scope.$watch("selectedIndex",function(current,old){switch(current){case 0:scope.submitsupporttickets(1);break;case 1:scope.submitsupporttickets(2);break;case 2:scope.submitsupporttickets(3);break;case 3:scope.submitsupporttickets(4)}}),scope.reopenticket=function(ticketid){customerProfilesettings.getopenticket(6,"",ticketid).then(function(response){1==response.data?(alerts.open("Your ticket have been reopened successfully","success"),scope.supporttickets=[],scope.submitsupporttickets(3)):alerts.open("Failed please contact admin","warning")})}}]),app.controller("termsandconditions",["$scope",function(scope){$(".back-to-top").hide(),scope.initconditions=function(){$(window).scroll(function(){$(this).scrollTop()>100?$(".back-to-top").fadeIn():$(".back-to-top").fadeOut()}),$(".back-to-top").click(function(){return $("body,html").animate({scrollTop:0},800),!1})}}]),app.controller("upgrademembership",["$scope","$interval","myAppFactory","authSvc","alert","route",function(scope,$interval,myAppFactory,authSvc,alerts,route){scope.paymentarray=[];var logincustid=authSvc.getCustId();scope.custid=void 0!==logincustid&&null!==logincustid&&""!==logincustid?logincustid:null,myAppFactory.getpayment(scope.custid).then(function(response){scope.paymentarray=[],scope.paymentarray.push({MembershipName:"Services & Features",MembershipAmount:"My Plans",AllottedServicePoints:"Profile Count",onlineaccess:"Online Access",offlineaccess:"Offline Access"}),_.each(response.data,function(item){scope.paymentarray.push(item)})}),scope.selectpaymantoption=function(membershipd,amount,profilecount,discount,custid,servicename,year){var paymentobject={MembershipID:membershipd,Amount:amount,Points:profilecount,DiscountID:discount,CustID:custid,MembershipName:servicename,Duration:year};sessionStorage.setItem("paymentobject",JSON.stringify(paymentobject)),route.go("paymentresponse",{})},scope.sendsmspayment=function(payment){myAppFactory.sendsms(15,scope.custid,payment.mobilenumber).then(function(response){alerts.open("Thanks ! You shall be contacted soon by our priority manager","success")})},scope.ccavenuepage=function(){window.open("https://secure.ccavenue.com/transaction/TransactionInitiator","_self")}}]),app.controller("commonviewfullprofile",["customerDashboardServices","$scope","alert","authSvc","$injector","$uibModal","successstoriesdata","$timeout","$mdDialog","$stateParams","$location","customerviewfullprofileservices","$window","$state",function(customerDashboardServices,scope,alerts,authSvc,$injector,uibModal,successstoriesdata,timeout,$mdDialog,$stateParams,$location,customerviewfullprofileservices,$window,$state){scope.headerpopup="Slide show",scope.popupmodalbody=!1,scope.PageDiv=!0,scope.searchObjectquery=$location.search();var meKey=Object.getOwnPropertyNames(scope.searchObjectquery)[0],meValue=scope.searchObjectquery[meKey];scope.MyProfileQSAccept="?"+meKey.toString()+"="+meValue.toString(),scope.partnerinformation=function(response){scope.arr=[],scope.personalinfo={},scope.aboutmyself={},_.each(response,function(item){var testArr=JSON.parse(item);if(testArr.length>0&&void 0!==testArr[0].TableName&&"About"===testArr[0].TableName)scope.aboutmyself=testArr;else if(testArr.length>0&&void 0!==testArr[0].TableName&&"Primary"===testArr[0].TableName){scope.personalinfo=testArr;scope.personalinfo[0].PhotoName_Cust;scope.horoscopeimage=""!==scope.personalinfo[0].HoroscopeImage&&null!==scope.personalinfo[0].HoroscopeImage&&"Not given"!==scope.personalinfo[0].HoroscopeImage,scope.horoimagesrc=scope.personalinfo[0].HoroscopeImage.indexOf(".html")!==-1?"src/images/view_horoscope_image.jpg":scope.personalinfo[0].HoroscopeImage}else testArr.length>0&&void 0!==testArr[0].TableName&&scope.arr.push({header:testArr[0].TableName,value:testArr})})},scope.bookmarkexpreessdata=function(){customerviewfullprofileservices.getExpressinterst_bookmark_ignore_data(scope.fromcustid,scope.tocustid).then(function(responsebook){_.each(responsebook.data,function(item){var testArr=JSON.parse(item);if(void 0!==testArr[0])switch(testArr[0].TableName){case"Bookmark":scope.Bookmark=testArr;break;case"Viewed":scope.Viewed=testArr;break;case"Express":scope.Express=testArr,"Accept"===testArr[0].SeenStatus&&"MailReject"!==scope.hdnAccRejFlag?1!==scope.flagopen&&(scope.modalbodyID1="You have proceeded this profile",alerts.dynamicpopup("TabClosePopup.html",scope,uibModal)):"Reject"===testArr[0].SeenStatus&&"MailAccept"!==scope.hdnAccRejFlag&&1!==scope.flagopen&&(scope.modalbodyID1="You have Skipped this profile",alerts.dynamicpopup("TabClosePopup.html",scope,uibModal)),1===testArr[0].MatchFollowUpStatus?"Accept"===testArr[0].SeenStatus||"Reject"===testArr[0].SeenStatus?(scope.divacceptreject=!0,scope.btnticket=testArr[0].ViewTicket,scope.liproceed=!1,scope.liticket=!0):(scope.divacceptreject=!0,scope.liproceed=!0):1===testArr[0].Acceptflag?(scope.divacceptreject=!0,scope.liproceed=!0):1===testArr[0].ExpressFlag?(scope.divacceptreject=!0,scope.liaccept=!0):(scope.divacceptreject=!1,scope.liaccept=!1),null!==testArr[0].ExpressInterstId&&(scope.hdnexpressinterstfiled=testArr[0].ExpressInterstId);break;case"Paidstatus":scope.lblpaid=testArr[0].Paidstatus;break;case"Ignore":scope.Ignore=testArr}})})},scope.pagerefersh=function(ToProfileID){customerviewfullprofileservices.getExpressIntrstfullprofile(ToProfileID,"").then(function(responsedata){scope.partnerinformation(responsedata.data)}),scope.bookmarkexpreessdata(),customerDashboardServices.getphotoslideimages(scope.tocustid).then(function(response){scope.slides=[],_.each(response.data,function(item){scope.slides.push(item)})})},scope.Searchfunctionality=function(type,object){switch(type){case"DontProceed":customerviewfullprofileservices.UpdateExpressIntrestViewfullprofile(object).then(function(response){1==response.data?(scope.divmodalbodytoClose="This profile was Skipped successfully",alerts.dynamicpopup("PopupDivToclose.html",scope,uibModal)):2!=response.data&&3!=response.data||(scope.divmodalbodytoClose="Please upgrade your membership",alerts.dynamicpopup("PopupDivToclose.html",scope,uibModal))})}},scope.Reject_paeload=function(){scope.pagerefersh(scope.ToProfileID),scope.PageDiv=!1;var MobjViewprofile={ExpressInrestID:scope.hdnexpressinterstfiled,CustID:scope.fromcustid,AcceptStatus:2,MatchFollwupStatus:2};scope.Searchfunctionality("DontProceed",MobjViewprofile)},scope.statusalert=function(status){switch(status){case 0:case 3:scope.divmodalbodytoClose="Unfortunately,we are not able to get data,sorry for the inconvenience",alerts.dynamicpopup("PopupDivToclose.html",scope,uibModal,"sm");break;case 4:scope.divmodalbodytoClose="Please upgrade your membership",alerts.dynamicpopup("PopupDivToclose.html",scope,uibModal,"sm");break;case 5:scope.divmodalbodytoClose="Please upgrade your membership(No points)",alerts.dynamicpopup("PopupDivToclose.html",scope,uibModal,"sm");break;case 6:scope.divmodalbodytoClose="You have already Skipped this profile",alerts.dynamicpopup("PopupDivToclose.html",scope,uibModal);break;case 7:scope.modalbodyID1="You cannot Skip Accepted Profile",alerts.dynamicpopup("TabClosePopup.html",scope,uibModal),scope.pagerefersh(scope.ToProfileID),scope.flagopen=1;break;case 8:scope.Reject_paeload();break;case 9:scope.pagerefersh(scope.ToProfileID);break;case 10:scope.modalbodydivContent="You already  "+scope.AccRejFlag+" this Profile ,do you want to continue with these action  accept",alerts.dynamicpopup("PageloadAcceptRejectpopup.html",scope,uibModal),scope.pagerefersh(scope.ToProfileID),scope.flagopen=1;break;case 11:scope.divmodalbodytoClose="This ProfileID not in active",alerts.dynamicpopup("PopupDivToclose.html",scope,uibModal,"sm");break;case 12:scope.divmodalbodytoClose="This ProfileID not in active",alerts.dynamicpopup("PopupDivToclose.html",scope,uibModal,"sm");break;case 13:scope.PopupDivToclosedialog=!0,scope.divmodalbodytoClose="Please verify your primary email id ("+scope.PrimaryEmail+") Inorder to view the complete profile sent ...check for verification email sent to your mail box",alerts.dynamicpopup("PopupDivToclose.html",scope,uibModal,"sm");break;case 14:scope.divmodalbodytoClose="Unfortunately,we are not able to get data,sorry for the inconvenience",alerts.dynamicpopup("PopupDivToclose.html",scope,uibModal,"sm");break;case 15:scope.modalbodyID1="Unfortunately,we are not able to get data,sorry for the inconvenience",alerts.dynamicpopup("TabClosePopup.html",scope,uibModal)}},scope.pageload=function(){customerviewfullprofileservices.getViewFullProfileMail(scope.MyProfileQSAccept).then(function(response){scope.fromcustid=response.data.FromCustID,scope.tocustid=response.data.ToCustID,scope.ToProfileID=response.data.ToProfileID,scope.FromProfileID=response.data.FromProfileID,scope.PrimaryEmail=response.data.PrimaryEmail,scope.AccRejFlag=response.data.AccRejFlag,scope.statusalert(response.data.status)})},scope.acceptlinkexp=function(type,custid){var locallogid=sessionStorage.getItem("locallogid");customerDashboardServices.acceptrejectexpressinterest(scope.custid,custid,locallogid,type,null).then(function(response){1===response.data?scope.$broadcast("showAlertPopupccc","alert-success","Proceed successfully",2500):scope.$broadcast("showAlertPopupccc","alert-danger","sorry Proceed Fail",2500),alerts.dynamicpopupclose()})},scope.photoalbum=function(){scope.headerpopup="Slide show",scope.popupmodalbody=!1,alerts.dynamicpopup("photopopup.html",scope,uibModal)},scope.modalpopupclose1=function(){alerts.dynamicpopupclose()},scope.modalpopupclose=function(){
alerts.dynamicpopupclose()},scope.modalpopupclosetab=function(){window.close()},scope.viewhoroscopeimage=function(){scope.headerpopup="Horoscope",scope.popupmodalbody=!0,scope.personalinfo[0].HoroscopeImage.indexOf(".html")!==-1?(scope.personalinfo[0].HoroscopeImage="http://d16o2fcjgzj2wp.cloudfront.net/Images/HoroscopeImages/"+scope.tocustid+"_HaroscopeImage/"+scope.tocustid+"_HaroscopeImage.html",window.open(scope.personalinfo[0].HoroscopeImage,"_blank")):alerts.dynamicpopup("photopopup.html",scope,uibModal)},scope.btnoksubmit=function(){switch(scope.AccRejFlag){case"MailAccept":scope.Reject_paeload();break;case"MailReject":alerts.dynamicpopup("PageloadAcceptRejectpopup.html",scope,uibModal),scope.pagerefersh(scope.ToProfileID),scope.liticket=!1,scope.liproceed=!0,btnDontProceed.Visible=!1,btnProceed.Visible=!0}},scope.btnProceed_Click=function(typeofbtn){switch(typeofbtn){case"btnProceed":var MobjViewprofile={ExpressInrestID:scope.hdnexpressinterstfiled,CustID:scope.fromcustid,FromCustID:scope.fromcustid,ToCustID:scope.tocustid,AcceptStatus:1,MatchFollwupStatus:1};customerviewfullprofileservices.UpdateExpressIntrestViewfullprofile(MobjViewprofile).then(function(response){switch(response.data){case 1:scope.modalbodyID1="To Move the Match for MatchFollowup";break;case 2:case 3:scope.modalbodyID1="You need to Upgrade online membership";break;default:scope.modalbodyID1="Updation failed please contact admin"}});break;case"btnDontProceed":var MobjViewprofiledont={ExpressInrestID:scope.hdnexpressinterstfiled,CustID:scope.fromcustid,FromCustID:scope.fromcustid,ToCustID:scope.tocustid,AcceptStatus:2,MatchFollwupStatus:2};customerviewfullprofileservices.UpdateExpressIntrestViewfullprofile(MobjViewprofiledont).then(function(response){switch(response.data){case 1:scope.modalbodyID1="Oops go through your search";break;case 2:case 3:scope.modalbodyID1="You need to Upgrade online membership";break;default:scope.modalbodyID1="Updation failed please contact admin"}})}scope.divacceptreject=!0,alerts.dynamicpopup("TabClosePopup.html",scope,uibModal),scope.pagerefersh(scope.ToProfileID)},scope.acceptreject=function(typeofaction){if(null!==scope.tocustid&&null!==scope.tocustid){({FromCustID:scope.fromcustid,ToCustID:scope.tocustid});switch(typeofaction){case"btnaccept":authSvc.paymentstaus(scope.fromcustid,scope).then(function(responsepaid){responsepaid===!0||alerts.timeoutoldalerts(scope,"alert-danger","Please Upgrade Your Membership in order To continue",3e3)});break;case"btnreject":if("UnPaid"==scope.lblpaid)alerts.timeoutoldalerts(scope,"alert-danger","upgrade");else{var MobjViewprofilerej={ExpressInrestID:scope.hdnexpressinterstfiled,CustID:scope.fromcustid,AcceptStatus:2,MatchFollwupStatus:2};scope.Searchfunctionality("DontProceed",MobjViewprofilerej),alerts.timeoutoldalerts(scope,"alert-danger","Your action send sucessfully",3e3)}}}else alerts.timeoutoldalerts(scope,"alert-danger","ExpressInterest failed please contact Admin",3e3)}}]),app.controller("viewFullProfileCustomer",["customerDashboardServices","$scope","alert","authSvc","$injector","$uibModal","successstoriesdata","$timeout","$mdDialog","$stateParams","$location","helperservice","$http",function(customerDashboardServices,scope,alerts,authSvc,$injector,uibModal,successstoriesdata,timeout,$mdDialog,$stateParams,$location,helperservice,$http){var logincustid=authSvc.getCustId(),localcustid=(authSvc.getProfileid(),void 0!==sessionStorage.getItem("localcustid")&&""!==sessionStorage.getItem("localcustid")?sessionStorage.getItem("localcustid"):null);scope.localcustidhide=void 0!==sessionStorage.getItem("localcustid")&&""!==sessionStorage.getItem("localcustid")?sessionStorage.getItem("localcustid"):null;sessionStorage.getItem("locallogid");scope.custid=helperservice.checkstringvalue(logincustid)?logincustid:null,scope.headerpopup="Slide show",scope.popupmodalbody=!1,scope.lnkViewHoro=!0,scope.BookmarkFlag=!0,scope.ViewedFlag=!0,scope.msgflag=!0,scope.IgnoreFlaghide=!0,scope.liproceed=!1,scope.liticket=!1,scope.LoginPhotoIsActive=sessionStorage.getItem("LoginPhotoIsActive"),scope.logidliproceed=scope.custid!==scope.localcustidhide,scope.Bookmark=[],scope.Viewed=[],scope.Express=[],scope.Paidstatus=[],scope.Ignore=[],scope.arr=[],scope.personalinfo={},scope.aboutmyself={},scope.partnerinformation=function(response){_.each(response.data,function(item){var testArr=JSON.parse(item);testArr.length>0&&void 0!==testArr[0].TableName&&"About"===testArr[0].TableName?scope.aboutmyself=testArr:testArr.length>0&&void 0!==testArr[0].TableName&&"Primary"===testArr[0].TableName?(scope.personalinfo=testArr,scope.divclassmask=function(logphotostatus){var photo=scope.personalinfo[0].ApplicationPhotoPath,photocount=scope.personalinfo[0].PhotoName_Cust;return logphotostatus=sessionStorage.getItem("LoginPhotoIsActive"),null!==logincustid&&void 0!==logincustid&&""!==logincustid?successstoriesdata.maskclasspartner(logphotostatus,photo,photocount,logincustid):""}):testArr.length>0&&void 0!==testArr[0].TableName&&scope.arr.push({header:testArr[0].TableName,value:testArr})})},scope.slideshowimages=function(){customerDashboardServices.getphotoslideimages(localcustid).then(function(response){scope.slides=[],_.each(response.data,function(item){scope.slides.push(item)})})},scope.getallflags=function(){return customerDashboardServices.Viewprofileflags(scope.custid,localcustid).then(function(response){_.each(response.data,function(item){var testArr=JSON.parse(item);if(void 0!==testArr[0])switch(testArr[0].TableName){case"Bookmark":scope.Bookmark=testArr,scope.BookmarkFlag=1!==scope.Bookmark[0].BookmarkFlag;break;case"Viewed":scope.Viewed=testArr,scope.BookmarkFlag=scope.BookmarkFlag===!0,scope.IgnoreFlaghide=scope.IgnoreFlaghide===!0,scope.ViewedFlag=!0,scope.msgflag=!0,scope.liproceed=!1,scope.logidliproceed=!1,scope.lnkViewHoro=!0;break;case"Express":scope.Express=testArr,1===scope.Express[0].MatchFollowUpStatus?"Accept"===scope.Express[0].SeenStatus||"Reject"===scope.Express[0].SeenStatus?(scope.liticket=!0,scope.lnkViewHoro=!1,scope.logidliproceed=!1,scope.BookmarkFlag=!1,scope.IgnoreFlaghide=!1,scope.ViewedFlag=!1,scope.msgflag=!1,scope.ViewTickettext=null!==scope.Express[0].ViewTicket&&void 0!==scope.Express[0].ViewTicket?scope.Express[0].ViewTicket:"View Ticket Status"):scope.logidliproceed=!0:1===scope.Express[0].Acceptflag?(null!==scope.custid?(scope.liproceed=!1,scope.logidliproceed=!0):(scope.liproceed=!0,scope.logidliproceed=!1),scope.BookmarkFlag=!1,scope.IgnoreFlaghide=!1,scope.ViewedFlag=!1,scope.msgflag=!1):1===scope.Express[0].ExpressFlag?(null!==scope.custid?scope.logidliproceed=!0:scope.logidliproceed=!1,scope.BookmarkFlag=!1,scope.IgnoreFlaghide=!1,scope.ViewedFlag=!1,scope.msgflag=!1):scope.logidliproceed=!0;break;case"Paidstatus":scope.Paidstatus=testArr;break;case"Ignore":scope.Ignore=testArr,scope.IgnoreFlaghide=1!==scope.Ignore[0].IgnoreFlag}})}),!1},scope.pageload=function(){scope.custid===localcustid?customerDashboardServices.Viewprofile(scope.custid,localcustid,0).then(function(response){scope.slideshowimages(),scope.partnerinformation(response)}):customerDashboardServices.Viewprofile(scope.custid,localcustid,283).then(function(response){scope.slideshowimages(),scope.partnerinformation(response),scope.getallflags()})},scope.servicehttp=function(type,object){return $http.post(app.apiroot+"CustomerService/CustomerServiceBal",object).then(function(response){switch(type){case"B":1===response.data?scope.$broadcast("showAlertPopupccc","alert-success","bookmarked suceessfully",2500):scope.$broadcast("showAlertPopupccc","alert-danger","bookmarked failed",2500);break;case"E":1===response.data?scope.$broadcast("showAlertPopupccc","alert-success","EXpressInterest done SuccessFully",2500):scope.$broadcast("showAlertPopupccc","alert-danger","EXpressInterest Fail",2500);break;case"I":1===response.data?scope.$broadcast("showAlertPopupccc","alert-success","Ignore SuccessFully",2500):scope.$broadcast("showAlertPopupccc","alert-danger","Ignore profile Fail",2500);break;case"M":1===response.data?scope.$broadcast("showAlertPopupccc","alert-success","Message sent SuccessFully",2500):scope.$broadcast("showAlertPopupccc","alert-danger","Message sending Fail",2500)}})},scope.serviceactions=function(type,tocustid,typeofactionflag,profileid,form,logid,MessageHistoryId){var logincustid=authSvc.getCustId(),loginprofileid=authSvc.getProfileid(),object={IFromCustID:logincustid,IToCustID:tocustid,TypeofInsert:type,EncriptedText:null,EncryptedRejectFlagText:null,EncriptedTextrvr:null,EncryptedRejectFlagTextrvr:null,StrHtmlText:void 0!==form?form.message:null,MessageLinkId:void 0!==typeofactionflag?typeofactionflag:null,MessageHistoryId:void 0!==MessageHistoryId?MessageHistoryId:null,Logid:void 0!==logid?logid:null,FromProfileID:loginprofileid,ToProfileID:void 0!==profileid?profileid:null};switch(type){case"E":authSvc.paymentstaus(logincustid,scope).then(function(responsepaid){responsepaid===!0&&scope.servicehttp(type,object)});break;default:scope.servicehttp(type,object)}},scope.sendmessages=function(form){scope.serviceactions("M",scope.messagecustid,void 0,void 0,form,void 0,void 0),alerts.dynamicpopupclose()},scope.sendmessegescommon=function(type,tocustid){scope.modalpopupheadertext="Enter your message here",scope.messagecustid=tocustid,alerts.dynamicpopup("myModalContent.html",scope,uibModal)},scope.acceptlinkexp=function(type,custid){var locallogid=sessionStorage.getItem("locallogid");customerDashboardServices.acceptrejectexpressinterest(scope.custid,custid,locallogid,type,null).then(function(response){1===response.data?scope.$broadcast("showAlertPopupccc","alert-success","Proceed successfully",2500):scope.$broadcast("showAlertPopupccc","alert-danger","sorry Proceed Fail",2500),alerts.dynamicpopupclose()})},scope.photoalbum=function(){scope.headerpopup="Slide show",scope.popupmodalbody=!1,null!==logincustid&&void 0!==logincustid&&""!==logincustid&&alerts.dynamicpopup("photopopup.html",scope,uibModal)},scope.modalpopupclose=function(){alerts.dynamicpopupclose()},scope.viewhoroscopeimage=function(){scope.headerpopup="Horoscope",scope.popupmodalbody=!0,null!==logincustid&&void 0!==logincustid&&""!==logincustid&&(scope.personalinfo[0].HoroscopeImage.indexOf(".html")!==-1?(scope.personalinfo[0].HoroscopeImage="http://d16o2fcjgzj2wp.cloudfront.net/Images/HoroscopeImages/"+logincustid+"_HaroscopeImage/"+logincustid+"_HaroscopeImage.html",window.open(scope.personalinfo[0].HoroscopeImage,"_blank")):alerts.dynamicpopup("photopopup.html",scope,uibModal))},scope.proceeddont=function(typeofbtn,obj){switch(typeofbtn){case"Proceed":customerviewfullprofileservices.UpdateExpressIntrestViewfullprofile(obj).then(function(response){alerts.timeoutoldalerts(scope,"alert-success","Your action send sucessfully",3e3),scope.pageload()});break;case"btnDontProceed":customerviewfullprofileservices.UpdateExpressIntrestViewfullprofile(obj).then(function(response){alerts.timeoutoldalerts(scope,"alert-success","Your action send sucessfully",3e3),scope.pageload()})}scope.divacceptreject=!0,alerts.dynamicpopup("TabClosePopup.html",scope,uibModal),scope.pagerefersh(scope.ToProfileID)},scope.procceddontproceedwilltell=function(type){switch(type){case"Proceed":authSvc.paymentstaus(scope.fromcustid,scope).then(function(responsepaid){if(responsepaid===!0){var MobjViewprofile={ExpressInrestID:scope.Express[0].ExpressInterstId,CustID:scope.custid,FromCustID:scope.custid,ToCustID:localcustid,AcceptStatus:1,MatchFollwupStatus:1};scope.proceeddont("Proceed",MobjViewprofile)}else alerts.timeoutoldalerts(scope,"alert-danger","Please Upgrade Your Membership in order To continue",3e3)});break;case"dont":authSvc.paymentstaus(scope.fromcustid,scope).then(function(responsepaid){if(responsepaid===!0){var MobjViewprofile={ExpressInrestID:scope.Express[0].ExpressInterstId,CustID:scope.custid,FromCustID:scope.custid,ToCustID:localcustid,AcceptStatus:2,MatchFollwupStatus:2};scope.proceeddont("DontProceed",MobjViewprofile)}else alerts.timeoutoldalerts(scope,"alert-danger","Please Upgrade Your Membership in order To continue",3e3)});break;case"tell":authSvc.paymentstaus(scope.fromcustid,scope).then(function(responsepaid){responsepaid===!0?alerts.timeoutoldalerts(scope,"alert-sucess","Your action send sucessfully",3e3):alerts.timeoutoldalerts(scope,"alert-danger","Please Upgrade Your Membership in order To continue",3e3)})}}}]),app.factory("authSvc",["$injector","Idle","alert","$http","route",function($injector,Idle,alerts,$http,route){function setUser(value){setSession("cust.id",value.CustID),setSession("cust.username",value.FirstName+" "+value.LastName),setSession("cust.profileid",value.ProfileID),setSession("cust.paidstatus",value.PaidStatus),setSession("cust.profilepic",value.ProfilePic),setSession("cust.GenderID",value.GenderID),setSession("cust.isemailverified",value.isemailverified),setSession("cust.isnumberverifed",value.isnumberverifed)}function getSession(key){return sessionStorage.getItem(key)}function setSession(key,value){void 0===value||null===value?clearSession(key):sessionStorage.setItem(key,value)}function clearSession(key){sessionStorage.removeItem(key)}function clearUserSession(){clearSession("cust.id"),clearSession("cust.username"),clearSession("cust.profileid"),clearSession("cust.paidstatus"),clearSession("cust.profilepic"),clearSession("cust.GenderID"),clearSession("cust.isemailverified"),clearSession("cust.isnumberverifed"),sessionStorage.removeItem("LoginPhotoIsActive"),sessionStorage.removeItem("homepageobject"),sessionStorage.removeItem("httperrorpopupstatus"),sessionStorage.removeItem("missingStatus"),sessionStorage.removeItem("localcustid")}function getUser(){return{custid:getSession("cust.id"),username:getSession("cust.username"),profileid:getSession("cust.profileid"),paidstatus:getSession("cust.paidstatus"),profilepic:getSession("cust.profilepic"),GenderID:getSession("cust.GenderID"),isemailverified:getSession("cust.isemailverified"),isnumberverifed:getSession("cust.isnumberverifed")}}return{user:function(value){return value&&setUser(value),getUser()},isAuthenticated:function(){return!!getSession("cust.id")},getCustId:function(){return getSession("cust.id")},getProfileid:function(){return getSession("cust.profileid")},getpaidstatus:function(){return getSession("cust.paidstatus")},getprofilepic:function(){return getSession("cust.profilepic")},getGenderID:function(){return getSession("cust.GenderID")},clearUserSessionDetails:function(){return clearUserSession()},logout:function(){clearUserSession(),route.go("home",{})},login:function(username,password){var body={Username:username,Password:password};return $http.post(app.apiroot+"DB/userLogin/person",body).then(function(response){if(200===response.status){if(null!==response.data)return Idle.watch(),{success:!0,response:response.data};alert("Invalid Matrimony ID / E-mail OR Incorrect Password")}return{success:!1,response:response.data}})},paymentstaus:function(custid,scope){return $http.get(app.apiroot+"Payment/getCustomerPaymentStatus",{params:{CustomerCustID:custid}}).then(function(response){if(200===response.status&&null!==response.data&&void 0!==response.data)return"Paid"===response.data||(alerts.timeoutoldalerts(scope,"alert-danger","upgrade",3e3),!1)})}}}]),app.factory("customerDashboardServices",["$http",function(http){return{getCustomercounts:function(custid,typeofaction,frompage,topage,exactflag){return http.get(app.apiroot+"DashboardRequest/DashboardRequestget",{params:{TypeOfReport:typeofaction,pagefrom:frompage,pageto:topage,id:custid,DashboardType:exactflag}})},getcustomerpartnerdata:function(custid,typeofaction,frompage,topage,exactflag){return http.get(app.apiroot+"DashboardRequest/DashboardGetPartnerProfilesRequestget",{params:{TypeOfReport:typeofaction,pagefrom:frompage,pageto:topage,id:custid,DashboardType:exactflag}})},getexpressintersetdata:function(object){return http.post(app.apiroot+"DashboardRequest/ExpressInterestSelectrequest",object)},getCustometDashBoardchats:function(object){return http.get(app.apiroot+"DashboardRequest/getCustometExpressIntrestDashBoardchats",{params:object})},insertcustomerservices:function(object){return http.post(app.apiroot+"CustomerService/CustomerServiceBal",object)},Tickethistory:function(Ticketid,Type){return http.get(app.apiroot+"DashboardRequest/GetTicketinformation",{params:{Ticketid:Ticketid,Type:Type}})},Viewprofile:function(logcustid,tocustid,selfflag){return http.get(app.apiroot+"StaticPages/getCustomerViewfullProfileDetails",{params:{ProfileID:tocustid,CustID:logcustid,RelationshipID:selfflag}})},Viewprofileflags:function(logcustid,tocustid){return http.get(app.apiroot+"StaticPages/getExpressinterstBookmarkIgnore",{params:{loggedcustid:logcustid,ToCustID:tocustid}})},communicationhistorychats:function(obj){return http.post(app.apiroot+"DashboardRequest/DashboardCustometMessagesCount",obj)},acceptrejectexpressinterest:function(fromid,toid,logid,type,empid){return http.get(app.apiroot+"DashboardRequest/getInsertCustomerExpressinterest",{params:{fromcustid:fromid,tocustid:toid,logID:logid,interstTYpe:type,empid:""}})},photopasswordactioninsert:function(fromcustid,tocustid,type){return http.get(app.apiroot+"StaticPages/getPhotopasswordAcceptReject",{params:{FromcustID:91022,TocustID:91035,Accept_Reject:type}})},getprofilegrade:function(custid){return http.get(app.apiroot+"StaticPages/getprofileGrade",{params:{CustID:custid}})},getphotoslideimages:function(custid){return http.get(app.apiroot+"StaticPages/GetPhotoSlideImages",{params:{CustID:custid}})},getNotifications:function(obj){return http.get(app.apiroot+"StaticPages/getCust_NotificationDetails",{params:{Cust_NotificationID:obj.Cust_NotificationID,CustID:obj.CustID,Startindex:obj.Startindex,EndIndex:obj.EndIndex}})}}}]),function(app){app.factory("errorInterceptor",["$rootScope","$q",function($rootScope,$q){return{request:function(config){return $rootScope.loading=!0,config.headers=config.headers||{},config},responseError:function(rejection){return $rootScope.loading=!1,$rootScope.$broadcast("notify-error",rejection),$q.reject(rejection)},response:function(config){$rootScope.loading=!1;var deferred=$q.defer();return deferred.resolve(config),deferred.promise}}}]),app.config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push("errorInterceptor")}])}(window.app),app.factory("feedbacksubmit",["$http",function(http){return{feedbacksubmitinsert:function(object){return http.post(app.apiroot+"StaticPages/CustomerRating_sendMail",object)}}}]),app.factory("forgetPwdservices",["$http",function(http){return{getstatuscustid:function(custid){return http.get(app.apiroot+"StaticPages/getCheckForgotPasswordStatus",{params:{StrCustID:custid}})},getChangePassword:function(custid,Password){return http.get(app.apiroot+"StaticPages/getChangePassword",{params:{StrCustID:custid,Password:Password}})}}}]),app.factory("helpService",["$http",function(http){return{helpSubmit:function(object){return http.post(app.apiroot+"StaticPages/InsertTicketInfo",object)},SendMail:function(object){return http.post(app.apiroot+"StaticPages/SendTicketMail",object)}}}]),app.factory("homepageservices",["authSvc",function(http){return{logininfo:function(){var person={Username:"011046091",Password:"XowIvsTkzINyyKyJrPlmgg=="};return http.post(app.apiroot+"DB/userLogin/person",person)}}}]),app.service("helperservice",function(){this.checkstringvalue=function(value){return null!==value&&""!==value&&void 0!==value},this.checkarraylength=function(value){return null!==value&&""!==value&&void 0!==value&&value.length>0}}),app.factory("missingFieldService",["$http",function(http){return{missingFieldSubmit:function(object){return http.post(app.apiroot+"StaticPages/MissingFieldsupdate_Customerdetails",object)},missingFieldSelect:function(custid){return http.get(app.apiroot+"StaticPages/getdisplayMissingFieldsupdate_Customerdetails",{params:{i_updateflag:0,CustID:custid}})},GetCustStatus:function(custID){return http.get(app.apiroot+"StaticPages/getCustomerfilldata",{params:{CustomerCustID:custID}})}}}]),app.factory("mobileVerificationService",["$http",function(http){return{getmobileverificationData:function(custid){return http.get(app.apiroot+"EmailMobileVerf/EmailMobileVerfRequest",{params:{id:custid}})},verifyMobile:function(VCode,flag,CustContactnumID){return http.get(app.apiroot+"StaticPages/getEmilVerificationCode",{params:{VerificationCode:VCode,i_EmilMobileVerification:flag,CustContactNumbersID:CustContactnumID}})},resendMobileCode:function(obj){return http.get(app.apiroot+"StaticPages/getResendmobile",{params:{iCountryID:obj.iCountryID,iCCode:obj.iCCode,MobileNumber:obj.MobileNumber,CustContactNumbersID:obj.CustContactNumbersID}})},resendEmailLink:function(obj){return http.get(app.apiroot+"StaticPages/getResendEmailVerficationLink",{params:{CustID:obj}})}}}]),app.factory("angularselects",["SelectBindserviceApp","arrayConstants",function(service,cons){return{countrySelect:function(){var Country=[];return service.countrySelect().then(function(response){_.each(response.data,function(item){Country.push({label:item.Name,title:item.Name,value:item.ID})})}),Country},casteselect:function(){var Caste=[];return service.casteselect().then(function(response){_.each(response.data,function(item){Caste.push({label:item.Name,title:item.Name,value:item.ID})})}),Caste},ProfessionGroup:function(){var Professiongroup=[];return service.ProfessionGroup().then(function(response){Professiongroup.push({label:"--select--",title:"--select--",value:0}),_.each(response.data,function(item){Professiongroup.push({label:item.Name,title:item.Name,value:item.ID})})}),Professiongroup},currency:function(){var Currency=[];return service.currency().then(function(response){_.each(response.data,function(item){Currency.push({label:item.Name,title:item.Name,value:item.ID})})}),Currency}}}]),app.factory("ourBranchService",["$http",function(http){return{BranchSelect:function(regionID,BranchId){return BranchId=void 0===BranchId?"":BranchId,http.get(app.apiroot+"StaticPages/getKaakateeyaBranchesDetails",{params:{dependencyName:"BranchesAddress",dependencyValue:regionID,dependencyflagID:BranchId}})},BranchPageloadSelect:function(value){return http.get(app.apiroot+"StaticPages/getKaakateeyaBranchesDetails",{params:{dependencyName:"BranchesAddress",dependencyValue:"",dependencyflagID:""}})}}}]),app.factory("customerProfilesettings",["$http",function(http){return{getprofilesettinginfo:function(custid){return http.get(app.apiroot+"StaticPages/getcustomerProfilesettings",{params:{CustID:custid}})},passwordchange:function(oldpassword,newpassword,confirmpassword,custid){return http.get(app.apiroot+"StaticPages/getUpdatePassword",{params:{OldPassword:oldpassword,NewPassword:newpassword,ConfirmPassword:confirmpassword,custId:custid}})},hideprofile:function(Expirydate,custid,flag){return http.get(app.apiroot+"StaticPages/getInsertcustomerProfilesettings",{params:{Expirydate:Expirydate,CustID:custid,iflag:flag}})},deleteprofile:function(ProfileID,Narrtion){return http.get(app.apiroot+"StaticPages/getInsertcustomerProfilesettings",{params:{ProfileID:ProfileID,Narrtion:Narrtion}})},manageprofiles:function(CustID,AllowEmail,AllowSMS){return http.get(app.apiroot+"StaticPages/getProfilesettingAllowEmailAllowSMS",{params:{CustID:CustID,AllowEmail:AllowEmail,AllowSMS:AllowSMS}})},submitemailmobilesubmit:function(FamilyID,MobileEmail,CountryCodeID,imobileEmailflag){return http.get(app.apiroot+"StaticPages/getProfilesettingEmailMobileChange",{params:{FamilyID:FamilyID,MobileEmail:MobileEmail,CountryCodeID:CountryCodeID,imobileEmailflag:imobileEmailflag}})},getmyorderspayments:function(custid){return http.get(app.apiroot+"StaticPages/getpaymentdetailsmethoddal",{params:{CustID:custid}})},getmysupporttickets:function(obj){return http.post(app.apiroot+"StaticPages/TicketDetails",obj)},getopenticket:function(PageID,ProfileID,TicketID){return http.get(app.apiroot+"StaticPages/getCustomerReopenTicketStatus",{params:{PageID:PageID,ProfileID:ProfileID,TicketID:TicketID}})},forgotpassword:function(emailorprofileid){return http.get(app.apiroot+"StaticPages/getForgotPassword",{params:{Username:emailorprofileid}})}}}]),app.service("route",["$state",function($state){this.go=function(stateName,param){$state.go(stateName,param)}}]),app.factory("searches",["$http",function(http){return{partnerdetails:function(custid,empid,searchresultid){return http.get(app.apiroot+"CustomerSearch/getPartnerpreferencedetails",{params:{CustID:custid,EmpID:empid,searchresultID:searchresultid}})},profileidsearch:function(ProfileIDSearch){return http.post(app.apiroot+"CustomerSearch/CustomerProfileIdsearch",ProfileIDSearch)},CustomerGeneralandAdvancedSearchsubmit:function(obj){return http.post(app.apiroot+"CustomerSearch/CustomerGeneralandAdvancedSearch",obj)},CustomerGeneralandAdvancedSavedSearch:function(obj){return http.post(app.apiroot+"CustomerSearch/CustomerGeneralandAdvancedSavedSearch",obj)},CustomerProfileIDSavedSearch:function(obj){return http.post(app.apiroot+"CustomerSearch/CustomerProfileIDSavedSearch",obj)},savedsearchselectmethod:function(Cust_ID,SaveSearchName,iEditDelete){return http.get(app.apiroot+"CustomerSearch/getSearchResultSaveEdit",{params:{Cust_ID:Cust_ID,SaveSearchName:SaveSearchName,iEditDelete:iEditDelete}})}}}]),app.factory("SelectBindServiceApp",["$http",function(http){return{countrySelect:function(){return http.get(app.apiroot+"Dependency/getCountryDependency",{params:{dependencyName:"",dependencyValue:""}})},Searchcountry:function(){return http.get(app.apiroot+"Dependency/getCountryDependency",{params:{dependencyName:"Searchcountry",dependencyValue:""}})},stateSelect:function(dependencyVal){return http.get(app.apiroot+"Dependency/getCountryDependency",{params:{dependencyName:"state",dependencyValue:dependencyVal}})},districtSelect:function(dependencyVal1){return http.get(app.apiroot+"Dependency/getCountryDependency",{params:{dependencyName:"distric",dependencyValue:dependencyVal1}})},citySelect:function(dependencyVal2){return http.get(app.apiroot+"Dependency/getCountryDependency",{params:{dependencyName:"city",dependencyValue:dependencyVal2}})},EducationCatgory:function(){return http.get(app.apiroot+"Dependency/getEducationDependency",{params:{dependencyName:"",dependencyValue:""}})},EducationGroup:function(dependencyVal2){return http.get(app.apiroot+"Dependency/getEducationDependency",{params:{dependencyName:"educationGroup",dependencyValue:dependencyVal2}})},EducationSpecialisation:function(dependencyVal2){return http.get(app.apiroot+"Dependency/getEducationDependency",{params:{dependencyName:"educationSpeacialisation",dependencyValue:dependencyVal2}})},ProfessionCatgory:function(){return http.get(app.apiroot+"Dependency/getProfessionDependency",{params:{dependencyName:"ProfessionCategory",dependencyValue:""}})},ProfessionGroup:function(){return http.get(app.apiroot+"Dependency/getProfessionDependency",{params:{dependencyName:"",dependencyValue:""}})},ProfessionSpecialisation:function(dependencyVal2){return http.get(app.apiroot+"Dependency/getProfessionDependency",{params:{dependencyName:"ProfessionGroup",dependencyValue:dependencyVal2}})},casteselect:function(){return http.get(app.apiroot+"Dependency/getDropdown_filling_values",{params:{strDropdownname:"CasteName"}})},countryCodeselect:function(){return http.get(app.apiroot+"Dependency/getDropdown_filling_values",{params:{strDropdownname:"CountryCode"}})},currency:function(){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"Currency",dependencyValue:"",dependencyflagID:""}})},SearchCurrency:function(){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"SearchCurrency",dependencyValue:"",dependencyflagID:""}})},stars:function(obj){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"StarType",dependencyValue:obj,dependencyflagID:""}})},castedependency:function(obj1,obj2){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"Caste",dependencyValue:obj1,dependencyflagID:obj2}})},subCasteBind:function(obj1){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"SubCaste",dependencyValue:obj1,dependencyflagID:""}})},branch:function(obj1){return http.get(app.apiroot+"Dependency/getDropdownValues_dependency_injection",{params:{dependencyName:"Region",dependencyValue:obj1,dependencyflagID:""}})}}}]),app.factory("successstoriesdata",["$http",function(http){return{suceessdataget:function(frompage,topage){var person={};return person.successid=null,person.vc_ProfileID=null,person.i_RegionID=null,person.casteiid=null,person.branchrom=null,person.pagefrom=frompage,person.pageto=topage,http.post(app.apiroot+"StaticPages/SuccessStoriesdetails",person)},maskclasspartner:function(logphotostatus,photo,photocount,custid,photostatuslogin){var PhotoMaskDiv,photoclass="";return void 0!==custid&&null!==custid&&""!==custid&&(PhotoMaskDiv="null"!==logphotostatus&&null!==logphotostatus&&photo.indexOf("ApplicationPhoto")!==-1?logphotostatus!==!0&&"true"!==logphotostatus&&photo.indexOf("ApplicationPhoto")!==-1?"cssMaskdivrev clearfix":"":"null"!==logphotostatus&&null!==logphotostatus&&photo.indexOf("ThumbNail")!==-1?logphotostatus!==!0&&"true"!==logphotostatus&&photo.indexOf("ThumbNail")!==-1?"cssMaskdivrev clearfix":"":"null"!==logphotostatus&&null!==logphotostatus||void 0===photostatuslogin||photostatuslogin.toLowerCase().indexOf("_rev")===-1?photo.indexOf("ApplicationPhoto")!==-1||photo.indexOf("ThumbNail")!==-1?"cssMaskdiv clearfix":"":photo.indexOf("ApplicationPhoto")!==-1||photo.indexOf("ThumbNail")!==-1?"cssMaskdivrev clearfix":"","cssMaskdiv clearfix"===PhotoMaskDiv?photoclass="cssMaskdiv clearfix"===PhotoMaskDiv?"cssMaskdiv clearfix Linkdisabled":"":"cssMaskdivrev clearfix"===PhotoMaskDiv?photoclass="cssMaskdivrev clearfix"===PhotoMaskDiv?"cssMaskdivrev clearfix Linkdisabled":"":photo.toLowerCase().indexOf("_rev")!==-1?photoclass="cssMaskdivrev clearfix"===PhotoMaskDiv?"cssMaskdivrev clearfix Linkdisabled":"":photo.indexOf("noimage")!==-1?photoclass="Linkdisabled":photo.indexOf("Password-Protected")!==-1?("cssMaskdiv clearfix"===PhotoMaskDiv?photoclass="cssMaskdiv clearfix Linkdisabled":"cssMaskdivrev clearfix"===PhotoMaskDiv&&(photoclass="cssMaskdivrev clearfix Linkdisabled"),photoclass="Linkdisabled"):photoclass=0===photocount?"Linkdisabled":""),photoclass}}}]),app.factory("myAppFactory",["$http",function(http){return{getData:function(){return http({method:"GET",url:"http://angular-data-grid.github.io/demo/data.json"})},getpayment:function(custid){return http.get(app.apiroot+"Payment/GetPaymentDetails",{params:{CustID:custid}})},sendsms:function(CategoryID,Cust_ID,SendPhonenumber){return http.get(app.apiroot+"StaticPages/getUnpaidMembersOwnerNotification",{params:{CategoryID:CategoryID,Cust_ID:Cust_ID,SendPhonenumber:SendPhonenumber}})},Paymentinsert:function(Mobj){return http.post(app.apiroot+"Payment/InsertPaymentDetails",Mobj)}}}]),app.factory("customerviewfullprofileservices",["$http",function(http){return{getInsertUnpaidStatus:function(custid,tocustid,empid,typeofaction){return http.get(app.apiroot+"StaticPages/getInsertUnpaidStatus",{params:{fromCustID:custid,ToCustID:tocustid,Empid:empid,typeofAction:typeofaction}})},getInsertExpressViewTicket:function(fromcustid,tocustid,decryptedtext,strtypeofreport){return http.get(app.apiroot+"StaticPages/getInsertExpressViewTicket",{params:{FromCustID:fromcustid,ToCustID:tocustid,DecriptedText:decryptedtext,strtypeOfReport:strtypeofreport}})},getExpressIntrstfullprofile:function(fromprofileid,empid){return http.get(app.apiroot+"StaticPages/getExpressIntrstfullprofile",{params:{FromProfileID:fromprofileid,EmpID:empid}})},getExpressinterst_bookmark_ignore_data:function(Loggedcustid,ToCustID){return http.get(app.apiroot+"StaticPages/getExpressinterst_bookmark_ignore_data",{
params:{Loggedcustid:Loggedcustid,ToCustID:ToCustID}})},getViewFullProfileMail:function(OriginalString){return http.get(app.apiroot+"StaticPages/getViewFullProfileMail",{params:{OriginalString:OriginalString}})},UpdateExpressIntrestViewfullprofile:function(obj){return http.post(app.apiroot+"StaticPages/UpdateExpressIntrestViewfullprofile",obj)},getCustomerApplicationErroLog:function(ErrorMessage,CustID,PageName,Type){return http.get(app.apiroot+"StaticPages/getCustomerApplicationErroLog",{params:{ErrorMessage:ErrorMessage,CustID:CustID,PageName:PageName,Type:Type}})}}}]);